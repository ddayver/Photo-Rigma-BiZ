<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Photo-Rigma-BiZ: Исходный файл include/work.php</title>
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo-1.png"/></td>
  <td id="projectalign">
   <div id="projectname">Photo-Rigma-BiZ<span id="projectnumber">&#160;0.4.0</span>
   </div>
   <div id="projectbrief">Gallery_Photo-Rigma-BiZ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dc/d7a/work_8php_source.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">work.php</div></div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d7a/work_8php.html">См. документацию.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>&lt;?php</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span></div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span> </div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span><span class="keyword">namespace </span>PhotoRigma\Classes;</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span> </div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span><span class="comment">// Предотвращение прямого вызова файла</span></div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span><span class="keywordflow">if</span> (!defined(<span class="stringliteral">&#39;IN_GALLERY&#39;</span>) || <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#afc238d5007d9f82f9c59e7d33f7a75c6">IN_GALLERY</a> !== <span class="keyword">true</span>) {</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    error_log(</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        date(<span class="stringliteral">&#39;H:i:s&#39;</span>) .</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>        <span class="stringliteral">&quot; [ERROR] | &quot;</span> .</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>        (filter_input(INPUT_SERVER, <span class="stringliteral">&#39;REMOTE_ADDR&#39;</span>, <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ae07beac783fdab08b691bb38425a6771">FILTER_VALIDATE_IP</a>) ?: <span class="stringliteral">&#39;UNKNOWN_IP&#39;</span>) .</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>        <span class="stringliteral">&quot; | &quot;</span> . __FILE__ . <span class="stringliteral">&quot; | Попытка прямого вызова файла&quot;</span></div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>    );</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>    die(<span class="stringliteral">&quot;HACK!&quot;</span>);</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>}</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span> </div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>use PhotoRigma\Classes\Work_Security;</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>use PhotoRigma\Classes\Work_Image;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>use PhotoRigma\Classes\Work_Template;</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>use PhotoRigma\Classes\Work_Helper;</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>use PhotoRigma\Classes\Work_CoreLogic;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span></div>
<div class="foldopen" id="foldopen00105" data-start="{" data-end="};">
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">  105</a></span><span class="keyword">class </span><a class="code hl_class" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>{</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    <span class="comment">// Свойства:</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">  108</a></span>    <span class="keyword">private</span> array <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$config</a> = []; </div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a18e3eac65d39ced5231d9b3e3630ba75">  109</a></span>    <span class="keyword">private</span> <a class="code hl_interface" href="../../da/d88/interfacePhotoRigma_1_1Classes_1_1Database__Interface.html">Database_Interface</a> <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a18e3eac65d39ced5231d9b3e3630ba75">$db</a>; </div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a82d7359ac20005ddda09f8a9bb46afbe">  110</a></span>    <span class="keyword">private</span> <a class="code hl_class" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html">Work_Security</a> <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a82d7359ac20005ddda09f8a9bb46afbe">$security</a>; </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaa91e6962b68bc0c0896341f680f1770">  111</a></span>    <span class="keyword">private</span> <a class="code hl_class" href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html">Work_Image</a> <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaa91e6962b68bc0c0896341f680f1770">$image</a>; </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aca87a58e031a0d778d2db06aa29601a6">  112</a></span>    <span class="keyword">private</span> <a class="code hl_class" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html">Work_Template</a> <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aca87a58e031a0d778d2db06aa29601a6">$template</a>; </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1302bab9161235940ceaa4221e2be70e">  113</a></span>    <span class="keyword">private</span> <a class="code hl_class" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html">Work_Helper</a> <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1302bab9161235940ceaa4221e2be70e">$helper</a>; </div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8b6a35b7140ba93f44fa12a2247ba8b5">  114</a></span>    <span class="keyword">private</span> <a class="code hl_class" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html">Work_CoreLogic</a> <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8b6a35b7140ba93f44fa12a2247ba8b5">$core_logic</a>; </div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">  115</a></span>    <span class="keyword">private</span> array <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">$lang</a> = []; </div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span></div>
<div class="foldopen" id="foldopen00161" data-start="{" data-end="}">
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aebda93a95626971f99ba32c8ac7b4f30">  161</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aebda93a95626971f99ba32c8ac7b4f30">__construct</a>(<a class="code hl_interface" href="../../da/d88/interfacePhotoRigma_1_1Classes_1_1Database__Interface.html">Database_Interface</a> <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a18e3eac65d39ced5231d9b3e3630ba75">$db</a>, array <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$config</a>)</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>    {</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        $this-&gt;db = <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a18e3eac65d39ced5231d9b3e3630ba75">$db</a>;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        $this-&gt;config = <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$config</a>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>        <span class="comment">// Загружаем конфигурацию из базы данных</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>        $this-&gt;db-&gt;select([<span class="charliteral">&#39;*&#39;</span>], <a class="code hl_variable" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a31ed4ca28158fa3c806e4651efec5f7a">TBL_CONFIG</a>, [<span class="stringliteral">&#39;params&#39;</span> =&gt; []]);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        $result = $this-&gt;db-&gt;res_arr();</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>        <span class="keywordflow">if</span> (is_array($result)) {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>            <span class="keywordflow">foreach</span> ($result as $tmp) {</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>                $this-&gt;config[$tmp[<span class="stringliteral">&#39;name&#39;</span>]] = $tmp[<span class="stringliteral">&#39;value&#39;</span>];</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>            }</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>            <a class="code hl_function" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0">\PhotoRigma\Include\log_in_file</a>(</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span>                __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>                <span class="stringliteral">&quot;Ошибка загрузки конфигурации | Не удалось получить данные из таблицы &quot;</span> . <a class="code hl_variable" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a31ed4ca28158fa3c806e4651efec5f7a">TBL_CONFIG</a></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>            );</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        }</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        <span class="comment">// Инициализация подклассов</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        $this-&gt;helper = <span class="keyword">new</span> <a class="code hl_class" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html">Work_Helper</a>();</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        $this-&gt;security = <span class="keyword">new</span> <a class="code hl_class" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html">Work_Security</a>();</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        $this-&gt;image = <span class="keyword">new</span> <a class="code hl_class" href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html">Work_Image</a>(<a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$config</a>);</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        $this-&gt;<span class="keyword">template</span> = <span class="keyword">new</span> <a class="code hl_class" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html">Work_Template</a>(<a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a18e3eac65d39ced5231d9b3e3630ba75">$db</a>, <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$config</a>);</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>        $this-&gt;core_logic = <span class="keyword">new</span> <a class="code hl_class" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html">Work_CoreLogic</a>(<a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a18e3eac65d39ced5231d9b3e3630ba75">$db</a>, <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$config</a>, $this);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        <span class="comment">// Устанавливаем кодировку для работы с мультибайтовыми строками</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        mb_regex_encoding(<span class="stringliteral">&#39;UTF-8&#39;</span>);</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>    }</div>
</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span></div>
<div class="foldopen" id="foldopen00222" data-start="{" data-end="}">
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a0acd7052f38245fd3723ea29c83bf3f3">  222</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a0acd7052f38245fd3723ea29c83bf3f3">__get</a>(<span class="keywordtype">string</span> $name): array</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>    {</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        <span class="keywordflow">return</span> match ($name) {</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>            <span class="stringliteral">&#39;config&#39;</span> =&gt; <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$this-&gt;config</a>,</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>            <span class="stringliteral">&#39;lang&#39;</span>   =&gt; <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">$this-&gt;lang</a>,</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            <span class="keywordflow">default</span>  =&gt; <span class="keywordflow">throw</span> new \InvalidArgumentException(</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>                __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | Свойство не существует | Получено: &#39;{$name}&#39;&quot;</span></div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>            ),</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        };</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    }</div>
</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span></div>
<div class="foldopen" id="foldopen00278" data-start="{" data-end="}">
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a83c2703c91959192f759992ad5640b67">  278</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a83c2703c91959192f759992ad5640b67">__set</a>($name, $value)</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>    {</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        <span class="keywordflow">if</span> ($name === <span class="stringliteral">&#39;config&#39;</span>) {</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>            <span class="comment">// Проверка, что значение является массивом</span></div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>            <span class="keywordflow">if</span> (!is_array($value)) {</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                <span class="keywordflow">throw</span> new \InvalidArgumentException(</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                    __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>                    <span class="stringliteral">&quot;Некорректный тип значения | Значение config должно быть массивом&quot;</span></div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>                );</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>            }</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>            <span class="comment">// Проверка ключей и значений</span></div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>            <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a> = [];</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>            <span class="keywordflow">foreach</span> ($value as $key =&gt; $val) {</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                <span class="keywordflow">if</span> (!is_string($key)) {</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                    <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>[] = <span class="stringliteral">&quot;Ключ &#39;{$key}&#39; должен быть строкой.&quot;</span>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                }</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                <span class="keywordflow">if</span> (!is_string($val)) {</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>                    <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>[] = <span class="stringliteral">&quot;Значение для ключа &#39;{$key}&#39; должно быть строкой.&quot;</span>;</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>                }</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            }</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            <span class="keywordflow">if</span> (!empty(<a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>)) {</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                <span class="keywordflow">throw</span> new \InvalidArgumentException(</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                    __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                    <span class="stringliteral">&quot;Обнаружены ошибки в конфигурации | Ошибки: &quot;</span> . json_encode(<a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>)</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                );</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>            }</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>            <span class="comment">// Логирование изменений</span></div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>            $exclude_from_logging = [<span class="stringliteral">&#39;language&#39;</span>, <span class="stringliteral">&#39;themes&#39;</span>]; <span class="comment">// Ключи, которые не нужно логировать</span></div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>            $updated_settings = [];</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>            $added_settings = [];</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>            <span class="keywordflow">foreach</span> ($value as $key =&gt; $val) {</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>                <span class="keywordflow">if</span> (in_array($key, $exclude_from_logging)) {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                    <span class="keywordflow">continue</span>; <span class="comment">// Пропускаем логирование для исключённых ключей</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                }</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>                <span class="keywordflow">if</span> (array_key_exists($key, $this-&gt;config)) {</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                    $updated_settings[$key] = $val;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                    $added_settings[$key] = $val;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>                }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            }</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            <span class="keywordflow">if</span> (!empty($updated_settings)) {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>                <a class="code hl_function" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0">\PhotoRigma\Include\log_in_file</a>(</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                    __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                    <span class="stringliteral">&quot;Обновление настроек | Настройки: &quot;</span> . json_encode($updated_settings)</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                );</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>            }</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>            <span class="keywordflow">if</span> (!empty($added_settings)) {</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                <a class="code hl_function" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0">\PhotoRigma\Include\log_in_file</a>(</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                    __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                    <span class="stringliteral">&quot;Добавление настроек | Настройки: &quot;</span> . json_encode($added_settings)</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                );</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>            }</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>            <span class="comment">// Обновляем основной конфиг</span></div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>            $this-&gt;config = $value;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>            <span class="comment">// Передаём конфигурацию в подклассы через магические методы</span></div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>            $this-&gt;image-&gt;config = <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$this-&gt;config</a>;</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            $this-&gt;<span class="keyword">template</span>-&gt;config = <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$this-&gt;config</a>;</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>            $this-&gt;core_logic-&gt;config = <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">$this-&gt;config</a>;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>            <span class="keywordflow">throw</span> new \Exception(</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                <span class="stringliteral">&quot;Несуществующее свойство | Свойство: {$name}&quot;</span></div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            );</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>    }</div>
</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span></div>
<div class="foldopen" id="foldopen00391" data-start="{" data-end="}">
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaf95d95540a3e47c5905a47db3424ed9">  391</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaf95d95540a3e47c5905a47db3424ed9">set_lang</a>(array <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">$lang</a>)</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>    {</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        <span class="keywordflow">if</span> (empty(<a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">$lang</a>)) {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            <span class="keywordflow">throw</span> new \InvalidArgumentException(</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                <span class="stringliteral">&quot;Некорректный массив языковых данных | Массив не должен быть пустым&quot;</span></div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>            );</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        }</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>        <span class="comment">// Проверяем массив на корректность</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>        <span class="comment">// $errors = $this-&gt;validate_array($lang, 4); // Ограничение глубины до 4 уровней</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>        <span class="comment">// if (!empty($errors)) {</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>        <span class="comment">//    throw new \InvalidArgumentException(</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span>        <span class="comment">//        __FILE__ . &quot;:&quot; . __LINE__ . &quot; (&quot; . (__METHOD__ ?: __FUNCTION__ ?: &#39;global&#39;) . &quot;) | &quot; .</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>        <span class="comment">//        &quot;Обнаружены ошибки в массиве языковых данных | Ошибки: &quot; . json_encode($errors)</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>        <span class="comment">//    );</span></div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>        <span class="comment">// }</span></div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>        <span class="comment">// Обрабатываем массив через clean_field</span></div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>        $changes = $this-&gt;<a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3fc2465ff08a31b214f6d708c51090e0">sanitize_array</a>($lang);</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>        <span class="comment">// Логируем изменения, если они есть</span></div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>        <span class="keywordflow">if</span> (!empty($changes)) {</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            <a class="code hl_function" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0">\PhotoRigma\Include\log_in_file</a>(</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>                __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>                <span class="stringliteral">&quot;Очищенные значения | Значения: &quot;</span> . json_encode($changes)</div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            );</div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>        }</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>        <span class="comment">// Передаём языковые данные в свойство и подклассы</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>        $this-&gt;lang = <a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">$lang</a>;</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>        $this-&gt;<span class="keyword">template</span>-&gt;set_lang($lang);</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>        $this-&gt;core_logic-&gt;set_lang(<a class="code hl_variable" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">$lang</a>);</div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>    }</div>
</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span></div>
<div class="foldopen" id="foldopen00456" data-start="{" data-end="}">
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ac632034f4e83ba35a7b3e2124829e0c2">  456</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ac632034f4e83ba35a7b3e2124829e0c2">set_user</a>(<a class="code hl_class" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html">User</a> <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a>)</div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span>    {</div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a> instanceof <a class="code hl_class" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html">User</a>) {</div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno">  459</span>            <span class="keywordflow">throw</span> new \InvalidArgumentException(</div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span>                __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__METHOD__ ?: __FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | &quot;</span> .</div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span>                <span class="stringliteral">&quot;Некорректный тип аргумента | Ожидается объект класса User&quot;</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span>            );</div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span>        }</div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span>        $this-&gt;<span class="keyword">template</span>-&gt;set_user($user);</div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span>        $this-&gt;core_logic-&gt;set_user(<a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#a598ca4e71b15a1313ec95f0df1027ca5">$user</a>);</div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span>    }</div>
</div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span> </div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span>    <span class="comment">// Устаревшие методы, будут удалены в ближайших версиях.</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span></div>
<div class="foldopen" id="foldopen00513" data-start="{" data-end="}">
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aeb13fee613cd87923546463495400380">  513</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aeb13fee613cd87923546463495400380">check_post</a>(<span class="keywordtype">string</span> $field, <span class="keywordtype">bool</span> $isset = <span class="keyword">false</span>, <span class="keywordtype">bool</span> $empty = <span class="keyword">false</span>, <span class="keywordtype">string</span>|<span class="keyword">false</span> $regexp = <span class="keyword">false</span>, <span class="keywordtype">bool</span> $not_zero = <span class="keyword">false</span>): bool</div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span>    {</div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;check_input($_POST, $field, [</div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span>            <span class="stringliteral">&#39;isset&#39;</span> =&gt; $isset,</div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span>            <span class="stringliteral">&#39;empty&#39;</span> =&gt; $empty,</div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span>            <span class="stringliteral">&#39;regexp&#39;</span> =&gt; $regexp,</div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span>            <span class="stringliteral">&#39;not_zero&#39;</span> =&gt; $not_zero,</div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span>        ]);</div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span>    }</div>
</div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span></div>
<div class="foldopen" id="foldopen00566" data-start="{" data-end="}">
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a2274d881c2d51e38c452a2ebaacaa9e7">  566</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a2274d881c2d51e38c452a2ebaacaa9e7">check_get</a>(<span class="keywordtype">string</span> $field, <span class="keywordtype">bool</span> $isset = <span class="keyword">false</span>, <span class="keywordtype">bool</span> $empty = <span class="keyword">false</span>, <span class="keywordtype">string</span>|<span class="keyword">false</span> $regexp = <span class="keyword">false</span>, <span class="keywordtype">bool</span> $not_zero = <span class="keyword">false</span>): bool</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>    {</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;check_input($_GET, $field, [</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>            <span class="stringliteral">&#39;isset&#39;</span> =&gt; $isset,</div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>            <span class="stringliteral">&#39;empty&#39;</span> =&gt; $empty,</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>            <span class="stringliteral">&#39;regexp&#39;</span> =&gt; $regexp,</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>            <span class="stringliteral">&#39;not_zero&#39;</span> =&gt; $not_zero,</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>        ]);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>    }</div>
</div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span></div>
<div class="foldopen" id="foldopen00619" data-start="{" data-end="}">
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a66530d233d955a715024b02a75043179">  619</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a66530d233d955a715024b02a75043179">check_session</a>(<span class="keywordtype">string</span> $field, <span class="keywordtype">bool</span> $isset = <span class="keyword">false</span>, <span class="keywordtype">bool</span> $empty = <span class="keyword">false</span>, <span class="keywordtype">string</span>|<span class="keyword">false</span> $regexp = <span class="keyword">false</span>, <span class="keywordtype">bool</span> $not_zero = <span class="keyword">false</span>): bool</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>    {</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;check_input($_SESSION, $field, [</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>            <span class="stringliteral">&#39;isset&#39;</span> =&gt; $isset,</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>            <span class="stringliteral">&#39;empty&#39;</span> =&gt; $empty,</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>            <span class="stringliteral">&#39;regexp&#39;</span> =&gt; $regexp,</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span>            <span class="stringliteral">&#39;not_zero&#39;</span> =&gt; $not_zero,</div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>        ]);</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    }</div>
</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span> </div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    <span class="comment">// Методы из под-класса Work_Security.</span></div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span></div>
<div class="foldopen" id="foldopen00662" data-start="{" data-end="}">
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1e1a4ab6b213ada0d89c77a24d8ffe32">  662</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1e1a4ab6b213ada0d89c77a24d8ffe32">url_check</a>(): bool</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>    {</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;url_check();</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span>    }</div>
</div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span></div>
<div class="foldopen" id="foldopen00719" data-start="{" data-end="}">
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a6e6ea2a212c3c2dee206a1753b673b7d">  719</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a6e6ea2a212c3c2dee206a1753b673b7d">check_input</a>(<span class="keywordtype">string</span> $source_name, <span class="keywordtype">string</span> $field, array $options = []): bool</div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    {</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;check_input($source_name, $field, $options);</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span>    }</div>
</div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span></div>
<div class="foldopen" id="foldopen00768" data-start="{" data-end="}">
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a7fd7e97a953487a9422281b97bd6f083">  768</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a7fd7e97a953487a9422281b97bd6f083">check_field</a>(<span class="keywordtype">string</span> $field, <span class="keywordtype">string</span>|<span class="keyword">false</span> $regexp = <span class="keyword">false</span>, <span class="keywordtype">bool</span> $not_zero = <span class="keyword">false</span>): bool</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>    {</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;check_field($field, $regexp, $not_zero);</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>    }</div>
</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span></div>
<div class="foldopen" id="foldopen00802" data-start="{" data-end="}">
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a19ab20c34a49c9684a03c09c62f8af46">  802</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a19ab20c34a49c9684a03c09c62f8af46">gen_captcha</a>(): array</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>    {</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;gen_captcha();</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>    }</div>
</div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span></div>
<div class="foldopen" id="foldopen00840" data-start="{" data-end="}">
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a4289bbbeca07e599a9366a812d069972">  840</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a4289bbbeca07e599a9366a812d069972">filt_email</a>(<span class="keywordtype">string</span> $email): string</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>    {</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>        <span class="keywordflow">return</span> $this-&gt;security-&gt;filt_email($email);</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>    }</div>
</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span> </div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>    <span class="comment">// Методы из под-класса Work_CoreLogic.</span></div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span></div>
<div class="foldopen" id="foldopen00897" data-start="{" data-end="}">
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a4dfb943f9b750ec6e1e2924a9620c7f5">  897</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a4dfb943f9b750ec6e1e2924a9620c7f5">category</a>(<span class="keywordtype">int</span> $cat_id = 0, <span class="keywordtype">int</span> $user_flag = 0): array</div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span>    {</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>        <span class="keywordflow">return</span> $this-&gt;core_logic-&gt;category($cat_id, $user_flag);</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>    }</div>
</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span></div>
<div class="foldopen" id="foldopen00951" data-start="{" data-end="}">
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a84a1eeee53079a8e60fea1d1e0d94639">  951</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a84a1eeee53079a8e60fea1d1e0d94639">del_photo</a>(<span class="keywordtype">int</span> $photo_id): bool</div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span>    {</div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span>        <span class="keywordflow">return</span> $this-&gt;core_logic-&gt;del_photo($photo_id);</div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span>    }</div>
</div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span></div>
<div class="foldopen" id="foldopen01009" data-start="{" data-end="}">
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#abfa7c6c53ae460403a3d0b3923e71a90"> 1009</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#abfa7c6c53ae460403a3d0b3923e71a90">news</a>(<span class="keywordtype">int</span> $news_id_or_limit, <span class="keywordtype">string</span> $act): array</div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>    {</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>        <span class="keywordflow">return</span> $this-&gt;core_logic-&gt;news($news_id_or_limit, $act);</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>    }</div>
</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span></div>
<div class="foldopen" id="foldopen01054" data-start="{" data-end="}">
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9c2ee4da4bf10547c3aff7296d707c66"> 1054</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9c2ee4da4bf10547c3aff7296d707c66">get_languages</a>(): array</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>    {</div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>        <span class="keywordflow">return</span> $this-&gt;core_logic-&gt;get_languages();</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>    }</div>
</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span></div>
<div class="foldopen" id="foldopen01097" data-start="{" data-end="}">
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8d2f43c00af0c9574caa0455df82c613"> 1097</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8d2f43c00af0c9574caa0455df82c613">get_themes</a>(): array</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>    {</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>        <span class="keywordflow">return</span> $this-&gt;core_logic-&gt;get_themes();</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>    }</div>
</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span></div>
<div class="foldopen" id="foldopen01169" data-start="{" data-end="}">
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a930a20fbdd1b0e274b7e648d966516c5"> 1169</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a930a20fbdd1b0e274b7e648d966516c5">create_photo</a>(<span class="keywordtype">string</span> $type = <span class="stringliteral">&#39;top&#39;</span>, <span class="keywordtype">int</span> $id_photo = 0): array</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>    {</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span>        <span class="keywordflow">return</span> $this-&gt;core_logic-&gt;create_photo($type, $id_photo);</div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>    }</div>
</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span> </div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>    <span class="comment">// Методы из под-класса Work_Template.</span></div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span></div>
<div class="foldopen" id="foldopen01226" data-start="{" data-end="}">
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#af970fc714c16e27d2d60d698522a8504"> 1226</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#af970fc714c16e27d2d60d698522a8504">create_menu</a>(<span class="keywordtype">string</span> <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#aa698a3e72116e8e778be0e95d908ee30">$action</a>, <span class="keywordtype">int</span> $menu): array</div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span>    {</div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span>        <span class="keywordflow">return</span> $this-&gt;<span class="keyword">template</span>-&gt;create_menu($action, $menu);</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>    }</div>
</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span></div>
<div class="foldopen" id="foldopen01280" data-start="{" data-end="}">
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1f3df8874c79377e6a8b4398ea6ad774"> 1280</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1f3df8874c79377e6a8b4398ea6ad774">template_user</a>(): array</div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span>    {</div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span>        <span class="keywordflow">return</span> $this-&gt;<span class="keyword">template</span>-&gt;template_user();</div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span>    }</div>
</div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span></div>
<div class="foldopen" id="foldopen01336" data-start="{" data-end="}">
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a116ebcf799d07566a74e7e765aecc1b7"> 1336</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a116ebcf799d07566a74e7e765aecc1b7">template_stat</a>(): array</div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>    {</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>        <span class="keywordflow">return</span> $this-&gt;<span class="keyword">template</span>-&gt;template_stat();</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>    }</div>
</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span></div>
<div class="foldopen" id="foldopen01385" data-start="{" data-end="}">
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9143fed87a3064985e0b51fe5fbb4ac3"> 1385</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9143fed87a3064985e0b51fe5fbb4ac3">template_best_user</a>(<span class="keywordtype">int</span> $best_user = 1): array</div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span>    {</div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span>        <span class="keywordflow">return</span> $this-&gt;<span class="keyword">template</span>-&gt;template_best_user($best_user);</div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span>    }</div>
</div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span> </div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span>    <span class="comment">// Методы из под-класса Work_Image.</span></div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span></div>
<div class="foldopen" id="foldopen01428" data-start="{" data-end="}">
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a096b7e5c3f9fb908fbb30e1adc2ac61b"> 1428</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a096b7e5c3f9fb908fbb30e1adc2ac61b">size_image</a>(<span class="keywordtype">string</span> $path_image): array</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>    {</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>        <span class="keywordflow">return</span> $this-&gt;image-&gt;size_image($path_image);</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>    }</div>
</div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span></div>
<div class="foldopen" id="foldopen01476" data-start="{" data-end="}">
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#af37eb2b0693905dd71dd677f86d47831"> 1476</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#af37eb2b0693905dd71dd677f86d47831">image_resize</a>(<span class="keywordtype">string</span> $full_path, <span class="keywordtype">string</span> $thumbnail_path): bool</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>    {</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>        <span class="keywordflow">return</span> $this-&gt;image-&gt;image_resize($full_path, $thumbnail_path);</div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>    }</div>
</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span></div>
<div class="foldopen" id="foldopen01518" data-start="{" data-end="}">
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#adfcd1cb7963a860013ca9ca1898f54f1"> 1518</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#adfcd1cb7963a860013ca9ca1898f54f1">no_photo</a>(): array</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>    {</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span>        <span class="keywordflow">return</span> $this-&gt;image-&gt;no_photo();</div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>    }</div>
</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span></div>
<div class="foldopen" id="foldopen01558" data-start="{" data-end="}">
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aeabe138e0704bd8403da0faf894ad0df"> 1558</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aeabe138e0704bd8403da0faf894ad0df">image_attach</a>(<span class="keywordtype">string</span> $full_path, <span class="keywordtype">string</span> $name_file): void</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>    {</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>        $this-&gt;image-&gt;image_attach($full_path, $name_file);</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span>    }</div>
</div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span></div>
<div class="foldopen" id="foldopen01600" data-start="{" data-end="}">
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a89d4e7cb491d0c91282d16ff5abe3138"> 1600</a></span>    <span class="keyword">public</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a89d4e7cb491d0c91282d16ff5abe3138">fix_file_extension</a>(<span class="keywordtype">string</span> $full_path): string</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>    {</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>        <span class="keywordflow">return</span> $this-&gt;image-&gt;fix_file_extension($full_path);</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>    }</div>
</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span> </div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>    <span class="comment">// Статические методы из под-класса Work_Helper.</span></div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span></div>
<div class="foldopen" id="foldopen01635" data-start="{" data-end="}">
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab73ba07b8376dd2e1764240c73a338ea"> 1635</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab73ba07b8376dd2e1764240c73a338ea">clean_field</a>($field): ?string</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>    {</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ab73ba07b8376dd2e1764240c73a338ea">Work_Helper::clean_field</a>($field);</div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>    }</div>
</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span></div>
<div class="foldopen" id="foldopen01682" data-start="{" data-end="}">
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a08089badb76485629afe2c4d9f766a30"> 1682</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a08089badb76485629afe2c4d9f766a30">return_bytes</a>($val): int</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>    {</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a08089badb76485629afe2c4d9f766a30">Work_Helper::return_bytes</a>($val);</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>    }</div>
</div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span></div>
<div class="foldopen" id="foldopen01723" data-start="{" data-end="}">
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e"> 1723</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e">encodename</a>(<span class="keywordtype">string</span> $string): string</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span>    {</div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>($string);</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    }</div>
</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span></div>
<div class="foldopen" id="foldopen01780" data-start="{" data-end="}">
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712"> 1780</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712">ubb</a>(<span class="keywordtype">string</span> $text): string</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>    {</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper::ubb</a>($text);</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>    }</div>
</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span></div>
<div class="foldopen" id="foldopen01837" data-start="{" data-end="}">
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32"> 1837</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32">utf8_wordwrap</a>(<span class="keywordtype">string</span> $str, <span class="keywordtype">int</span> $width = 70, <span class="keywordtype">string</span> $break = PHP_EOL): string</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>    {</div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper::utf8_wordwrap</a>($str, $width, $break);</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>    }</div>
</div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span></div>
<div class="foldopen" id="foldopen01881" data-start="{" data-end="}">
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff"> 1881</a></span>    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff">validate_mime_type</a>(<span class="keywordtype">string</span> $real_mime_type): bool</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>    {</div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a41518918c225073130bc7a73983d72ff">Work_Helper::validate_mime_type</a>($real_mime_type);</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>    }</div>
</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span> </div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>    <span class="comment">// Внутренние методы класса Work.</span></div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span></div>
<div class="foldopen" id="foldopen01935" data-start="{" data-end="}">
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9bdfa510d626dd97616fb1e1bdb4d8c6"> 1935</a></span>    <span class="keyword">private</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9bdfa510d626dd97616fb1e1bdb4d8c6">validate_array</a>(array $array, <span class="keywordtype">int</span> $max_depth, <span class="keywordtype">int</span> $current_depth = 1): array</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>    {</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>        <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a> = [];</div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span>        <span class="keywordflow">foreach</span> ($array as $key =&gt; $value) {</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>            <span class="keywordflow">if</span> (!is_string($key)) {</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>                <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>[] = <span class="stringliteral">&quot;Ключ &#39;{$key}&#39; на уровне {$current_depth} должен быть строкой.&quot;</span>;</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>            }</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>            <span class="keywordflow">if</span> (is_array($value)) {</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>                <span class="keywordflow">if</span> ($current_depth &gt;= $max_depth) {</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>                    <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>[] = <span class="stringliteral">&quot;Глубина массива превышает допустимое значение ({$max_depth}).&quot;</span>;</div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span>                    $nested_errors = $this-&gt;<a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9bdfa510d626dd97616fb1e1bdb4d8c6">validate_array</a>($value, $max_depth, $current_depth + 1);</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>                    <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a> = array_merge(<a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>, $nested_errors);</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>                }</div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>            } elseif (!is_string($value)) {</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>                <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>[] = <span class="stringliteral">&quot;Значение для ключа &#39;{$key}&#39; на уровне {$current_depth} должно быть строкой.&quot;</span>;</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>            }</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>        }</div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a>;</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>    }</div>
</div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span></div>
<div class="foldopen" id="foldopen02007" data-start="{" data-end="}">
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"><a class="line" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3fc2465ff08a31b214f6d708c51090e0"> 2007</a></span>    <span class="keyword">private</span> <span class="keyword">function</span> <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3fc2465ff08a31b214f6d708c51090e0">sanitize_array</a>(array $array): array</div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span>    {</div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span>        $changes = [];</div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span>        <span class="keywordflow">foreach</span> ($array as $key =&gt; &amp;$value) {</div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span>            <span class="keywordflow">if</span> (is_array($value)) {</div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span>                $nested_changes = $this-&gt;<a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3fc2465ff08a31b214f6d708c51090e0">sanitize_array</a>($value);</div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span>                $changes = array_merge($changes, $nested_changes);</div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span>            } elseif (is_string($value)) {</div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span>                $original_value = $value;</div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span>                $cleaned_value = <a class="code hl_function" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab73ba07b8376dd2e1764240c73a338ea">Work::clean_field</a>($value);</div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span>                <span class="keywordflow">if</span> ($original_value !== $cleaned_value) {</div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span>                    $changes[<span class="stringliteral">&quot;{$key}&quot;</span>] = [</div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span>                        <span class="stringliteral">&#39;original&#39;</span> =&gt; $original_value,</div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span>                        <span class="stringliteral">&#39;cleaned&#39;</span> =&gt; $cleaned_value,</div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span>                    ];</div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span>                    $value = $cleaned_value;</div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span>                }</div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span>            }</div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span>        }</div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span>        <span class="keywordflow">return</span> $changes;</div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span>    }</div>
</div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span>}</div>
</div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1User_html"><div class="ttname"><a href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html">PhotoRigma\Classes\User</a></div><div class="ttdoc">Класс по работе с пользователями и хранению данных о текущем пользователе.</div><div class="ttdef"><b>Определения</b> <a href="../../d1/d1a/user_8php_source.html#l00167">user.php:168</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__CoreLogic_html"><div class="ttname"><a href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html">PhotoRigma\Classes\Work_CoreLogic</a></div><div class="ttdoc">Класс, реализующий интерфейс Work_CoreLogic_Interface для выполнения базовой логики приложения.</div><div class="ttdef"><b>Определения</b> <a href="../../dd/d79/work__corelogic_8php_source.html#l00446">work_corelogic.php:447</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html"><div class="ttname"><a href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html">PhotoRigma\Classes\Work_Helper</a></div><div class="ttdoc">Класс для вспомогательных методов.</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00380">work_helper.php:381</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a08089badb76485629afe2c4d9f766a30"><div class="ttname"><a href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a08089badb76485629afe2c4d9f766a30">PhotoRigma\Classes\Work_Helper\return_bytes</a></div><div class="ttdeci">static return_bytes($val)</div><div class="ttdoc">Преобразование размера в байты (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00461">work_helper.php:461</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a3163f8e7d71cad9003bf5b3efe644712"><div class="ttname"><a href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712">PhotoRigma\Classes\Work_Helper\ubb</a></div><div class="ttdeci">static ubb(string $text)</div><div class="ttdoc">Преобразование BBCode в HTML (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00560">work_helper.php:560</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a41518918c225073130bc7a73983d72ff"><div class="ttname"><a href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a41518918c225073130bc7a73983d72ff">PhotoRigma\Classes\Work_Helper\validate_mime_type</a></div><div class="ttdeci">static validate_mime_type(string $real_mime_type)</div><div class="ttdoc">Проверка MIME-типа файла через доступные библиотеки (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00652">work_helper.php:652</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_aa76be87bb05ca60ff16f6d47f5a44c32"><div class="ttname"><a href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#aa76be87bb05ca60ff16f6d47f5a44c32">PhotoRigma\Classes\Work_Helper\utf8_wordwrap</a></div><div class="ttdeci">static utf8_wordwrap(string $str, int $width=70, string $break=PHP_EOL)</div><div class="ttdoc">Разбивка строки на несколько строк ограниченной длины (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00608">work_helper.php:608</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_ab73ba07b8376dd2e1764240c73a338ea"><div class="ttname"><a href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ab73ba07b8376dd2e1764240c73a338ea">PhotoRigma\Classes\Work_Helper\clean_field</a></div><div class="ttdeci">static clean_field($field)</div><div class="ttdoc">Очистка строки от HTML-тегов и специальных символов (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00410">work_helper.php:410</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_ad9ac814e0001840a4cdbf826d0d6e53e"><div class="ttname"><a href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ad9ac814e0001840a4cdbf826d0d6e53e">PhotoRigma\Classes\Work_Helper\encodename</a></div><div class="ttdeci">static encodename(string $string)</div><div class="ttdoc">Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00505">work_helper.php:505</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Image_html"><div class="ttname"><a href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html">PhotoRigma\Classes\Work_Image</a></div><div class="ttdoc">Класс для работы с изображениями.</div><div class="ttdef"><b>Определения</b> <a href="../../de/d67/work__image_8php_source.html#l00321">work_image.php:322</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Security_html"><div class="ttname"><a href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html">PhotoRigma\Classes\Work_Security</a></div><div class="ttdoc">Класс для обеспечения безопасности приложения.</div><div class="ttdef"><b>Определения</b> <a href="../../d6/dc1/work__security_8php_source.html#l00318">work_security.php:319</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Template_html"><div class="ttname"><a href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html">PhotoRigma\Classes\Work_Template</a></div><div class="ttdoc">Класс Work_Template отвечает за формирование данных для шаблонов.</div><div class="ttdef"><b>Определения</b> <a href="../../d9/d2a/work__template_8php_source.html#l00328">work_template.php:329</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a></div><div class="ttdef"><b>Определения</b> <a href="#l00105">work.php:106</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a08089badb76485629afe2c4d9f766a30"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a08089badb76485629afe2c4d9f766a30">PhotoRigma\Classes\Work\return_bytes</a></div><div class="ttdeci">static return_bytes($val)</div><div class="ttdoc">Преобразование размера в байты.</div><div class="ttdef"><b>Определения</b> <a href="#l01682">work.php:1682</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a096b7e5c3f9fb908fbb30e1adc2ac61b"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a096b7e5c3f9fb908fbb30e1adc2ac61b">PhotoRigma\Classes\Work\size_image</a></div><div class="ttdeci">size_image(string $path_image)</div><div class="ttdoc">Вычисляет размеры для вывода эскиза изображения.</div><div class="ttdef"><b>Определения</b> <a href="#l01428">work.php:1428</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a0acd7052f38245fd3723ea29c83bf3f3"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a0acd7052f38245fd3723ea29c83bf3f3">PhotoRigma\Classes\Work\__get</a></div><div class="ttdeci">__get(string $name)</div><div class="ttdoc">Магический метод для получения значений свойств $config и $lang.</div><div class="ttdef"><b>Определения</b> <a href="#l00222">work.php:222</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a116ebcf799d07566a74e7e765aecc1b7"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a116ebcf799d07566a74e7e765aecc1b7">PhotoRigma\Classes\Work\template_stat</a></div><div class="ttdeci">template_stat()</div><div class="ttdoc">Генерирует массив статистических данных для шаблона.</div><div class="ttdef"><b>Определения</b> <a href="#l01336">work.php:1336</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a1302bab9161235940ceaa4221e2be70e"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1302bab9161235940ceaa4221e2be70e">PhotoRigma\Classes\Work\$helper</a></div><div class="ttdeci">Work_Helper $helper</div><div class="ttdoc">Объект для очистки строк, преобразования размеров и проверки MIME-типов.</div><div class="ttdef"><b>Определения</b> <a href="#l00113">work.php:113</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a18e3eac65d39ced5231d9b3e3630ba75"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a18e3eac65d39ced5231d9b3e3630ba75">PhotoRigma\Classes\Work\$db</a></div><div class="ttdeci">Database_Interface $db</div><div class="ttdoc">Объект для работы с базой данных.</div><div class="ttdef"><b>Определения</b> <a href="#l00109">work.php:109</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a19ab20c34a49c9684a03c09c62f8af46"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a19ab20c34a49c9684a03c09c62f8af46">PhotoRigma\Classes\Work\gen_captcha</a></div><div class="ttdeci">gen_captcha()</div><div class="ttdoc">Генерирует математический CAPTCHA-вопрос и ответ.</div><div class="ttdef"><b>Определения</b> <a href="#l00802">work.php:802</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a1e1a4ab6b213ada0d89c77a24d8ffe32"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1e1a4ab6b213ada0d89c77a24d8ffe32">PhotoRigma\Classes\Work\url_check</a></div><div class="ttdeci">url_check()</div><div class="ttdoc">Проверяет URL на наличие вредоносного кода.</div><div class="ttdef"><b>Определения</b> <a href="#l00662">work.php:662</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a1f3df8874c79377e6a8b4398ea6ad774"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1f3df8874c79377e6a8b4398ea6ad774">PhotoRigma\Classes\Work\template_user</a></div><div class="ttdeci">template_user()</div><div class="ttdoc">Формирование блока пользователя.</div><div class="ttdef"><b>Определения</b> <a href="#l01280">work.php:1280</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a2274d881c2d51e38c452a2ebaacaa9e7"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a2274d881c2d51e38c452a2ebaacaa9e7">PhotoRigma\Classes\Work\check_get</a></div><div class="ttdeci">check_get(string $field, bool $isset=false, bool $empty=false, string|false $regexp=false, bool $not_zero=false)</div><div class="ttdoc">Метод-редирект для проверки данных из GET-запроса.</div><div class="ttdef"><b>Определения</b> <a href="#l00566">work.php:566</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a3163f8e7d71cad9003bf5b3efe644712"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712">PhotoRigma\Classes\Work\ubb</a></div><div class="ttdeci">static ubb(string $text)</div><div class="ttdoc">Преобразование BBCode в HTML.</div><div class="ttdef"><b>Определения</b> <a href="#l01780">work.php:1780</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a3fc2465ff08a31b214f6d708c51090e0"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3fc2465ff08a31b214f6d708c51090e0">PhotoRigma\Classes\Work\sanitize_array</a></div><div class="ttdeci">sanitize_array(array $array)</div><div class="ttdoc">Рекурсивная обработка массива для безопасного вывода через HTML.</div><div class="ttdef"><b>Определения</b> <a href="#l02007">work.php:2007</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a41518918c225073130bc7a73983d72ff"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff">PhotoRigma\Classes\Work\validate_mime_type</a></div><div class="ttdeci">static validate_mime_type(string $real_mime_type)</div><div class="ttdoc">Проверка MIME-типа файла через доступные библиотеки.</div><div class="ttdef"><b>Определения</b> <a href="#l01881">work.php:1881</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a4289bbbeca07e599a9366a812d069972"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a4289bbbeca07e599a9366a812d069972">PhotoRigma\Classes\Work\filt_email</a></div><div class="ttdeci">filt_email(string $email)</div><div class="ttdoc">Заменяет символы в email-адресах для &quot;обмана&quot; ботов.</div><div class="ttdef"><b>Определения</b> <a href="#l00840">work.php:840</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a4dfb943f9b750ec6e1e2924a9620c7f5"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a4dfb943f9b750ec6e1e2924a9620c7f5">PhotoRigma\Classes\Work\category</a></div><div class="ttdeci">category(int $cat_id=0, int $user_flag=0)</div><div class="ttdoc">Формирует информационную строку для категории или пользовательского альбома.</div><div class="ttdef"><b>Определения</b> <a href="#l00897">work.php:897</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a66530d233d955a715024b02a75043179"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a66530d233d955a715024b02a75043179">PhotoRigma\Classes\Work\check_session</a></div><div class="ttdeci">check_session(string $field, bool $isset=false, bool $empty=false, string|false $regexp=false, bool $not_zero=false)</div><div class="ttdoc">Метод-редирект для проверки данных из сессии.</div><div class="ttdef"><b>Определения</b> <a href="#l00619">work.php:619</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a6e6ea2a212c3c2dee206a1753b673b7d"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a6e6ea2a212c3c2dee206a1753b673b7d">PhotoRigma\Classes\Work\check_input</a></div><div class="ttdeci">check_input(string $source_name, string $field, array $options=[])</div><div class="ttdoc">Универсальная проверка входных данных.</div><div class="ttdef"><b>Определения</b> <a href="#l00719">work.php:719</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a7fd7e97a953487a9422281b97bd6f083"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a7fd7e97a953487a9422281b97bd6f083">PhotoRigma\Classes\Work\check_field</a></div><div class="ttdeci">check_field(string $field, string|false $regexp=false, bool $not_zero=false)</div><div class="ttdoc">Проверяет содержимое поля на соответствие регулярному выражению или другим условиям.</div><div class="ttdef"><b>Определения</b> <a href="#l00768">work.php:768</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a82d7359ac20005ddda09f8a9bb46afbe"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a82d7359ac20005ddda09f8a9bb46afbe">PhotoRigma\Classes\Work\$security</a></div><div class="ttdeci">Work_Security $security</div><div class="ttdoc">Объект для работы с безопасностью.</div><div class="ttdef"><b>Определения</b> <a href="#l00110">work.php:110</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a83c2703c91959192f759992ad5640b67"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a83c2703c91959192f759992ad5640b67">PhotoRigma\Classes\Work\__set</a></div><div class="ttdeci">__set($name, $value)</div><div class="ttdoc">Устанавливает значение свойства $config.</div><div class="ttdef"><b>Определения</b> <a href="#l00278">work.php:278</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a84a1eeee53079a8e60fea1d1e0d94639"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a84a1eeee53079a8e60fea1d1e0d94639">PhotoRigma\Classes\Work\del_photo</a></div><div class="ttdeci">del_photo(int $photo_id)</div><div class="ttdoc">Удаляет изображение с указанным идентификатором, а также все упоминания об этом изображении в таблица...</div><div class="ttdef"><b>Определения</b> <a href="#l00951">work.php:951</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a89d4e7cb491d0c91282d16ff5abe3138"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a89d4e7cb491d0c91282d16ff5abe3138">PhotoRigma\Classes\Work\fix_file_extension</a></div><div class="ttdeci">fix_file_extension(string $full_path)</div><div class="ttdoc">Корректировка расширения файла в соответствии с его MIME-типом.</div><div class="ttdef"><b>Определения</b> <a href="#l01600">work.php:1600</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a8b6a35b7140ba93f44fa12a2247ba8b5"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8b6a35b7140ba93f44fa12a2247ba8b5">PhotoRigma\Classes\Work\$core_logic</a></div><div class="ttdeci">Work_CoreLogic $core_logic</div><div class="ttdoc">Объект для основной логики приложения.</div><div class="ttdef"><b>Определения</b> <a href="#l00114">work.php:114</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a8d2f43c00af0c9574caa0455df82c613"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8d2f43c00af0c9574caa0455df82c613">PhotoRigma\Classes\Work\get_themes</a></div><div class="ttdeci">get_themes()</div><div class="ttdoc">Загружает доступные темы из директории /themes/.</div><div class="ttdef"><b>Определения</b> <a href="#l01097">work.php:1097</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a9143fed87a3064985e0b51fe5fbb4ac3"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9143fed87a3064985e0b51fe5fbb4ac3">PhotoRigma\Classes\Work\template_best_user</a></div><div class="ttdeci">template_best_user(int $best_user=1)</div><div class="ttdoc">Формирует список пользователей, загрузивших наибольшее количество изображений.</div><div class="ttdef"><b>Определения</b> <a href="#l01385">work.php:1385</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a930a20fbdd1b0e274b7e648d966516c5"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a930a20fbdd1b0e274b7e648d966516c5">PhotoRigma\Classes\Work\create_photo</a></div><div class="ttdeci">create_photo(string $type=&#39;top&#39;, int $id_photo=0)</div><div class="ttdoc">Генерирует блок данных для вывода изображений различных типов.</div><div class="ttdef"><b>Определения</b> <a href="#l01169">work.php:1169</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a9bdfa510d626dd97616fb1e1bdb4d8c6"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9bdfa510d626dd97616fb1e1bdb4d8c6">PhotoRigma\Classes\Work\validate_array</a></div><div class="ttdeci">validate_array(array $array, int $max_depth, int $current_depth=1)</div><div class="ttdoc">Рекурсивная проверка массива на корректность ключей и значений.</div><div class="ttdef"><b>Определения</b> <a href="#l01935">work.php:1935</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a9c2ee4da4bf10547c3aff7296d707c66"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9c2ee4da4bf10547c3aff7296d707c66">PhotoRigma\Classes\Work\get_languages</a></div><div class="ttdeci">get_languages()</div><div class="ttdoc">Загружает доступные языки из директории /language/.</div><div class="ttdef"><b>Определения</b> <a href="#l01054">work.php:1054</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_a9fd8978d2c6cbdcfdd6be875be161b7b"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a9fd8978d2c6cbdcfdd6be875be161b7b">PhotoRigma\Classes\Work\$lang</a></div><div class="ttdeci">array $lang</div><div class="ttdoc">Массив с языковыми переменными</div><div class="ttdef"><b>Определения</b> <a href="#l00115">work.php:115</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_aa76be87bb05ca60ff16f6d47f5a44c32"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32">PhotoRigma\Classes\Work\utf8_wordwrap</a></div><div class="ttdeci">static utf8_wordwrap(string $str, int $width=70, string $break=PHP_EOL)</div><div class="ttdoc">Разбивка строки на несколько строк ограниченной длины.</div><div class="ttdef"><b>Определения</b> <a href="#l01837">work.php:1837</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_aaa91e6962b68bc0c0896341f680f1770"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaa91e6962b68bc0c0896341f680f1770">PhotoRigma\Classes\Work\$image</a></div><div class="ttdeci">Work_Image $image</div><div class="ttdoc">Объект класса Work_Image для работы с изображениями.</div><div class="ttdef"><b>Определения</b> <a href="#l00111">work.php:111</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_aaf95d95540a3e47c5905a47db3424ed9"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaf95d95540a3e47c5905a47db3424ed9">PhotoRigma\Classes\Work\set_lang</a></div><div class="ttdeci">set_lang(array $lang)</div><div class="ttdoc">Установка массива языковых данных через сеттер.</div><div class="ttdef"><b>Определения</b> <a href="#l00391">work.php:391</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_ab73ba07b8376dd2e1764240c73a338ea"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab73ba07b8376dd2e1764240c73a338ea">PhotoRigma\Classes\Work\clean_field</a></div><div class="ttdeci">static clean_field($field)</div><div class="ttdoc">Очистка строки от HTML-тегов и специальных символов.</div><div class="ttdef"><b>Определения</b> <a href="#l01635">work.php:1635</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_ab76f8f2ac851632a23ef69df2bd99dad"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad">PhotoRigma\Classes\Work\$config</a></div><div class="ttdeci">array $config</div><div class="ttdoc">Массив, хранящий конфигурацию приложения.</div><div class="ttdef"><b>Определения</b> <a href="#l00108">work.php:108</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_abfa7c6c53ae460403a3d0b3923e71a90"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#abfa7c6c53ae460403a3d0b3923e71a90">PhotoRigma\Classes\Work\news</a></div><div class="ttdeci">news(int $news_id_or_limit, string $act)</div><div class="ttdoc">Получает данные о новостях в зависимости от типа запроса.</div><div class="ttdef"><b>Определения</b> <a href="#l01009">work.php:1009</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_ac632034f4e83ba35a7b3e2124829e0c2"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ac632034f4e83ba35a7b3e2124829e0c2">PhotoRigma\Classes\Work\set_user</a></div><div class="ttdeci">set_user(User $user)</div><div class="ttdoc">Установка объекта пользователя через сеттер.</div><div class="ttdef"><b>Определения</b> <a href="#l00456">work.php:456</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_aca87a58e031a0d778d2db06aa29601a6"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aca87a58e031a0d778d2db06aa29601a6">PhotoRigma\Classes\Work\$template</a></div><div class="ttdeci">Work_Template $template</div><div class="ttdoc">Объект для работы с шаблонами.</div><div class="ttdef"><b>Определения</b> <a href="#l00112">work.php:112</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_ad9ac814e0001840a4cdbf826d0d6e53e"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e">PhotoRigma\Classes\Work\encodename</a></div><div class="ttdeci">static encodename(string $string)</div><div class="ttdoc">Транслитерация строки и замена знаков пунктуации на &quot;_&quot;.</div><div class="ttdef"><b>Определения</b> <a href="#l01723">work.php:1723</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_adfcd1cb7963a860013ca9ca1898f54f1"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#adfcd1cb7963a860013ca9ca1898f54f1">PhotoRigma\Classes\Work\no_photo</a></div><div class="ttdeci">no_photo()</div><div class="ttdoc">Возвращает данные для отсутствующего изображения.</div><div class="ttdef"><b>Определения</b> <a href="#l01518">work.php:1518</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_aeabe138e0704bd8403da0faf894ad0df"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aeabe138e0704bd8403da0faf894ad0df">PhotoRigma\Classes\Work\image_attach</a></div><div class="ttdeci">image_attach(string $full_path, string $name_file)</div><div class="ttdoc">Вывод изображения через HTTP.</div><div class="ttdef"><b>Определения</b> <a href="#l01558">work.php:1558</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_aeb13fee613cd87923546463495400380"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aeb13fee613cd87923546463495400380">PhotoRigma\Classes\Work\check_post</a></div><div class="ttdeci">check_post(string $field, bool $isset=false, bool $empty=false, string|false $regexp=false, bool $not_zero=false)</div><div class="ttdoc">Метод-редирект для проверки данных из POST-запроса.</div><div class="ttdef"><b>Определения</b> <a href="#l00513">work.php:513</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_aebda93a95626971f99ba32c8ac7b4f30"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aebda93a95626971f99ba32c8ac7b4f30">PhotoRigma\Classes\Work\__construct</a></div><div class="ttdeci">__construct(Database_Interface $db, array $config)</div><div class="ttdoc">Конструктор класса.</div><div class="ttdef"><b>Определения</b> <a href="#l00161">work.php:161</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_af37eb2b0693905dd71dd677f86d47831"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#af37eb2b0693905dd71dd677f86d47831">PhotoRigma\Classes\Work\image_resize</a></div><div class="ttdeci">image_resize(string $full_path, string $thumbnail_path)</div><div class="ttdoc">Изменяет размер изображения.</div><div class="ttdef"><b>Определения</b> <a href="#l01476">work.php:1476</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work_html_af970fc714c16e27d2d60d698522a8504"><div class="ttname"><a href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#af970fc714c16e27d2d60d698522a8504">PhotoRigma\Classes\Work\create_menu</a></div><div class="ttdeci">create_menu(string $action, int $menu)</div><div class="ttdoc">Метод формирует массив данных для меню в зависимости от типа и активного пункта.</div><div class="ttdef"><b>Определения</b> <a href="#l01226">work.php:1226</a></div></div>
<div class="ttc" id="ainterfacePhotoRigma_1_1Classes_1_1Database__Interface_html"><div class="ttname"><a href="../../da/d88/interfacePhotoRigma_1_1Classes_1_1Database__Interface.html">PhotoRigma\Classes\Database_Interface</a></div><div class="ttdoc">Интерфейс Database_Interface определяет методы для работы с базой данных.</div><div class="ttdef"><b>Определения</b> <a href="../../dc/d82/db_8php_source.html#l00074">db.php:75</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_1_1Include_html_a2d74c46a21e4ce612a98eee60981aef0"><div class="ttname"><a href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0">PhotoRigma\Include\log_in_file</a></div><div class="ttdeci">log_in_file(string $txt, bool $die=false)</div><div class="ttdoc">Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.</div><div class="ttdef"><b>Определения</b> <a href="../../d9/dcd/common_8php_source.html#l00341">common.php:341</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_1_1Include_html_a31ed4ca28158fa3c806e4651efec5f7a"><div class="ttname"><a href="../../db/d02/namespacePhotoRigma_1_1Include.html#a31ed4ca28158fa3c806e4651efec5f7a">PhotoRigma\Include\TBL_CONFIG</a></div><div class="ttdeci">const TBL_CONFIG(!defined(&#39;PHP_EOL&#39;))</div><div class="ttdoc">Что использовать как конец строки (для Win-серверов).</div><div class="ttdef"><b>Определения</b> <a href="../../d9/dcd/common_8php_source.html#l00061">common.php:61</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_a598ca4e71b15a1313ec95f0df1027ca5"><div class="ttname"><a href="../../de/d90/namespacePhotoRigma.html#a598ca4e71b15a1313ec95f0df1027ca5">PhotoRigma\$user</a></div><div class="ttdeci">$user</div><div class="ttdoc">Создание объекта класса User.</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00180">index.php:180</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_aa698a3e72116e8e778be0e95d908ee30"><div class="ttname"><a href="../../de/d90/namespacePhotoRigma.html#aa698a3e72116e8e778be0e95d908ee30">PhotoRigma\$action</a></div><div class="ttdeci">$action</div><div class="ttdoc">Действие, которое необходимо выполнить.</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00210">index.php:210</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_ab24faf4aa647cdcee494fc48524ad4ff"><div class="ttname"><a href="../../de/d90/namespacePhotoRigma.html#ab24faf4aa647cdcee494fc48524ad4ff">PhotoRigma\$errors</a></div><div class="ttdeci">$errors</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00105">index.php:105</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_ae07beac783fdab08b691bb38425a6771"><div class="ttname"><a href="../../de/d90/namespacePhotoRigma.html#ae07beac783fdab08b691bb38425a6771">PhotoRigma\FILTER_VALIDATE_IP</a></div><div class="ttdeci">if( $header_footer) if($template_output) catch(\RuntimeException $e) catch(\PDOException $e) catch(\InvalidArgumentException $e) catch(\LogicException $e) catch(\BadMethodCallException $e) catch(\BadFunctionCallException $e) catch(\DomainException $e) catch(\UnexpectedValueException $e) catch(\LengthException $e) catch(\OutOfBoundsException $e) catch(\RangeException $e) catch(\Exception $e FILTER_VALIDATE_IP</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00297">index.php:297</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_afc238d5007d9f82f9c59e7d33f7a75c6"><div class="ttname"><a href="../../de/d90/namespacePhotoRigma.html#afc238d5007d9f82f9c59e7d33f7a75c6">PhotoRigma\IN_GALLERY</a></div><div class="ttdeci">const IN_GALLERY</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00056">index.php:56</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dc/d7a/work_8php.html">work.php</a></li>
    <li class="footer">Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
