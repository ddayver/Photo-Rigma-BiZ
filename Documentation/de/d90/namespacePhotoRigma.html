<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Photo-Rigma-BiZ: Пространство имен PhotoRigma</title>
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo-1.png"/></td>
  <td id="projectalign">
   <div id="projectname">Photo-Rigma-BiZ<span id="projectnumber">&#160;0.4.0</span>
   </div>
   <div id="projectbrief">Gallery_Photo-Rigma-BiZ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/d90/namespacePhotoRigma.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Пространства имен</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle"><div class="title">Пространство имен PhotoRigma</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Пространства имен</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d8e/namespacePhotoRigma_1_1Action.html">Action</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html">Include</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/namespacePhotoRigma_1_1Language.html">Language</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:a49c7011be9c979d9174c52a8b83e5d8e" id="r_a49c7011be9c979d9174c52a8b83e5d8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a> = []</td></tr>
<tr class="memdesc:a49c7011be9c979d9174c52a8b83e5d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Массив с настройками сервера.  <br /></td></tr>
<tr class="separator:a49c7011be9c979d9174c52a8b83e5d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956c492a034bf7c9773eeb0db6723ecc" id="r_a956c492a034bf7c9773eeb0db6723ecc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a956c492a034bf7c9773eeb0db6723ecc">$config</a> ['db']</td></tr>
<tr class="memdesc:a956c492a034bf7c9773eeb0db6723ecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Параметры подключения к базе данных.  <br /></td></tr>
<tr class="separator:a956c492a034bf7c9773eeb0db6723ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbc6c8282a2d9cb05934c3fed640018" id="r_a9cbc6c8282a2d9cb05934c3fed640018"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cbc6c8282a2d9cb05934c3fed640018">$config</a> ['gallery_folder'] = 'gallery'</td></tr>
<tr class="memdesc:a9cbc6c8282a2d9cb05934c3fed640018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Имя папки для хранения фотографий (указывается относительно корня проекта).  <br /></td></tr>
<tr class="separator:a9cbc6c8282a2d9cb05934c3fed640018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97536661153bec04cfa8c9437f7dac4a" id="r_a97536661153bec04cfa8c9437f7dac4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97536661153bec04cfa8c9437f7dac4a">$config</a> ['thumbnail_folder'] = 'thumbnail'</td></tr>
<tr class="memdesc:a97536661153bec04cfa8c9437f7dac4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Имя папки для хранения эскизов фотографий (указывается относительно корня проекта).  <br /></td></tr>
<tr class="separator:a97536661153bec04cfa8c9437f7dac4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b7cbcb598885a80db0fe086fe3cc93" id="r_a72b7cbcb598885a80db0fe086fe3cc93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72b7cbcb598885a80db0fe086fe3cc93">$config</a> ['avatar_folder'] = 'avatar'</td></tr>
<tr class="memdesc:a72b7cbcb598885a80db0fe086fe3cc93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Имя папки для хранения аватаров пользователей (указывается относительно корня проекта).  <br /></td></tr>
<tr class="separator:a72b7cbcb598885a80db0fe086fe3cc93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6cc58d5735a7f6aa966e727899e7e9" id="r_adb6cc58d5735a7f6aa966e727899e7e9"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb6cc58d5735a7f6aa966e727899e7e9">LOCALHOST_SERVER</a> false</td></tr>
<tr class="separator:adb6cc58d5735a7f6aa966e727899e7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bafce57e837bd695b691dc6001e96f" id="r_a33bafce57e837bd695b691dc6001e96f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33bafce57e837bd695b691dc6001e96f">$config</a> ['site_url'] = 'http://'</td></tr>
<tr class="separator:a33bafce57e837bd695b691dc6001e96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaecf358b21a899308ae271e98e50573e" id="r_aaecf358b21a899308ae271e98e50573e"><td class="memItemLeft" align="right" valign="top">if(!empty( $_SERVER[ 'HTTPS']) &amp;&amp;( $_SERVER[ 'HTTPS']==='1'||strtolower( $_SERVER[ 'HTTPS'])==='on')) elseif(!empty($_SERVER['HTTP_X_FORWARDED_PROTO']) &amp;&amp;in_array(strtolower($_SERVER['HTTP_X_FORWARDED_PROTO']), ['https', 'h2'])) elseif(!empty( $_SERVER[ 'SERVER_PORT']) &amp;&amp;$_SERVER[ 'SERVER_PORT']===443) elseif(!empty($_SERVER['REQUEST_SCHEME']) &amp;&amp;strtolower($_SERVER['REQUEST_SCHEME'])==='https')&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaecf358b21a899308ae271e98e50573e">$http_host</a> = filter_input(INPUT_SERVER, 'HTTP_HOST', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td></tr>
<tr class="separator:aaecf358b21a899308ae271e98e50573e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271f5d9c110c98ece73bec3151bf1a90" id="r_a271f5d9c110c98ece73bec3151bf1a90"><td class="memItemLeft" align="right" valign="top">if(! $http_host) if(! $http_host) if(!preg_match('/^([a-z\d](- *[a-z\d]) *)(\.([a-z\d](- *[a-z\d]) *)) *$/i', $http_host))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a271f5d9c110c98ece73bec3151bf1a90">$script_name</a> = filter_input(INPUT_SERVER, 'SCRIPT_NAME', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td></tr>
<tr class="separator:a271f5d9c110c98ece73bec3151bf1a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb0a189bae04261ab41ac974f8eb757" id="r_a0eb0a189bae04261ab41ac974f8eb757"><td class="memItemLeft" align="right" valign="top">if(! $script_name) if(! $script_name) if(!preg_match('/^\/&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0eb0a189bae04261ab41ac974f8eb757">$base_path</a> [a-zA-Z0-9._\-\/] *$/', $script_name)) = dirname($script_name)</td></tr>
<tr class="separator:a0eb0a189bae04261ab41ac974f8eb757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c432ed71c36e4285d478f21642200a" id="r_a78c432ed71c36e4285d478f21642200a"><td class="memItemLeft" align="right" valign="top">if( $base_path==='.') if(!str_ends_with($base_path, '/'))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78c432ed71c36e4285d478f21642200a">$config</a> ['site_url'] = $http_host . $base_path</td></tr>
<tr class="separator:a78c432ed71c36e4285d478f21642200a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f0eaf2324e66fe919da857ccbe33e7" id="r_ad8f0eaf2324e66fe919da857ccbe33e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8f0eaf2324e66fe919da857ccbe33e7">$config</a> ['site_dir'] = realpath(__DIR__)</td></tr>
<tr class="separator:ad8f0eaf2324e66fe919da857ccbe33e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412006ba52011f7d77e5b9f2889a184c" id="r_a412006ba52011f7d77e5b9f2889a184c"><td class="memItemLeft" align="right" valign="top">if($config['site_dir']===false) if(!is_dir( $config[ 'site_dir'])) if(!is_readable($config['site_dir'])) if(!is_writable( $config[ 'site_dir'])) if(!str_ends_with($config['site_dir'], '/'))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a412006ba52011f7d77e5b9f2889a184c">$config</a> ['inc_dir'] = $config['site_dir'] . 'include/'</td></tr>
<tr class="separator:a412006ba52011f7d77e5b9f2889a184c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d0bc152db0769c22005f821caf29e8" id="r_ab2d0bc152db0769c22005f821caf29e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2d0bc152db0769c22005f821caf29e8">$required_directories</a></td></tr>
<tr class="separator:ab2d0bc152db0769c22005f821caf29e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee271b7ce67fbe00b9976e6c347cbfbf" id="r_aee271b7ce67fbe00b9976e6c347cbfbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee271b7ce67fbe00b9976e6c347cbfbf">$encoding</a> = mb_regex_encoding('UTF-8')</td></tr>
<tr class="separator:aee271b7ce67fbe00b9976e6c347cbfbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc238d5007d9f82f9c59e7d33f7a75c6" id="r_afc238d5007d9f82f9c59e7d33f7a75c6"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc238d5007d9f82f9c59e7d33f7a75c6">IN_GALLERY</a> true</td></tr>
<tr class="separator:afc238d5007d9f82f9c59e7d33f7a75c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b7f878abcac93af0f81464c8d008d7" id="r_a62b7f878abcac93af0f81464c8d008d7"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62b7f878abcac93af0f81464c8d008d7">DEBUG_GALLERY</a> false</td></tr>
<tr class="separator:a62b7f878abcac93af0f81464c8d008d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe4cc9788f52e49485473dc699537388" id="r_abe4cc9788f52e49485473dc699537388"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe4cc9788f52e49485473dc699537388">try</a></td></tr>
<tr class="separator:abe4cc9788f52e49485473dc699537388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630e9f4c562881099e95ce0355ae9d78" id="r_a630e9f4c562881099e95ce0355ae9d78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a630e9f4c562881099e95ce0355ae9d78">$required_files</a></td></tr>
<tr class="memdesc:a630e9f4c562881099e95ce0355ae9d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Список обязательных файлов для подключения.  <br /></td></tr>
<tr class="separator:a630e9f4c562881099e95ce0355ae9d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab24faf4aa647cdcee494fc48524ad4ff" id="r_ab24faf4aa647cdcee494fc48524ad4ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a> = []</td></tr>
<tr class="separator:ab24faf4aa647cdcee494fc48524ad4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa3127fc82f96b1436d871ef02be319" id="r_a1fa3127fc82f96b1436d871ef02be319"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fa3127fc82f96b1436d871ef02be319">$db</a> = new <a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html">Database</a>($config['db'])</td></tr>
<tr class="separator:a1fa3127fc82f96b1436d871ef02be319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2429001fb0fa404b4fe0ab42a91a9a48" id="r_a2429001fb0fa404b4fe0ab42a91a9a48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a> = new <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a>($db, $config, $_SESSION)</td></tr>
<tr class="memdesc:a2429001fb0fa404b4fe0ab42a91a9a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a>.  <br /></td></tr>
<tr class="separator:a2429001fb0fa404b4fe0ab42a91a9a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598ca4e71b15a1313ec95f0df1027ca5" id="r_a598ca4e71b15a1313ec95f0df1027ca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a598ca4e71b15a1313ec95f0df1027ca5">$user</a> = new <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html">User</a>($db, $_SESSION)</td></tr>
<tr class="memdesc:a598ca4e71b15a1313ec95f0df1027ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">User</a>.  <br /></td></tr>
<tr class="separator:a598ca4e71b15a1313ec95f0df1027ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5fcdd0bc47aeaa710f5ff7cf567777" id="r_aba5fcdd0bc47aeaa710f5ff7cf567777"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba5fcdd0bc47aeaa710f5ff7cf567777">$themes_config</a> = $user-&gt;session['theme'] ?? $work-&gt;config['themes']</td></tr>
<tr class="separator:aba5fcdd0bc47aeaa710f5ff7cf567777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e9534005fd516d941f6a5569896e01" id="r_aa3e9534005fd516d941f6a5569896e01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3e9534005fd516d941f6a5569896e01">$template</a></td></tr>
<tr class="memdesc:aa3e9534005fd516d941f6a5569896e01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a>.  <br /></td></tr>
<tr class="separator:aa3e9534005fd516d941f6a5569896e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d626b28fccda802400c748c0d7a42e" id="r_af6d626b28fccda802400c748c0d7a42e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af6d626b28fccda802400c748c0d7a42e">$header_footer</a> = true</td></tr>
<tr class="memdesc:af6d626b28fccda802400c748c0d7a42e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Флаг: выводить ли заголовок и подвал страницы.  <br /></td></tr>
<tr class="separator:af6d626b28fccda802400c748c0d7a42e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a565b8336923ef5ec8f122c2b41c5eef1" id="r_a565b8336923ef5ec8f122c2b41c5eef1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a565b8336923ef5ec8f122c2b41c5eef1">$template_output</a> = true</td></tr>
<tr class="memdesc:a565b8336923ef5ec8f122c2b41c5eef1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Флаг: выводить ли обработанный шаблон.  <br /></td></tr>
<tr class="separator:a565b8336923ef5ec8f122c2b41c5eef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada57e7bb7c152edad18fe2f166188691" id="r_ada57e7bb7c152edad18fe2f166188691"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada57e7bb7c152edad18fe2f166188691">$title</a> = ''</td></tr>
<tr class="memdesc:ada57e7bb7c152edad18fe2f166188691"><td class="mdescLeft">&#160;</td><td class="mdescRight">Добавление текста к заголовку страницы.  <br /></td></tr>
<tr class="separator:ada57e7bb7c152edad18fe2f166188691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa698a3e72116e8e778be0e95d908ee30" id="r_aa698a3e72116e8e778be0e95d908ee30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa698a3e72116e8e778be0e95d908ee30">$action</a> = 'main'</td></tr>
<tr class="memdesc:aa698a3e72116e8e778be0e95d908ee30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Действие, которое необходимо выполнить.  <br /></td></tr>
<tr class="separator:aa698a3e72116e8e778be0e95d908ee30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa355238e5cfbf4556dccf2f8a2b68926" id="r_aa355238e5cfbf4556dccf2f8a2b68926"><td class="memItemLeft" align="right" valign="top">if($work-&gt;check_input('_GET', 'action', ['isset'=&gt; true, 'empty'=&gt; true]) &amp;&amp;$_GET['action'] !=='index' &amp;&amp;$work-&gt;url_check())&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa355238e5cfbf4556dccf2f8a2b68926">else</a></td></tr>
<tr class="separator:aa355238e5cfbf4556dccf2f8a2b68926"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>\Action</p>
<p>Файл используется для вывода фото из галереи по идентификатору, переданному через параметр &lsquo;$_GET['foto&rsquo;]<code>. Реализованы следующие особенности:</p><ul>
<li>Проверка прав пользователя на просмотр изображений (</li>
</ul>
<p></code>$user-&gt;user['pic_view']<code>).</p><ul>
<li>Ограничение доступа к файлам только внутри директории галереи.</li>
<li>Проверка MIME-типа файла для предотвращения несанкционированного доступа.</li>
<li>Поддержка создания миниатюр при наличии параметра</li>
</ul>
<p></code>$_GET['thumbnail']`.</p><ul>
<li>Возврат данных об отсутствующем изображении, если файл недоступен.</li>
</ul>
<h1><a class="anchor" id="Основные"></a>
функции</h1>
<ul>
<li>Получение данных о фотографии из базы данных.</li>
<li>Проверка прав доступа и безопасности пути к файлу.</li>
<li>Создание миниатюр изображений.</li>
<li>Логирование ошибок и подозрительных действий.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс используется для выполнения различных операций. </dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">PhotoRigma\Classes\Database</a> Класс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
file index.php Этот файл подключает <a class="el" href="../../d2/db3/attach_8php.html" title="Реализует безопасный вывод фото из галереи по идентификатору с проверкой прав доступа и ограничением ...">action/attach.php</a> по запросу из <code>$_GET</code>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a>. Реализованы меры безопасности для предотвращения несанкционированного доступа к файлам. Используются подготовленные выражения для защиты от SQL-инъекций.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\Action</p>
<p>Этот файл отвечает за формирование главной страницы сайта. Основная логика включает:</p><ul>
<li>Загрузку последних новостей (количество определяется конфигурацией <code>last_news</code>).</li>
<li>Проверку прав пользователя на просмотр новостей (&lsquo;$user-&gt;user['news_view&rsquo;]<code>).</code></li>
<li><code>Обработку ошибок при получении данных из базы данных.</code></li>
<li><code>Формирование ссылок для редактирования или удаления новостей (если пользователь имеет соответствующие права).</code></li>
<li><code>Использование всех ресурсов из пространства имён</code><a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a>\Classes`.</li>
</ul>
<h1><a class="anchor" id="Основные"></a>
функции</h1>
<ul>
<li>Загрузка последних новостей.</li>
<li>Проверка прав пользователя на просмотр новостей.</li>
<li>Формирование ссылок для редактирования или удаления новостей.</li>
<li>Логирование ошибок и подозрительных действий.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс, содержащий основные методы для работы с данными. </dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">PhotoRigma\Classes\Database</a> Класс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для управления пользователями. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">PhotoRigma\Classes\Template</a> Класс для работы с шаблонами. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3" title="Очистка строки от HTML-тегов и специальных символов.">PhotoRigma\Classes\Work\clean_field()</a> Метод для очистки и экранирования полей. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#abfa7c6c53ae460403a3d0b3923e71a90" title="Получает данные о новостях в зависимости от типа запроса.">PhotoRigma\Classes\Work\news()</a> Метод для загрузки новостей. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и отвечает за формирование главной страницы сайта. Используется конфигурация <code>last_news</code> для определения количества новостей. Реализованы меры безопасности для предотвращения прямого вызова файла и SQL-инъекций.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\Action</p>
<p>Файл реализует функциональность работы с новостями, включая:</p><ul>
<li>Добавление новой новости (при наличии прав &lsquo;$user-&gt;user['news_add&rsquo;]<code>).</code></li>
<li><code>Редактирование существующей новости (при наличии прав</code>$user-&gt;user['news_moderate']<code>или если пользователь является автором новости).</code></li>
<li><code>Удаление новости (при наличии прав</code>$user-&gt;user['news_moderate']` или если пользователь является автором новости).</li>
<li>Отображение списка новостей с фильтрацией по годам и месяцам.</li>
<li>Защита от CSRF-атак при добавлении и редактировании новостей.</li>
<li>Логирование ошибок и подозрительных действий.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс используется для выполнения вспомогательных операций. </dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">PhotoRigma\Classes\Database</a> Класс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для управления пользователями. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
file index.php Этот файл подключает <a class="el" href="../../d4/dad/news_8php.html" title="Реализует функциональность работы с новостями: добавление, редактирование, удаление и отображение.">action/news.php</a> по запросу из <code>$_GET</code>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a>. Реализованы меры безопасности для предотвращения несанкционированного доступа и выполнения действий.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\Action</p>
<p>Файл реализует функциональность работы с пользователями, включая:</p><ul>
<li>Вход и выход пользователя.</li>
<li>Регистрацию нового пользователя.</li>
<li>Редактирование профиля (включая изменение аватара, языка и темы).</li>
<li>Просмотр профиля другого пользователя.</li>
<li>Защиту от CSRF-атак при изменении данных.</li>
<li>Логирование ошибок и подозрительных действий.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс используется для выполнения вспомогательных операций. </dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">PhotoRigma\Classes\Database</a> Класс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для управления пользователями. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
file index.php Этот файл подключает <a class="el" href="../../dd/df8/profile_8php.html" title="Работа с пользователями: вход, выход, регистрация, редактирование и просмотр профиля.">action/profile.php</a> по запросу из <code>$_GET</code>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a>. Реализованы меры безопасности для предотвращения несанкционированного доступа и выполнения действий.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>Этот файл содержит настройки, необходимые для конфигурации приложения:</p><ul>
<li>Указываются внешние (URL) и внутренние (на диске) пути к корню и подпапкам проекта.</li>
<li>Указываются параметры подключения к базе данных (например, хост, имя пользователя, пароль, имя базы данных).</li>
<li>Файл используется для централизованного управления конфигурацией приложения.</li>
</ul>
<p>Важно: Этот файл должен быть защищён от прямого доступа через веб-сервер.</p>
<h1><a class="anchor" id="Основные"></a>
функции</h1>
<ul>
<li>Настройка подключения к базе данных.</li>
<li>Определение путей к директориям проекта.</li>
<li>Автоматическое определение протокола (HTTP/HTTPS) и URL сайта.</li>
<li>Проверка доступности и корректности путей к директориям.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a> Массив, куда копируются настройки из <a class="el" href="#a49c7011be9c979d9174c52a8b83e5d8e" title="Массив с настройками сервера.">$config</a>. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../d0/d45/config_8php.html" title="Редактируемые настройки сервера.">config.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в настройке приложения. Реализованы меры безопасности для предотвращения несанкционированного доступа и выполнения действий.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000001">Необходимо сделать</a></b></dt><dd>Добавить защиту файла через <code>.htaccess</code> или проверку константы.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\Include</p>
<p>Этот файл содержит общие настройки, константы и функции, которые используются в приложении:</p><ul>
<li>Настройка сессий и куков для управления состоянием пользователя.</li>
<li>Константы для таблиц базы данных, упрощающие работу с SQL-запросами.</li>
<li>Регулярные выражения для валидации входных данных (логин, отображаемое имя, e-mail).</li>
<li>Функции для логирования ошибок и архивации старых логов:<ul>
<li>Архивация старых логов: Сжимает логи старше недели в формате <code>.gz</code> и удаляет исходные файлы.</li>
<li>Логирование ошибок: Сохраняет ошибки в лог-файл.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="Основные"></a>
функции</h1>
<ul>
<li>Настройка сессий и куков.</li>
<li>Определение констант для таблиц базы данных.</li>
<li>Валидация входных данных с использованием регулярных выражений.</li>
<li>Логирование ошибок и архивация старых логов.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#af8032313a2eb1344b860a29c714f1a72" title="Архивирует старые логи, сжимая их в формат .gz и удаляя исходные файлы.">PhotoRigma\Include\archive_old_logs</a> Функция для архивации старых логов. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../d9/dcd/common_8php.html" title="Общие настройки, константы и функции для работы приложения.">common.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и предоставляет базовые инструменты для работы приложения. Реализованы меры безопасности для предотвращения несанкционированного доступа и выполнения действий.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит реализацию класса <code><a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">Database</a></code>, который предоставляет методы для работы с различными базами данных:</p><ul>
<li>Выполнение SQL-запросов (SELECT, JOIN, INSERT, UPDATE, DELETE, TRUNCATE).</li>
<li>Обработка результатов запросов, включая вывод данных.</li>
<li>Управление соединением с базой данных.</li>
<li>Обработка ошибок через централизованную систему логирования и обработки ошибок.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../da/d88/interfacePhotoRigma_1_1Classes_1_1Database__Interface.html" title="Интерфейс Database_Interface определяет методы для работы с базой данных.">PhotoRigma\Classes\Database_Interface</a> Интерфейс для работы с базами данных. </dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">PhotoRigma\Classes\Database</a> Класс для работы с базами данных. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../dc/d82/db_8php.html" title="Работа с базами данных через класс Database и интерфейс Database_Interface.">db.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и обеспечивает взаимодействие приложения с базами данных.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000003">Необходимо сделать</a></b></dt><dd>Добавить поддержку SQLite.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Основные функции — обработка шаблонов с реализацией алгоритмов IF/ELSE, ARRAY, SWITCH/CASE. Остальное будет добавлено после документирования класса.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">PhotoRigma\Classes\Template</a> Класс для работы с шаблонами. </dd>
<dd>
PhotoRigma::Classes::Template_Interface Интерфейс для работы с шаблонами. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3" title="Очистка строки от HTML-тегов и специальных символов.">PhotoRigma\Classes\Work\clean_field()</a> Внешняя функция, используемая для очистки данных. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../d6/dd6/template_8php.html" title="Класс для работы с HTML-шаблонами, включая рендеринг и подстановку данных.">template.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Содержит класс <code><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">User</a></code> и интерфейс <code>User_Interface</code> с набором методов для работы с пользователями, а также используется для хранения всех данных о текущем пользователе. Остальное будет добавлено по мере документирования класса.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для работы с пользователями. </dd>
<dd>
<a class="el" href="../../d0/d4f/interfacePhotoRigma_1_1Classes_1_1User__Interface.html" title="Интерфейс для работы с пользователями и группами.">PhotoRigma\Classes\User_Interface</a> Интерфейс для работы с пользователями. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../d1/d1a/user_8php.html" title="Класс для управления пользователями, включая регистрацию, аутентификацию, управление профилем и хране...">user.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000007">Необходимо сделать</a></b></dt><dd>Закончить реализацию интерфейса и документирование класса.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит основной класс приложения <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a></code>, который объединяет подклассы для выполнения различных задач. Класс предоставляет:</p><ul>
<li>Хранилище для данных о конфигурации.</li>
<li>Механизмы для работы с безопасностью, включая проверку входных данных и защиту от спам-ботов.</li>
<li>Механизмы для работы с изображениями через интерфейс <code>Work_Image_Interface</code>.</li>
<li>Класс Work_Helper предоставляет методы для очистки строк, преобразования размеров и проверки MIME-типов.</li>
<li>Интеграцию с интерфейсами для работы с базой данных, обработкой данных.</li>
<li>Механизмы для управления директориями, пользовательской статистикой и другими компонентами системы.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../da/d88/interfacePhotoRigma_1_1Classes_1_1Database__Interface.html" title="Интерфейс Database_Interface определяет методы для работы с базой данных.">PhotoRigma\Classes\Database_Interface</a> Интерфейс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../da/d80/interfacePhotoRigma_1_1Classes_1_1Work__Security__Interface.html" title="Интерфейс для работы с безопасностью.">PhotoRigma\Classes\Work_Security_Interface</a> Интерфейс для работы с безопасностью приложения. </dd>
<dd>
<a class="el" href="../../d2/daa/interfacePhotoRigma_1_1Classes_1_1Work__Image__Interface.html" title="Интерфейс для работы с изображениями.">PhotoRigma\Classes\Work_Image_Interface</a> Интерфейс, определяющий методы для работы с изображениями. </dd>
<dd>
<a class="el" href="../../d8/d8a/interfacePhotoRigma_1_1Classes_1_1Work__Template__Interface.html" title="Интерфейс Work_Template_Interface определяет контракт для классов, формирующих данные для шаблонов.">PhotoRigma\Classes\Work_Template_Interface</a> Интерфейс для работы с шаблонами. </dd>
<dd>
<a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов.">PhotoRigma\Classes\Work_Helper_Interface</a> Интерфейс для вспомогательных функций, таких как очистка строк и проверка MIME-типов. </dd>
<dd>
<a class="el" href="../../d0/d91/interfacePhotoRigma_1_1Classes_1_1Work__CoreLogic__Interface.html" title="Интерфейс, определяющий контракт для классов, реализующих базовую логику приложения.">PhotoRigma\Classes\Work_CoreLogic_Interface</a> Интерфейс для реализации основной логики приложения. </dd>
<dd>
<a class="el" href="../../d0/d4f/interfacePhotoRigma_1_1Classes_1_1User__Interface.html" title="Интерфейс для работы с пользователями и группами.">PhotoRigma\Classes\User_Interface</a> Интерфейс для работы с пользователями. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../dc/d7a/work_8php.html" title="Файл содержит класс Work, который является основным классом приложения. Объединяет подклассы для выпо...">work.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000012">Необходимо сделать</a></b></dt><dd>Реализовать поддержку кэширования языковых переменных с хранением в формате JSON в файлах.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_CoreLogic</code>, который реализует интерфейс <code>Work_CoreLogic_Interface</code>. Класс предоставляет методы для выполнения ключевых операций приложения, таких как:</p><ul>
<li>Работа с категориями и альбомами (метод <code>category</code>).</li>
<li>Управление изображениями (методы <code>del_photo</code>, <code>create_photo</code>).</li>
<li>Получение данных о новостях, языках и темах (методы <code>news</code>, <code>get_languages</code>, <code>get_themes</code>). Все методы зависят от конфигурации приложения и данных, полученных из базы данных.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d0/d91/interfacePhotoRigma_1_1Classes_1_1Work__CoreLogic__Interface.html" title="Интерфейс, определяющий контракт для классов, реализующих базовую логику приложения.">PhotoRigma\Classes\Work_CoreLogic_Interface</a> Интерфейс, который реализует данный класс. </dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">PhotoRigma\Classes\Database</a> Класс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ab73ba07b8376dd2e1764240c73a338ea" title="Очистка строки от HTML-тегов и специальных символов (публичная обёртка).">PhotoRigma\Classes\Work_Helper\clean_field()</a> Метод для очистки данных. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../dd/d79/work__corelogic_8php.html" title="Файл содержит класс Work_CoreLogic, который отвечает за выполнение базовой логики приложения.">work_corelogic.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в выполнении базовой логики приложения.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Helper</code>, который реализует вспомогательные методы для обработки данных. Класс предоставляет методы для очистки строк от HTML-тегов, преобразования размеров в байты, транслитерации строк, преобразования BBCode в HTML, разбиения строк на ограниченные по длине части и проверки MIME-типов. Публичные методы класса являются редиректами на защищённые методы с суффиксом <code>_internal</code>, что обеспечивает более гибкую архитектуру (паттерн "фасад"). Все методы класса являются статическими.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы для работы с данными. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../d2/d43/work__helper_8php.html" title="Файл содержит класс Work_Helper, который предоставляет вспомогательные методы для работы с данными.">work_helper.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обработке данных. Класс поддерживает работу с различными форматами данных, включая строки, числа, изображения и MIME-типы.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Image</code>, который реализует интерфейс <code>Work_Image_Interface</code>. Класс предоставляет методы для работы с изображениями, включая изменение размеров, вывод через HTTP, обработку отсутствующих изображений, корректировку расширения файла в соответствии с его MIME-типом и логирование ошибок. Публичные методы класса являются редиректами на защищённые методы с суффиксом <code>_internal</code>, что обеспечивает более гибкую архитектуру (паттерн "фасад").</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d2/daa/interfacePhotoRigma_1_1Classes_1_1Work__Image__Interface.html" title="Интерфейс для работы с изображениями.">PhotoRigma\Classes\Work_Image_Interface</a> Интерфейс для работы с изображениями. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы для работы с изображениями. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3" title="Очистка строки от HTML-тегов и специальных символов.">PhotoRigma\Classes\Work\clean_field()</a> Метод для проверки MIME-типов изображений. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../de/d67/work__image_8php.html" title="Файл содержит класс Work_Image, который отвечает за работу с изображениями.">work_image.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обработке изображений. Класс поддерживает работу с библиотеками GraphicsMagick, ImageMagick и GD для изменения размеров изображений.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Security</code>, который реализует интерфейс <code>Work_Security_Interface</code>. Класс предоставляет методы для:</p><ul>
<li>Проверки входных данных на наличие вредоносного кода.</li>
<li>Защиты от спам-ботов с использованием CAPTCHA.</li>
<li>Фильтрации email-адресов для затруднения автоматического парсинга ботами.</li>
<li>Универсальной проверки данных из различных источников ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES).</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../da/d80/interfacePhotoRigma_1_1Classes_1_1Work__Security__Interface.html" title="Интерфейс для работы с безопасностью.">PhotoRigma\Classes\Work_Security_Interface</a> Интерфейс для работы с безопасностью приложения. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы безопасности. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff" title="Проверка MIME-типа файла через доступные библиотеки.">PhotoRigma\Classes\Work\validate_mime_type()</a> Метод для проверки MIME-типов загружаемых файлов. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../d6/dc1/work__security_8php.html" title="Файл содержит класс Work_Security, который отвечает за безопасность приложения.">work_security.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обеспечении безопасности приложения.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Template</code>, который реализует интерфейс <code>Work_Template_Interface</code>. Класс предоставляет методы для генерации данных, необходимых для отображения различных блоков на странице, таких как меню, блок пользователя, статистика и список лучших пользователей. Все данные формируются на основе запросов к базе данных и конфигурации. Реализация методов зависит от глобальных переменных, таких как $_SESSION, для проверки статуса авторизации.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d8/d8a/interfacePhotoRigma_1_1Classes_1_1Work__Template__Interface.html" title="Интерфейс Work_Template_Interface определяет контракт для классов, формирующих данные для шаблонов.">PhotoRigma\Classes\Work_Template_Interface</a> Интерфейс, который реализует данный класс. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы для работы с шаблонами. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3" title="Очистка строки от HTML-тегов и специальных символов.">PhotoRigma\Classes\Work\clean_field()</a> Метод для очистки данных. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff" title="Проверка MIME-типа файла через доступные библиотеки.">PhotoRigma\Classes\Work\validate_mime_type()</a> Метод для проверки MIME-типа файла. </dd>
<dd>
index.php Файл, который подключает <a class="el" href="../../d9/d2a/work__template_8php.html" title="Файл содержит класс Work_Template, который отвечает за формирование данных для шаблонов.">work_template.php</a>.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в формировании данных для шаблонов.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>Этот файл является точкой входа в приложение и выполняет следующие задачи:</p><ul>
<li>Подключает конфигурационный файл (<code><a class="el" href="../../d0/d45/config_8php.html" title="Редактируемые настройки сервера.">config.php</a></code>) и проверяет его доступность.</li>
<li>Проверяет наличие и доступность обязательных файлов (например, <code><a class="el" href="../../d9/dcd/common_8php.html" title="Общие настройки, константы и функции для работы приложения.">common.php</a></code>, <code><a class="el" href="../../dc/d82/db_8php.html" title="Работа с базами данных через класс Database и интерфейс Database_Interface.">db.php</a></code>).</li>
<li>Создаёт объекты основных классов (<code><a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">Database</a></code>, <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a></code>, <code><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a></code>, <code><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">User</a></code>).</li>
<li>Обрабатывает действия пользователя через параметр <code>action</code>. Значение, получаемое из запроса в URL, указывает на действие, которое должно выполнить приложение.</li>
<li>Выводит шаблонные элементы страницы (шапку, подвал и содержимое).</li>
<li>Реализует централизованную систему обработки ошибок и их логирования на уровне ядра приложения.</li>
</ul>
<h1><a class="anchor" id="Основные"></a>
функции</h1>
<ul>
<li>Подключение конфигурации и обязательных файлов.</li>
<li>Инициализация основных классов (<code><a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">Database</a></code>, <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a></code>, <code><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a></code>, <code><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">User</a></code>).</li>
<li>Обработка действий пользователя через параметр <code>action</code>.</li>
<li>Генерация HTML-контента страницы.</li>
<li>Логирование ошибок и обработка исключений.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d0/d45/config_8php.html" title="Редактируемые настройки сервера.">config.php</a> Файл конфигурации, содержащий параметры приложения. </dd>
<dd>
<a class="el" href="../../d9/dcd/common_8php.html" title="Общие настройки, константы и функции для работы приложения.">include/common.php</a> Файл, содержащий глобальные константы и функции. </dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс Database реализует интерфейс Database_Interface и отвечает за работу с различными базами данных...">PhotoRigma\Classes\Database</a> Класс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс для выполнения вспомогательных операций. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">PhotoRigma\Classes\Template</a> Класс для генерации HTML-контента. </dd>
<dd>
<a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для управления пользователями. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#af8032313a2eb1344b860a29c714f1a72" title="Архивирует старые логи, сжимая их в формат .gz и удаляя исходные файлы.">PhotoRigma\Include\archive_old_logs</a> Функция для архивации старых логов. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в запуске и работе приложения. Реализованы меры безопасности для предотвращения несанкционированного доступа и выполнения действий.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dc/d7a/namespacePhotoRigma_1_1Language.html">Language</a></p>
<p>This file contains English language strings used in the core of the project. It includes texts for the interface, menus, forms, notifications, and other elements.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../de/d8e/group__LanguageEnglish.html">English Language Variables</a> Group for English localization.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>This file is part of the <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> system and provides localization for the project in English.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000015">Необходимо сделать</a></b></dt><dd>Add support for additional languages.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. All rights reserved. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:<ul>
<li>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dc/d7a/namespacePhotoRigma_1_1Language.html">Language</a></p>
<p>Этот файл содержит строки русского языка, используемые в ядре проекта сайта. Включает тексты для интерфейса, меню, форм, уведомлений и других элементов.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../dd/d84/group__LanguageRussian.html">Языковые переменные русского языка</a> Группа для русской локализации.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и обеспечивает локализацию проекта на русском языке.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000016">Необходимо сделать</a></b></dt><dd>Добавить поддержку дополнительных языков.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения. </li>
</ul>
</dd></dl>
</div><h2 class="groupheader">Переменные</h2>
<a id="aa698a3e72116e8e778be0e95d908ee30" name="aa698a3e72116e8e778be0e95d908ee30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa698a3e72116e8e778be0e95d908ee30">&#9670;&#160;</a></span>$action</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$action = 'main'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Действие, которое необходимо выполнить. </p>
<p>Возможные значения определяются динамически в зависимости от доступных файлов в директории 'action/'. Пример вызова действия 'profile': $_GET['action'] = 'profile'; </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00253">253</a></p>

<p class="reference">Используется в <a class="el" href="../../d9/d2a/work__template_8php_source.html#l00641">Work_Template\_create_menu_internal()</a>, <a class="el" href="../../dc/d7a/work_8php_source.html#l01708">Work\create_menu()</a>, <a class="el" href="../../d9/d2a/work__template_8php_source.html#l00578">Work_Template\create_menu()</a>, <a class="el" href="../../d8/d8a/interfacePhotoRigma_1_1Classes_1_1Work__Template__Interface.html#af970fc714c16e27d2d60d698522a8504">Work_Template_Interface\create_menu()</a> и <a class="el" href="../../d6/dd6/template_8php_source.html#l00781">Template\page_header()</a>.</p>

</div>
</div>
<a id="a0eb0a189bae04261ab41ac974f8eb757" name="a0eb0a189bae04261ab41ac974f8eb757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb0a189bae04261ab41ac974f8eb757">&#9670;&#160;</a></span>$base_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(! $script_name) if(! $script_name) if (!preg_match('/^\/ $base_path[a-zA-Z0-9._\-\/] *$/', $script_name)) = dirname($script_name)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Генерация полного URL сайта.</p>
<p>Формируется на основе протокола, HTTP_HOST и SCRIPT_NAME. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00212">212</a></p>

</div>
</div>
<a id="a49c7011be9c979d9174c52a8b83e5d8e" name="a49c7011be9c979d9174c52a8b83e5d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c7011be9c979d9174c52a8b83e5d8e">&#9670;&#160;</a></span>$config <span class="overload">[1/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Массив с настройками сервера. </p>
<p>Содержит как редактируемые пользователем параметры (например, параметры БД), так и автоматически генерируемые параметры (например, URL сайта). После инициализации массив $config передаётся в свойство <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a>. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a> </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00072">72</a></p>

</div>
</div>
<a id="a72b7cbcb598885a80db0fe086fe3cc93" name="a72b7cbcb598885a80db0fe086fe3cc93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b7cbcb598885a80db0fe086fe3cc93">&#9670;&#160;</a></span>$config <span class="overload">[2/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'avatar_folder'] = 'avatar'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Имя папки для хранения аватаров пользователей (указывается относительно корня проекта). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00115">115</a></p>

</div>
</div>
<a id="a956c492a034bf7c9773eeb0db6723ecc" name="a956c492a034bf7c9773eeb0db6723ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956c492a034bf7c9773eeb0db6723ecc">&#9670;&#160;</a></span>$config <span class="overload">[3/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'db']</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <span class="stringliteral">&#39;dbtype&#39;</span> =&gt; <span class="stringliteral">&#39;mysql&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbhost&#39;</span> =&gt; <span class="stringliteral">&#39;localhost&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbport&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbsock&#39;</span> =&gt; <span class="stringliteral">&#39;/var/run/mysqld/mysqld.sock&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbuser&#39;</span> =&gt; <span class="stringliteral">&#39;root&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbpass&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbname&#39;</span> =&gt; <span class="stringliteral">&#39;photorigma&#39;</span>,</div>
<div class="line">    </div>
<div class="line">]</div>
</div><!-- fragment -->
<p>Параметры подключения к базе данных. </p>
<p>Включает следующие параметры:</p><ul>
<li>dbtype: Тип базы данных (по умолчанию: mysql, можно использовать pgsql).</li>
<li>dbhost: Сервер основной базы данных (по умолчанию: localhost).</li>
<li>dbport: Порт сервера основной базы данных (оставить пустым для значения по умолчанию, например: 3306 для MySQL).</li>
<li>dbsock: Путь к сокету (используется, если хост не указан, например: /var/run/mysqld/mysqld.sock).</li>
<li>dbuser: Имя пользователя в БД (например: root).</li>
<li>dbpass: Пароль пользователя БД (например: my_secure_password).</li>
<li>dbname: Имя базы данных (например: photorigma). <dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../dc/d82/db_8php.html" title="Работа с базами данных через класс Database и интерфейс Database_Interface.">include/db.php</a> Файл, где используется этот массив для подключения к БД. </dd></dl>
</li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00093">93</a></p>

</div>
</div>
<a id="a9cbc6c8282a2d9cb05934c3fed640018" name="a9cbc6c8282a2d9cb05934c3fed640018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbc6c8282a2d9cb05934c3fed640018">&#9670;&#160;</a></span>$config <span class="overload">[4/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'gallery_folder'] = 'gallery'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Имя папки для хранения фотографий (указывается относительно корня проекта). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00113">113</a></p>

</div>
</div>
<a id="a412006ba52011f7d77e5b9f2889a184c" name="a412006ba52011f7d77e5b9f2889a184c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a412006ba52011f7d77e5b9f2889a184c">&#9670;&#160;</a></span>$config <span class="overload">[5/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if( $config[ 'site_dir']===false) if(!is_dir($config['site_dir'])) if(!is_readable( $config[ 'site_dir'])) if(!is_writable($config['site_dir'])) if (!str_ends_with( $config[ 'site_dir'], '/')) $config[ 'inc_dir'] = $config['site_dir'] . 'include/'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Определение inc_dir.</p>
<p>Указывает путь к директории include/, содержащей вспомогательные классы и функции. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00265">265</a></p>

</div>
</div>
<a id="ad8f0eaf2324e66fe919da857ccbe33e7" name="ad8f0eaf2324e66fe919da857ccbe33e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f0eaf2324e66fe919da857ccbe33e7">&#9670;&#160;</a></span>$config <span class="overload">[6/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'site_dir'] = realpath(__DIR__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Определение site_dir с нормализацией пути.</p>
<p>Используется realpath для получения абсолютного пути к директории. Выполняются дополнительные проверки:</p><ul>
<li>Является ли путь директорией.</li>
<li>Доступна ли директория для чтения и записи. </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00234">234</a></p>

</div>
</div>
<a id="a33bafce57e837bd695b691dc6001e96f" name="a33bafce57e837bd695b691dc6001e96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33bafce57e837bd695b691dc6001e96f">&#9670;&#160;</a></span>$config <span class="overload">[7/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'site_url'] = 'http://'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Определение протокола (HTTP/HTTPS).</p>
<p>Проверяются различные способы определения протокола:</p><ul>
<li>Переменная $_SERVER['HTTPS'] (учитываются значения 'on', '1', и случайный регистр).</li>
<li>Заголовок X-Forwarded-Proto (учитываются значения 'https', 'h2', и случайный регистр).</li>
<li>Порт сервера (443 для HTTPS).</li>
<li>Переменная $_SERVER['REQUEST_SCHEME']. Если ни один из способов не дал результата, используется HTTP. </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00141">141</a></p>

</div>
</div>
<a id="a78c432ed71c36e4285d478f21642200a" name="a78c432ed71c36e4285d478f21642200a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c432ed71c36e4285d478f21642200a">&#9670;&#160;</a></span>$config <span class="overload">[8/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if($base_path==='.') if (!str_ends_with( $base_path, '/')) $config[ 'site_url'] = $http_host . $base_path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00225">225</a></p>

</div>
</div>
<a id="a97536661153bec04cfa8c9437f7dac4a" name="a97536661153bec04cfa8c9437f7dac4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97536661153bec04cfa8c9437f7dac4a">&#9670;&#160;</a></span>$config <span class="overload">[9/9]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'thumbnail_folder'] = 'thumbnail'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Имя папки для хранения эскизов фотографий (указывается относительно корня проекта). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00114">114</a></p>

</div>
</div>
<a id="a1fa3127fc82f96b1436d871ef02be319" name="a1fa3127fc82f96b1436d871ef02be319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa3127fc82f96b1436d871ef02be319">&#9670;&#160;</a></span>$db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$db = new <a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html">Database</a>($config['db'])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00172">172</a></p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00161">Work\__construct()</a>.</p>

</div>
</div>
<a id="aee271b7ce67fbe00b9976e6c347cbfbf" name="aee271b7ce67fbe00b9976e6c347cbfbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee271b7ce67fbe00b9976e6c347cbfbf">&#9670;&#160;</a></span>$encoding</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$encoding = mb_regex_encoding('UTF-8')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00086">86</a></p>

</div>
</div>
<a id="ab24faf4aa647cdcee494fc48524ad4ff" name="ab24faf4aa647cdcee494fc48524ad4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab24faf4aa647cdcee494fc48524ad4ff">&#9670;&#160;</a></span>$errors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$errors = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00141">141</a></p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00527">Work\__set()</a>.</p>

</div>
</div>
<a id="af6d626b28fccda802400c748c0d7a42e" name="af6d626b28fccda802400c748c0d7a42e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6d626b28fccda802400c748c0d7a42e">&#9670;&#160;</a></span>$header_footer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$header_footer = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Флаг: выводить ли заголовок и подвал страницы. </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00234">234</a></p>

</div>
</div>
<a id="aaecf358b21a899308ae271e98e50573e" name="aaecf358b21a899308ae271e98e50573e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaecf358b21a899308ae271e98e50573e">&#9670;&#160;</a></span>$http_host</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(!empty($_SERVER['HTTPS']) &amp;&amp;($_SERVER['HTTPS']==='1'||strtolower($_SERVER['HTTPS'])==='on')) elseif(!empty( $_SERVER[ 'HTTP_X_FORWARDED_PROTO']) &amp;&amp;in_array(strtolower( $_SERVER[ 'HTTP_X_FORWARDED_PROTO']),[ 'https', 'h2'])) elseif(!empty($_SERVER['SERVER_PORT']) &amp;&amp; $_SERVER['SERVER_PORT']===443) elseif (!empty( $_SERVER[ 'REQUEST_SCHEME']) &amp;&amp;strtolower( $_SERVER[ 'REQUEST_SCHEME'])==='https') $http_host = filter_input(INPUT_SERVER, 'HTTP_HOST', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Безопасная проверка HTTP_HOST.</p>
<p>Используются различные источники данных для определения HTTP_HOST:</p><ul>
<li>$_SERVER['HTTP_HOST'] (основной источник).</li>
<li>$_SERVER['SERVER_NAME'] (резервный источник). Выполняется валидация формата домена для предотвращения атак через заголовки. </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00167">167</a></p>

</div>
</div>
<a id="ab2d0bc152db0769c22005f821caf29e8" name="ab2d0bc152db0769c22005f821caf29e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d0bc152db0769c22005f821caf29e8">&#9670;&#160;</a></span>$required_directories</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$required_directories</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;site_dir&#39;</span>] . <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;gallery_folder&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;site_dir&#39;</span>] . <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;thumbnail_folder&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;site_dir&#39;</span>] . <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;avatar_folder&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>],</div>
<div class="line">]</div>
<div class="ttc" id="anamespacePhotoRigma_html_a49c7011be9c979d9174c52a8b83e5d8e"><div class="ttname"><a href="#a49c7011be9c979d9174c52a8b83e5d8e">PhotoRigma\$config</a></div><div class="ttdeci">$config</div><div class="ttdoc">Массив с настройками сервера.</div><div class="ttdef"><b>Определения</b> <a href="../../d0/d45/config_8php_source.html#l00072">config.php:72</a></div></div>
</div><!-- fragment --><p>Проверка существования и доступности директорий.</p>
<p>Проверяются директории, указанные в настройках ($gallery_folder, $thumbnail_folder, $avatar_folder). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00271">271</a></p>

</div>
</div>
<a id="a630e9f4c562881099e95ce0355ae9d78" name="a630e9f4c562881099e95ce0355ae9d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630e9f4c562881099e95ce0355ae9d78">&#9670;&#160;</a></span>$required_files</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$required_files</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= [</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;common.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;db.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;work_helper.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;work_corelogic.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;work_image.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;work_template.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;work_security.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;work.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;template.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;user.php&#39;</span>,</div>
<div class="line">    ]</div>
</div><!-- fragment -->
<p>Список обязательных файлов для подключения. </p>
<p>Содержит пути к файлам, которые необходимы для работы приложения. </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00127">127</a></p>

</div>
</div>
<a id="a271f5d9c110c98ece73bec3151bf1a90" name="a271f5d9c110c98ece73bec3151bf1a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271f5d9c110c98ece73bec3151bf1a90">&#9670;&#160;</a></span>$script_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(! $http_host) if(! $http_host) if (!preg_match('/^([a-z\d](- *[a-z\d]) *)(\.([a-z\d](- *[a-z\d]) *)) *$/i', $http_host)) $script_name = filter_input(INPUT_SERVER, 'SCRIPT_NAME', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Безопасное определение SCRIPT_NAME.</p>
<p>Используются различные источники данных для определения SCRIPT_NAME:</p><ul>
<li>$_SERVER['SCRIPT_NAME'] (основной источник).</li>
<li>$_SERVER['PHP_SELF'] (резервный источник). Выполняется валидация формата пути для предотвращения атак через заголовки. </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00191">191</a></p>

</div>
</div>
<a id="aa3e9534005fd516d941f6a5569896e01" name="aa3e9534005fd516d941f6a5569896e01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e9534005fd516d941f6a5569896e01">&#9670;&#160;</a></span>$template</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$template</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= <span class="keyword">new</span> <a class="code hl_class" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html">Template</a>(</div>
<div class="line">        <a class="code hl_variable" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a>-&gt;config[<span class="stringliteral">&#39;site_url&#39;</span>],</div>
<div class="line">        <a class="code hl_variable" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a>-&gt;config[<span class="stringliteral">&#39;site_dir&#39;</span>],</div>
<div class="line">        <a class="code hl_variable" href="#aba5fcdd0bc47aeaa710f5ff7cf567777">$themes_config</a></div>
<div class="line">    )</div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Template_html"><div class="ttname"><a href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html">PhotoRigma\Classes\Template</a></div><div class="ttdoc">Класс для работы с шаблонами.</div><div class="ttdef"><b>Определения</b> <a href="../../d6/dd6/template_8php_source.html#l00052">template.php:53</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_a2429001fb0fa404b4fe0ab42a91a9a48"><div class="ttname"><a href="#a2429001fb0fa404b4fe0ab42a91a9a48">PhotoRigma\$work</a></div><div class="ttdeci">$work</div><div class="ttdoc">Создание объекта класса Work.</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00183">index.php:183</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_aba5fcdd0bc47aeaa710f5ff7cf567777"><div class="ttname"><a href="#aba5fcdd0bc47aeaa710f5ff7cf567777">PhotoRigma\$themes_config</a></div><div class="ttdeci">$themes_config</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00201">index.php:201</a></div></div>
</div><!-- fragment -->
<p>Создание объекта класса <a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a>. </p>
<p>Используется для генерации HTML-контента страниц. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">PhotoRigma\Classes\Template</a> Класс для работы с HTML-шаблонами. </dd>
<dd>
<a class="el" href="../../d6/dd6/template_8php.html" title="Класс для работы с HTML-шаблонами, включая рендеринг и подстановку данных.">include/template.php</a> Файл, содержащий реализацию класса <a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a>. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a> Свойство, хранящее конфигурацию для шаблонов. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a1ef5df918700c21dc94152e4a8329770" title="Метод создает и обрабатывает шаблон, включая чтение файла, парсинг и замену плейсхолдеров.">PhotoRigma\Classes\Template\create_template()</a> Метод для создания содержимого страницы. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a67ca57f7864ad7e7bb66d9c59d3d43cd" title="Метод формирует заголовок HTML-страницы с меню, метаданными и блоками контента.">PhotoRigma\Classes\Template\page_header()</a> Метод для добавления шапки страницы. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a5371fabe76f72396d19c1700b8c71032" title="Метод формирует подвал HTML-страницы с выводом копирайта, статистики, информации о пользователе и слу...">PhotoRigma\Classes\Template\page_footer()</a> Метод для добавления подвала страницы. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a43be552f5d6b48b6335bf0b4b5ef37c0" title="Содержимое для вывода">PhotoRigma\Classes\Template\$content</a> Свойство, хранящее содержимое всей страницы. </dd>
<dd>
<a class="el" href="#ada57e7bb7c152edad18fe2f166188691" title="Добавление текста к заголовку страницы.">$title</a> Переменная, используемая для добавления текста к заголовку страницы. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00215">215</a></p>

</div>
</div>
<a id="a565b8336923ef5ec8f122c2b41c5eef1" name="a565b8336923ef5ec8f122c2b41c5eef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a565b8336923ef5ec8f122c2b41c5eef1">&#9670;&#160;</a></span>$template_output</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$template_output = true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Флаг: выводить ли обработанный шаблон. </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00239">239</a></p>

</div>
</div>
<a id="aba5fcdd0bc47aeaa710f5ff7cf567777" name="aba5fcdd0bc47aeaa710f5ff7cf567777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5fcdd0bc47aeaa710f5ff7cf567777">&#9670;&#160;</a></span>$themes_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$themes_config = $user-&gt;session['theme'] ?? $work-&gt;config['themes']</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00201">201</a></p>

</div>
</div>
<a id="ada57e7bb7c152edad18fe2f166188691" name="ada57e7bb7c152edad18fe2f166188691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada57e7bb7c152edad18fe2f166188691">&#9670;&#160;</a></span>$title</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$title = ''</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Добавление текста к заголовку страницы. </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00244">244</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/dd6/template_8php_source.html#l00781">Template\page_header()</a>.</p>

</div>
</div>
<a id="a598ca4e71b15a1313ec95f0df1027ca5" name="a598ca4e71b15a1313ec95f0df1027ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598ca4e71b15a1313ec95f0df1027ca5">&#9670;&#160;</a></span>$user</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$user = new <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html">User</a>($db, $_SESSION)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Создание объекта класса <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">User</a>. </p>
<p>Используется для управления пользователями системы. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для управления пользователями. </dd>
<dd>
<a class="el" href="../../d1/d1a/user_8php.html" title="Класс для управления пользователями, включая регистрацию, аутентификацию, управление профилем и хране...">include/user.php</a> Файл, содержащий реализацию класса <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс по работе с пользователями и хранению данных о текущем пользователе.">User</a>. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00198">198</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/dd6/template_8php_source.html#l01476">Template\page_footer()</a> и <a class="el" href="../../dc/d7a/work_8php_source.html#l00885">Work\set_user()</a>.</p>

</div>
</div>
<a id="a2429001fb0fa404b4fe0ab42a91a9a48" name="a2429001fb0fa404b4fe0ab42a91a9a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2429001fb0fa404b4fe0ab42a91a9a48">&#9670;&#160;</a></span>$work</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$work = new <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a>($db, $config, $_SESSION)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Создание объекта класса <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a>. </p>
<p>Используется для выполнения различных вспомогательных операций. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс для выполнения вспомогательных операций. </dd>
<dd>
<a class="el" href="../../dc/d7a/work_8php.html" title="Файл содержит класс Work, который является основным классом приложения. Объединяет подклассы для выпо...">include/work.php</a> Файл, содержащий реализацию класса <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a>. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a> Свойство, хранящее конфигурацию приложения. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a6e6ea2a212c3c2dee206a1753b673b7d" title="Универсальная проверка входных данных.">PhotoRigma\Classes\Work\check_input()</a> Метод для проверки входных данных. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1e1a4ab6b213ada0d89c77a24d8ffe32" title="Проверяет URL на наличие вредоносного кода.">PhotoRigma\Classes\Work\url_check()</a> Метод для проверки URL на наличие вредоносного кода. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00183">183</a></p>

<p class="reference">Используется в <a class="el" href="../../d1/d1a/user_8php_source.html#l00957">User\add_new_user()</a>, <a class="el" href="../../d0/d4f/interfacePhotoRigma_1_1Classes_1_1User__Interface.html#abc4c7a4c4f01e32b4540c3d03f45aeb2">User_Interface\add_new_user()</a>, <a class="el" href="../../d1/d1a/user_8php_source.html#l01368">User\edit_avatar()</a>, <a class="el" href="../../d1/d1a/user_8php_source.html#l01507">User\login_user()</a>, <a class="el" href="../../d0/d4f/interfacePhotoRigma_1_1Classes_1_1User__Interface.html#ab6cad9b0038673d591c0dd84575bc777">User_Interface\login_user()</a>, <a class="el" href="../../d1/d1a/user_8php_source.html#l01200">User\update_user_data()</a> и <a class="el" href="../../d0/d4f/interfacePhotoRigma_1_1Classes_1_1User__Interface.html#ab142b3405ddc1bbb89b84a97dc89d8dc">User_Interface\update_user_data()</a>.</p>

</div>
</div>
<a id="a62b7f878abcac93af0f81464c8d008d7" name="a62b7f878abcac93af0f81464c8d008d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b7f878abcac93af0f81464c8d008d7">&#9670;&#160;</a></span>DEBUG_GALLERY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DEBUG_GALLERY false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00100">100</a></p>

<p class="reference">Используется в <a class="el" href="../../d9/dcd/common_8php_source.html#l00366">PhotoRigma\Include\log_in_file()</a>.</p>

</div>
</div>
<a id="aa355238e5cfbf4556dccf2f8a2b68926" name="aa355238e5cfbf4556dccf2f8a2b68926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa355238e5cfbf4556dccf2f8a2b68926">&#9670;&#160;</a></span>else</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if (is_file( $action_file) &amp;&amp;is_readable( $action_file)) else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">{</div>
<div class="line">        </div>
<div class="line">        $action_file = <a class="code hl_variable" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a>-&gt;config[<span class="stringliteral">&#39;site_dir&#39;</span>] . <span class="stringliteral">&#39;action/main.php&#39;</span></div>
</div><!-- fragment --><p>Обработка действия, указанного в параметре 'action'.</p><ul>
<li>Проверяется существование и безопасность параметра 'action'.</li>
<li>Формируется путь к файлу действия.</li>
<li>Если файл не существует или недоступен, используется файл по умолчанию ('main.php'). </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00282">282</a></p>

</div>
</div>
<a id="afc238d5007d9f82f9c59e7d33f7a75c6" name="afc238d5007d9f82f9c59e7d33f7a75c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc238d5007d9f82f9c59e7d33f7a75c6">&#9670;&#160;</a></span>IN_GALLERY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const IN_GALLERY true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00093">93</a></p>

</div>
</div>
<a id="adb6cc58d5735a7f6aa966e727899e7e9" name="adb6cc58d5735a7f6aa966e727899e7e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb6cc58d5735a7f6aa966e727899e7e9">&#9670;&#160;</a></span>LOCALHOST_SERVER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const LOCALHOST_SERVER false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00123">123</a></p>

<p class="reference">Используется в <a class="el" href="../../d6/dd6/template_8php_source.html#l00781">Template\page_header()</a>.</p>

</div>
</div>
<a id="abe4cc9788f52e49485473dc699537388" name="abe4cc9788f52e49485473dc699537388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe4cc9788f52e49485473dc699537388">&#9670;&#160;</a></span>try</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">try</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">{</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (!is_file(<span class="stringliteral">&#39;config.php&#39;</span>)) {</div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line">            __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | Конфигурационный файл отсутствует или не является файлом | Путь: config.php&quot;</span></div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (!is_readable(<span class="stringliteral">&#39;config.php&#39;</span>)) {</div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line">            __FILE__ . <span class="stringliteral">&quot;:&quot;</span> . __LINE__ . <span class="stringliteral">&quot; (&quot;</span> . (__FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&quot;) | Конфигурационный файл существует, но недоступен для чтения | Путь: config.php&quot;</span></div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    require_once <span class="stringliteral">&#39;config.php&#39;</span></div>
</div><!-- fragment -->
<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00102">102</a></p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a></li>
    <li class="footer">Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
