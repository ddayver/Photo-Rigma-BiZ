<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Photo-Rigma-BiZ: Пространство имен PhotoRigma</title>
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo-1.png"/></td>
  <td id="projectalign">
   <div id="projectname">Photo-Rigma-BiZ<span id="projectnumber">&#160;0.4.3</span>
   </div>
   <div id="projectbrief">Gallery_Photo-Rigma-BiZ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/d90/namespacePhotoRigma.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#namespaces">Пространства имен</a> &#124;
<a href="#var-members">Переменные</a>  </div>
  <div class="headertitle"><div class="title">Пространство имен PhotoRigma</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Пространства имен</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d8e/namespacePhotoRigma_1_1Action.html">Action</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html">Include</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d7a/namespacePhotoRigma_1_1Language.html">Language</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Переменные</h2></td></tr>
<tr class="memitem:a49c7011be9c979d9174c52a8b83e5d8e" id="r_a49c7011be9c979d9174c52a8b83e5d8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a> = []</td></tr>
<tr class="memdesc:a49c7011be9c979d9174c52a8b83e5d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Массив с настройками сервера.  <br /></td></tr>
<tr class="separator:a49c7011be9c979d9174c52a8b83e5d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956c492a034bf7c9773eeb0db6723ecc" id="r_a956c492a034bf7c9773eeb0db6723ecc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a956c492a034bf7c9773eeb0db6723ecc">$config</a> ['db']</td></tr>
<tr class="memdesc:a956c492a034bf7c9773eeb0db6723ecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Параметры подключения к базе данных.  <br /></td></tr>
<tr class="separator:a956c492a034bf7c9773eeb0db6723ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbc6c8282a2d9cb05934c3fed640018" id="r_a9cbc6c8282a2d9cb05934c3fed640018"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9cbc6c8282a2d9cb05934c3fed640018">$config</a> ['gallery_folder'] = 'gallery'</td></tr>
<tr class="memdesc:a9cbc6c8282a2d9cb05934c3fed640018"><td class="mdescLeft">&#160;</td><td class="mdescRight">Имя папки для хранения фотографий (указывается относительно корня проекта).  <br /></td></tr>
<tr class="separator:a9cbc6c8282a2d9cb05934c3fed640018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97536661153bec04cfa8c9437f7dac4a" id="r_a97536661153bec04cfa8c9437f7dac4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a97536661153bec04cfa8c9437f7dac4a">$config</a> ['thumbnail_folder'] = 'thumbnail'</td></tr>
<tr class="memdesc:a97536661153bec04cfa8c9437f7dac4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Имя папки для хранения эскизов фотографий (указывается относительно корня проекта).  <br /></td></tr>
<tr class="separator:a97536661153bec04cfa8c9437f7dac4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b7cbcb598885a80db0fe086fe3cc93" id="r_a72b7cbcb598885a80db0fe086fe3cc93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72b7cbcb598885a80db0fe086fe3cc93">$config</a> ['avatar_folder'] = 'avatar'</td></tr>
<tr class="memdesc:a72b7cbcb598885a80db0fe086fe3cc93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Имя папки для хранения аватаров пользователей (указывается относительно корня проекта).  <br /></td></tr>
<tr class="separator:a72b7cbcb598885a80db0fe086fe3cc93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05be8b9c3365b29eada46249994ee67" id="r_ad05be8b9c3365b29eada46249994ee67"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad05be8b9c3365b29eada46249994ee67">$config</a> ['cache']</td></tr>
<tr class="memdesc:ad05be8b9c3365b29eada46249994ee67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Параметры конфигурации системы кеширования.  <br /></td></tr>
<tr class="separator:ad05be8b9c3365b29eada46249994ee67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6cc58d5735a7f6aa966e727899e7e9" id="r_adb6cc58d5735a7f6aa966e727899e7e9"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb6cc58d5735a7f6aa966e727899e7e9">LOCALHOST_SERVER</a> false</td></tr>
<tr class="separator:adb6cc58d5735a7f6aa966e727899e7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bafce57e837bd695b691dc6001e96f" id="r_a33bafce57e837bd695b691dc6001e96f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33bafce57e837bd695b691dc6001e96f">$config</a> ['site_url'] = 'http://'</td></tr>
<tr class="separator:a33bafce57e837bd695b691dc6001e96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaecf358b21a899308ae271e98e50573e" id="r_aaecf358b21a899308ae271e98e50573e"><td class="memItemLeft" align="right" valign="top">if(!empty( $_SERVER[ 'HTTPS']) &amp;&amp;( $_SERVER[ 'HTTPS']==='1'||strtolower( $_SERVER[ 'HTTPS'])==='on')) elseif(!empty($_SERVER['HTTP_X_FORWARDED_PROTO']) &amp;&amp;in_array(strtolower($_SERVER['HTTP_X_FORWARDED_PROTO']), ['https', 'h2'])) elseif(!empty( $_SERVER[ 'SERVER_PORT']) &amp;&amp;$_SERVER[ 'SERVER_PORT']===443) elseif(!empty($_SERVER['REQUEST_SCHEME']) &amp;&amp;strtolower($_SERVER['REQUEST_SCHEME'])==='https')&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaecf358b21a899308ae271e98e50573e">$http_host</a> = filter_input(INPUT_SERVER, 'HTTP_HOST', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td></tr>
<tr class="separator:aaecf358b21a899308ae271e98e50573e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a271f5d9c110c98ece73bec3151bf1a90" id="r_a271f5d9c110c98ece73bec3151bf1a90"><td class="memItemLeft" align="right" valign="top">if(! $http_host) if(! $http_host) if(!preg_match('/^([a-z\d](- *[a-z\d]) *)(\.([a-z\d](- *[a-z\d]) *)) *$/i', $http_host))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a271f5d9c110c98ece73bec3151bf1a90">$script_name</a> = filter_input(INPUT_SERVER, 'SCRIPT_NAME', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td></tr>
<tr class="separator:a271f5d9c110c98ece73bec3151bf1a90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb0a189bae04261ab41ac974f8eb757" id="r_a0eb0a189bae04261ab41ac974f8eb757"><td class="memItemLeft" align="right" valign="top">if(! $script_name) if(! $script_name) if(!preg_match('/^\/&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0eb0a189bae04261ab41ac974f8eb757">$base_path</a> [a-zA-Z0-9._\-\/] *$/', $script_name)) = dirname($script_name)</td></tr>
<tr class="separator:a0eb0a189bae04261ab41ac974f8eb757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78c432ed71c36e4285d478f21642200a" id="r_a78c432ed71c36e4285d478f21642200a"><td class="memItemLeft" align="right" valign="top">if( $base_path==='.') if(!str_ends_with($base_path, '/'))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78c432ed71c36e4285d478f21642200a">$config</a> ['site_url'] = $http_host . $base_path</td></tr>
<tr class="separator:a78c432ed71c36e4285d478f21642200a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f0eaf2324e66fe919da857ccbe33e7" id="r_ad8f0eaf2324e66fe919da857ccbe33e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad8f0eaf2324e66fe919da857ccbe33e7">$config</a> ['site_dir'] = realpath(__DIR__)</td></tr>
<tr class="separator:ad8f0eaf2324e66fe919da857ccbe33e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412006ba52011f7d77e5b9f2889a184c" id="r_a412006ba52011f7d77e5b9f2889a184c"><td class="memItemLeft" align="right" valign="top">if($config['site_dir']===false) if(!is_dir( $config[ 'site_dir'])) if(!is_readable($config['site_dir'])) if(!is_writable( $config[ 'site_dir'])) if(!str_ends_with($config['site_dir'], '/'))&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a412006ba52011f7d77e5b9f2889a184c">$config</a> ['inc_dir'] = $config['site_dir'] . 'include/'</td></tr>
<tr class="separator:a412006ba52011f7d77e5b9f2889a184c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d0bc152db0769c22005f821caf29e8" id="r_ab2d0bc152db0769c22005f821caf29e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab2d0bc152db0769c22005f821caf29e8">$required_directories</a></td></tr>
<tr class="separator:ab2d0bc152db0769c22005f821caf29e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee271b7ce67fbe00b9976e6c347cbfbf" id="r_aee271b7ce67fbe00b9976e6c347cbfbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee271b7ce67fbe00b9976e6c347cbfbf">$encoding</a> = mb_regex_encoding('UTF-8')</td></tr>
<tr class="separator:aee271b7ce67fbe00b9976e6c347cbfbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc238d5007d9f82f9c59e7d33f7a75c6" id="r_afc238d5007d9f82f9c59e7d33f7a75c6"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc238d5007d9f82f9c59e7d33f7a75c6">IN_GALLERY</a> true</td></tr>
<tr class="separator:afc238d5007d9f82f9c59e7d33f7a75c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62b7f878abcac93af0f81464c8d008d7" id="r_a62b7f878abcac93af0f81464c8d008d7"><td class="memItemLeft" align="right" valign="top">const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62b7f878abcac93af0f81464c8d008d7">DEBUG_GALLERY</a> false</td></tr>
<tr class="separator:a62b7f878abcac93af0f81464c8d008d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe4cc9788f52e49485473dc699537388" id="r_abe4cc9788f52e49485473dc699537388"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abe4cc9788f52e49485473dc699537388">try</a></td></tr>
<tr class="separator:abe4cc9788f52e49485473dc699537388"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a630e9f4c562881099e95ce0355ae9d78" id="r_a630e9f4c562881099e95ce0355ae9d78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a630e9f4c562881099e95ce0355ae9d78">$required_files</a></td></tr>
<tr class="memdesc:a630e9f4c562881099e95ce0355ae9d78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Список обязательных файлов для подключения.  <br /></td></tr>
<tr class="separator:a630e9f4c562881099e95ce0355ae9d78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab24faf4aa647cdcee494fc48524ad4ff" id="r_ab24faf4aa647cdcee494fc48524ad4ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab24faf4aa647cdcee494fc48524ad4ff">$errors</a> = []</td></tr>
<tr class="separator:ab24faf4aa647cdcee494fc48524ad4ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2dc76d756ec398393d4b1d23659276c" id="r_ac2dc76d756ec398393d4b1d23659276c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2dc76d756ec398393d4b1d23659276c">$cache</a> = new <a class="el" href="../../d3/d14/classCache__Handler.html">Cache_Handler</a>($config['cache'], $config['site_dir'])</td></tr>
<tr class="memdesc:ac2dc76d756ec398393d4b1d23659276c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../d3/d14/classCache__Handler.html" title="Класс для работы с системами кеширования.">Cache_Handler</a> для работы с системами кеширования.  <br /></td></tr>
<tr class="separator:ac2dc76d756ec398393d4b1d23659276c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa3127fc82f96b1436d871ef02be319" id="r_a1fa3127fc82f96b1436d871ef02be319"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1fa3127fc82f96b1436d871ef02be319">$db</a> = new <a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html">Database</a>($config['db'], $cache)</td></tr>
<tr class="memdesc:a1fa3127fc82f96b1436d871ef02be319"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс для работы с базами данных через PDO.">Database</a> для работы с основной БД.  <br /></td></tr>
<tr class="separator:a1fa3127fc82f96b1436d871ef02be319"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2429001fb0fa404b4fe0ab42a91a9a48" id="r_a2429001fb0fa404b4fe0ab42a91a9a48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a> = new <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a>($db, $config, $_SESSION, $cache)</td></tr>
<tr class="memdesc:a2429001fb0fa404b4fe0ab42a91a9a48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a>.  <br /></td></tr>
<tr class="separator:a2429001fb0fa404b4fe0ab42a91a9a48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a598ca4e71b15a1313ec95f0df1027ca5" id="r_a598ca4e71b15a1313ec95f0df1027ca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a598ca4e71b15a1313ec95f0df1027ca5">$user</a> = new <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html">User</a>($db, $_SESSION)</td></tr>
<tr class="memdesc:a598ca4e71b15a1313ec95f0df1027ca5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">User</a>.  <br /></td></tr>
<tr class="separator:a598ca4e71b15a1313ec95f0df1027ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5fcdd0bc47aeaa710f5ff7cf567777" id="r_aba5fcdd0bc47aeaa710f5ff7cf567777"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba5fcdd0bc47aeaa710f5ff7cf567777">$themes_config</a> = $user-&gt;session['theme'] ?? $work-&gt;config['themes']</td></tr>
<tr class="separator:aba5fcdd0bc47aeaa710f5ff7cf567777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3e9534005fd516d941f6a5569896e01" id="r_aa3e9534005fd516d941f6a5569896e01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa3e9534005fd516d941f6a5569896e01">$template</a></td></tr>
<tr class="memdesc:aa3e9534005fd516d941f6a5569896e01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Создание объекта класса <a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a>.  <br /></td></tr>
<tr class="separator:aa3e9534005fd516d941f6a5569896e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada57e7bb7c152edad18fe2f166188691" id="r_ada57e7bb7c152edad18fe2f166188691"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada57e7bb7c152edad18fe2f166188691">$title</a> = ''</td></tr>
<tr class="memdesc:ada57e7bb7c152edad18fe2f166188691"><td class="mdescLeft">&#160;</td><td class="mdescRight">Добавление текста к заголовку страницы. @noinspection PhpRedundantVariableDocTypeInspection.  <br /></td></tr>
<tr class="separator:ada57e7bb7c152edad18fe2f166188691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa698a3e72116e8e778be0e95d908ee30" id="r_aa698a3e72116e8e778be0e95d908ee30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa698a3e72116e8e778be0e95d908ee30">$action</a> = 'main'</td></tr>
<tr class="memdesc:aa698a3e72116e8e778be0e95d908ee30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Действие, которое необходимо выполнить.  <br /></td></tr>
<tr class="separator:aa698a3e72116e8e778be0e95d908ee30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa355238e5cfbf4556dccf2f8a2b68926" id="r_aa355238e5cfbf4556dccf2f8a2b68926"><td class="memItemLeft" align="right" valign="top">if($work-&gt;check_input('_GET', 'action', ['isset'=&gt; true, 'empty'=&gt; true]) &amp;&amp;$_GET['action'] !=='index' &amp;&amp;$work-&gt;url_check())&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa355238e5cfbf4556dccf2f8a2b68926">else</a></td></tr>
<tr class="separator:aa355238e5cfbf4556dccf2f8a2b68926"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1860c2e884f5466ff46754807f8a79b7" id="r_a1860c2e884f5466ff46754807f8a79b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1860c2e884f5466ff46754807f8a79b7">$csrf_token</a> = $user-&gt;csrf_token()</td></tr>
<tr class="separator:a1860c2e884f5466ff46754807f8a79b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>Этот файл содержит настройки, необходимые для конфигурации приложения:</p><ul>
<li>Указываются внешние (URL) и внутренние (на диске) пути к корню и подпапкам проекта.</li>
<li>Указываются параметры подключения к базе данных (например, хост, имя пользователя, пароль, имя базы данных).</li>
<li>Файл используется для централизованного управления конфигурацией приложения.</li>
</ul>
<p>Важно: Этот файл должен быть защищён от прямого доступа через веб-сервер.</p>
<h1><a class="anchor" id="Config_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Настройка подключения к базе данных.</li>
<li>Определение путей к директориям проекта.</li>
<li>Автоматическое определение протокола (HTTP/HTTPS) и URL сайта.</li>
<li>Проверка доступности и корректности путей к директориям.</li>
</ul>
<h1><a class="anchor" id="Config_Database_Settings"></a>
Настройки подключения к базе данных</h1>
<p>Массив &lsquo;$config['db&rsquo;]<code>содержит параметры подключения к базе данных:</p><ul>
<li>**dbtype**: Тип базы данных (по умолчанию:</li>
</ul>
<p></code>mysql<code>, можно использовать</code>pgsql<code>или</code>sqlite<code>).</p><ul>
<li>**dbhost**: Сервер основной базы данных (по умолчанию:</li>
</ul>
<p></code>localhost<code>). Не используется для SQLite.</p><ul>
<li>**dbport**: Порт сервера основной базы данных (оставить пустым для значения по умолчанию, например:</li>
</ul>
<p></code>3306<code>для MySQL). Не используется для SQLite.</p><ul>
<li>**dbsock**: Путь к сокету (используется, если хост не указан, например:</li>
</ul>
<p></code>/var/lib/mysql/mysql.sock<code>). Не используется для SQLite.</p><ul>
<li>**dbuser**: Имя пользователя в БД (например:</li>
</ul>
<p></code>root<code>). Не используется для SQLite.</p><ul>
<li>**dbpass**: Пароль пользователя БД (например:</li>
</ul>
<p></code>my_secure_password<code>). Не используется для SQLite.</p><ul>
<li>**dbname**: Имя базы данных (например:</li>
</ul>
<p></code>photorigma`). Для SQLite это путь к файлу базы данных.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d2/d89/Database_8php.html" title="Класс для работы с базами данных через PDO.">include/Database.php</a> Файл, где используется массив &lsquo;<a class="el" href="#a49c7011be9c979d9174c52a8b83e5d8e" title="Массив с настройками сервера.">$config</a>['db&rsquo;]` для подключения к БД.</dd></dl>
<h1><a class="anchor" id="Config_Folder_Settings"></a>
Настройки папок проекта</h1>
<ul>
<li><b>gallery_folder</b>: Имя папки для хранения фотографий (указывается относительно корня проекта). Пример: &lsquo;'gallery&rsquo;<code>.</code></li>
<li><code>**thumbnail_folder**: Имя папки для хранения эскизов фотографий (указывается относительно корня проекта). Пример:</code>'thumbnail'<code>.</code></li>
<li><code>**avatar_folder**: Имя папки для хранения аватаров пользователей (указывается относительно корня проекта). Пример:</code>'avatar'`.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Убедитесь, что указанные папки существуют и доступны для записи. Несоблюдение этого условия может привести к ошибкам при работе с файлами.</dd></dl>
<h1><a class="anchor" id="Config_Local_Network"></a>
Настройки использования проекта в локальной или внешней сети</h1>
<p>Константа <code>LOCALHOST_SERVER</code> указывает, является ли сервер локальным:</p><ul>
<li>Если значение <code>true</code>, загрузка JS и CSS ограничивается локальными ресурсами (без интернета).</li>
<li>Если значение <code>false</code>, используются внешние ресурсы (например, CDN).</li>
</ul>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит реализацию класса <code><a class="el" href="../../d3/d14/classCache__Handler.html" title="Класс для работы с системами кеширования.">Cache_Handler</a></code>, который предоставляет методы для работы с различными типами кеширования:</p><ul>
<li>Файловое кеширование (<code>file</code>).</li>
<li>Redis.</li>
<li>Memcached. Класс обеспечивает:</li>
<li>Проверку актуальности данных в кеше.</li>
<li>Запись данных в кеш.</li>
<li>Инициализацию системы кеширования на основе переданных параметров.</li>
<li>Обработку ошибок через исключения. Все операции выполняются в зависимости от выбранного типа кеширования (<code>$this-&gt;type</code>).</li>
</ul>
<h1><a class="anchor" id="CacheHandler_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Проверка актуальности данных в кеше с использованием ключа и контрольного числа.</li>
<li>Запись данных в кеш с кодированием в формат JSON и Base64.</li>
<li>Инициализация клиента для Redis/Memcached или пути для файлового кеширования.</li>
<li>Обработка ошибок через исключения (<code>JsonException</code>, <code>RuntimeException</code>).</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d1/d44/interfacePhotoRigma_1_1Interfaces_1_1Cache__Handler__Interface.html" title="Интерфейс для работы с системами кеширования.">PhotoRigma\Interfaces\Cache_Handler_Interface</a> Интерфейс, который реализует класс.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и обеспечивает взаимодействие приложения с системами кеширования. Реализованы меры безопасности для предотвращения повреждения данных в кеше.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Cache_Handler_Interface</code>, который определяет контракт для работы с различными типами кеширования:</p><ul>
<li>Файловое кеширование (<code>file</code>).</li>
<li>Redis.</li>
<li>Memcached. Интерфейс обеспечивает единообразие реализации различных систем кеширования и предоставляет методы для выполнения основных операций:</li>
<li>Проверка актуальности данных в кеше.</li>
<li>Запись данных в кеш. Все методы должны быть реализованы в классах, поддерживающих этот интерфейс.</li>
</ul>
<h1><a class="anchor" id="CacheHandlerInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Проверка актуальности данных в кеше с использованием ключа и контрольного числа.</li>
<li>Запись данных в кеш с кодированием в формат JSON и Base64.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и обеспечивает взаимодействие приложения с системами кеширования. Реализация интерфейса гарантирует унифицированный подход к работе с различными системами кеширования.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Реализация методов интерфейса может отличаться от предыдущих версий. Убедитесь, что вы изучили новую документацию перед использованием.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html">Include</a></p>
<p>Этот файл содержит константы, которые используются в различных частях приложения:</p><ul>
<li>Пути к директориям (например, для хранения логов).</li>
<li>Имена таблиц базы данных и представлений для упрощения работы с SQL-запросами.</li>
<li>Регулярные выражения для валидации входных данных (логин, отображаемое имя, e-mail).</li>
<li>Константы для настройки архивации логов.</li>
<li>Системные константы для управления состоянием (например, флаги активности).</li>
<li>Ключи для глобального массива $_SESSION. Все константы централизованы в этом файле для удобства поддержки и изменения.</li>
</ul>
<h1><a class="anchor" id="Constants_Main_Groups"></a>
Основные группы констант</h1>
<ul>
<li><b>Пути и системные настройки</b>:<ul>
<li><code>LOG_DIR</code>: Путь к директории для хранения логов.</li>
<li><code>PHP_EOL</code>: Символ конца строки (зависит от операционной системы).</li>
</ul>
</li>
<li><b>Таблицы базы данных</b>:<ul>
<li><code>TBL_CONFIG</code>, <code>TBL_MENU</code>, <code>TBL_NEWS</code>, <code>TBL_CATEGORY</code>, <code>TBL_PHOTO</code>, <code>TBL_RATE_USER</code>, <code>TBL_RATE_MODER</code>, <code>TBL_USERS</code>, <code>TBL_GROUP</code>, <code>TBL_LOG_QUERY</code>.</li>
<li>Представления: <code>VIEW_RANDOM_PHOTO</code>, <code>VIEW_USERS_ONLINE</code>.</li>
</ul>
</li>
<li><b>Настройки пользователей</b>:<ul>
<li><code>DEFAULT_GROUP</code>: Группа по умолчанию для новых пользователей.</li>
<li><code>MAX_LOGIN_ATTEMPTS</code>: Максимальное количество попыток входа в админку.</li>
<li><code>LOCKOUT_TIME</code>: Время блокировки после превышения попыток входа.</li>
<li><code>DEFAULT_AVATAR</code>: Значение аватара по умолчанию.</li>
</ul>
</li>
<li><b>Меню</b>:<ul>
<li><code>SHORT_MENU</code>, <code>LONG_MENU</code>: Типы меню для формирования из базы данных.</li>
</ul>
</li>
<li><b>Логирование и архивация</b>:<ul>
<li><code>COMPRESSION_LEVEL</code>: Уровень сжатия для архивации логов.</li>
<li><code>LOG_LIFETIME_DAYS</code>: Срок хранения логов.</li>
<li><code>MAX_LOG_SIZE</code>: Максимальный размер лога (10 MB).</li>
</ul>
</li>
<li><b>Сессии и безопасность</b>:<ul>
<li><code>KEY_SESSION</code>: Ключ для использования в глобальном массиве $_SESSION.</li>
</ul>
</li>
<li><b>Регулярные выражения</b>:<ul>
<li><code>REG_LOGIN</code>: Для проверки логина.</li>
<li><code>REG_NAME</code>: Для проверки отображаемого имени.</li>
<li><code>REG_EMAIL</code>: Для проверки e-mail.</li>
</ul>
</li>
<li><b>Флаги состояния</b>:<ul>
<li><code>CHECKED_VALUE</code>, <code>TRUE_VALUE</code>: Для обозначения активного состояния или выбранных значений.</li>
</ul>
</li>
<li><b>Настройки SQL</b>:<ul>
<li><code>MIN_FULLTEXT_SEARCH_LENGTH</code>: Минимальная длина для полнотекстового поиска.</li>
<li><code>SQL_LOG</code>: Включить логирование запросов без плейсхолдеров и медленных запросов.</li>
<li><code>SQL_ANALYZE</code>: Включить анализ запросов с помощью EXPLAIN/EXPLAIN ANALYZE.</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и предоставляет базовые инструменты для работы приложения. Константы используются для централизованного управления ключевыми параметрами системы.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html">Include</a></p>
<p>Этот файл содержит глобальные функции для работы с логами:</p><ul>
<li>Архивация старых логов (функция <code>archive_old_logs</code>).</li>
<li>Логирование ошибок (функция <code>log_in_file</code>). Функции обеспечивают безопасное управление логами, включая архивацию старых файлов и запись новых данных. Реализованы меры безопасности, такие как проверка доступа к файлам и директориям, ограничение размера логов и использование блокировок при записи.</li>
</ul>
<h1><a class="anchor" id="Functions_Main_Functions"></a>
Основные функции</h1>
<ul>
<li><b>Архивация старых логов</b>:<ul>
<li>Сжимает логи старше недели в формате <code>.gz</code> и удаляет исходные файлы.</li>
<li>Использует константы <code>COMPRESSION_LEVEL</code> и <code>LOG_LIFETIME_DAYS</code>.</li>
<li>Требует расширение zlib для работы.</li>
</ul>
</li>
<li><b>Логирование ошибок</b>:<ul>
<li>Записывает сообщения об ошибках в лог-файл.</li>
<li>Поддерживает ограничение размера файла лога (<code>MAX_LOG_SIZE</code>) и архивацию при превышении.</li>
<li>Может завершить выполнение скрипта при критических ошибках (устаревший параметр <code>$die</code>).</li>
<li>Использует блокировки для безопасной записи через потоки (flock).</li>
</ul>
</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#ad8cade6816c5b77d8ec62a310355e0b8" title="Архивирует старые логи, сжимая их в формат .gz и удаляя исходные файлы.">PhotoRigma\Include\archive_old_logs</a> Функция для архивации старых логов. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и предоставляет инструменты для управления логами. Реализованы меры безопасности для предотвращения несанкционированного доступа и повреждения данных.</dd></dl>
<h1><a class="anchor" id="Functions_Error_Handling"></a>
Обработка ошибок</h1>
<p>При возникновении ошибок генерируются исключения. Поддерживаемые типы исключений:</p><ul>
<li><code>RuntimeException</code>: Если не удалось создать директорию для логов или она недоступна для записи.</li>
<li><code>RuntimeException</code>: Если не удалось записать данные в лог-файл.</li>
<li><code>Exception</code>: Любые непредвиденные ошибки.</li>
</ul>
<dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeException</td><td>Если не удалось создать директорию для логов или она недоступна для записи. Пример сообщения: "Директория недоступна для записи | Путь: " . LOG_DIR. </td></tr>
    <tr><td class="paramname">RuntimeException</td><td>Если не удалось записать данные в лог-файл. Пример сообщения: "Не удалось записать данные в файл | Путь: {$log_file}". </td></tr>
    <tr><td class="paramname">Exception</td><td>Любые непредвиденные ошибки.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html">Include</a></p>
<p>Этот файл содержит настройки и инициализацию сессий и куков, которые используются для управления состоянием пользователя в приложении:</p><ul>
<li>Безопасная проверка значения HTTP_HOST для предотвращения атак через заголовки.</li>
<li>Настройка параметров куков для сессий (время жизни, путь, домен, флаги secure и httponly).</li>
<li>Инициализация сессии после настройки параметров куков.</li>
</ul>
<h1><a class="anchor" id="SessionInit_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Проверка и валидация HTTP_HOST для безопасного использования в куках.</li>
<li>Настройка параметров куков с использованием текущих параметров из session_get_cookie_params().</li>
<li>Инициализация сессии с применением настроенных параметров куков.</li>
</ul>
<h1><a class="anchor" id="SessionInit_Error_Handling"></a>
Обработка ошибок</h1>
<p>При возникновении ошибок генерируются исключения. Поддерживаемые типы исключений:</p><ul>
<li><code>RuntimeException</code>: Если не удалось определить HTTP_HOST или его формат некорректен.</li>
</ul>
<dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeException</td><td>Если не удалось определить HTTP_HOST или его формат некорректен. Пример сообщения: "Некорректный формат HTTP_HOST | Значение: {$cookie_domain}".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в управлении состоянием пользователя. Реализованы меры безопасности для предотвращения несанкционированного доступа через куки и сессии, такие как использование флагов secure и httponly.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит реализацию класса <code><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a></code>, который предоставляет методы для работы с HTML-шаблонами:</p><ul>
<li>Обработка шаблонов с реализацией алгоритмов IF/ELSE, ARRAY, SWITCH/CASE.</li>
<li>Формирование заголовка и подвала HTML-страницы.</li>
<li>Поддержка читаемых URL через параметр <code>$mod_rewrite</code>.</li>
<li>Все ошибки, возникающие при работе с шаблонами, обрабатываются через исключения.</li>
</ul>
<h1><a class="anchor" id="Template_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Добавление строковых данных, условий и блоков выбора для замены в шаблоне.</li>
<li>Формирование заголовка и подвала HTML-страницы.</li>
<li>Создание и обработка шаблона с подстановкой данных.</li>
<li>Поддержка читаемых URL через параметр <code>$mod_rewrite</code>.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">PhotoRigma\Classes\Template</a> Класс для работы с шаблонами. </dd>
<dd>
<a class="el" href="../../da/d1b/interfacePhotoRigma_1_1Interfaces_1_1Template__Interface.html" title="Интерфейс для работы с шаблонами.">PhotoRigma\Classes\Template_Interface</a> Интерфейс для работы с шаблонами.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения. Реализованы меры безопасности для предотвращения внедрения вредоносного кода через шаблоны.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Template_Interface</code>, который определяет методы для работы с HTML-шаблонами:</p><ul>
<li>Добавление строковых данных, условий и блоков выбора для замены в шаблоне.</li>
<li>Формирование заголовка и подвала HTML-страницы.</li>
<li>Поддержка читаемых URL через параметр <code>$mod_rewrite</code>. Все ошибки, возникающие при работе с шаблонами, обрабатываются через исключения.</li>
</ul>
<h1><a class="anchor" id="TemplateInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Установка объекта, реализующего интерфейс <code>Work_Interface</code>, через сеттер (<code>set_work</code>).</li>
<li>Добавление условий вывода фрагментов шаблона (<code>add_if</code>, <code>add_if_ar</code>).</li>
<li>Добавление выбора блоков для вывода фрагментов шаблона (<code>add_case</code>, <code>add_case_ar</code>).</li>
<li>Добавление строковых данных для замены в шаблоне (<code>add_string</code>, <code>add_string_ar</code>).</li>
<li>Создание и обработка шаблона, включая чтение файла, парсинг и замену плейсхолдеров (<code>create_template</code>).</li>
<li>Формирование заголовка HTML-страницы с меню, метаданными и блоками контента (<code>page_header</code>).</li>
<li>Формирование подвала HTML-страницы с выводом копирайта, статистики, информации о пользователе и случайной фотографии (<code>page_footer</code>).</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения. Реализация интерфейса гарантирует единообразие работы с шаблонами в системе.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит реализацию класса <code><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">User</a></code> и интерфейса <code>User_Interface</code>, которые предоставляют методы для работы с пользователями:</p><ul>
<li>Управление данными текущего пользователя (добавление, обновление, удаление).</li>
<li>Работа с группами пользователей (добавление, обновление, удаление).</li>
<li>Генерация CSRF-токенов для защиты форм.</li>
<li>Обработка прав доступа пользователей и групп.</li>
<li>Проверка данных для входа в систему. Все ошибки, возникающие при работе с пользователями, обрабатываются через исключения.</li>
</ul>
<h1><a class="anchor" id="User_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Управление данными текущего пользователя.</li>
<li>Работа с группами пользователей.</li>
<li>Генерация CSRF-токенов для защиты форм.</li>
<li>Обработка прав доступа пользователей и групп.</li>
<li>Проверка данных для входа в систему.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для работы с пользователями. </dd>
<dd>
<a class="el" href="../../dc/d14/interfacePhotoRigma_1_1Interfaces_1_1User__Interface.html" title="Интерфейс для работы с пользователями и группами.">PhotoRigma\Interfaces\User_Interface</a> Интерфейс для работы с пользователями.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения. Реализованы меры безопасности для предотвращения несанкционированного доступа и модификации данных.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000001">Необходимо сделать</a></b></dt><dd>Закончить реализацию и документирование класса.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>User_Interface</code>, который определяет методы для работы с пользователями:</p><ul>
<li>Управление данными текущего пользователя (добавление, обновление, удаление).</li>
<li>Работа с группами пользователей (добавление, обновление, удаление).</li>
<li>Генерация CSRF-токенов для защиты форм.</li>
<li>Обработка прав доступа пользователей и групп.</li>
<li>Проверка данных для входа в систему. Все ошибки, возникающие при работе с пользователями, обрабатываются через исключения.</li>
</ul>
<h1><a class="anchor" id="UserInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Установка объекта, реализующего интерфейс <code>Work_Interface</code> (<code>set_work</code>).</li>
<li>Управление свойствами пользователя и сессии (<code>set_property_key</code>, <code>unset_property_key</code>).</li>
<li>Генерация CSRF-токена для защиты от межсайтовой подделки запросов (<code>csrf_token</code>).</li>
<li>Преобразование прав пользователя в строку JSON и обратно (<code>encode_user_rights</code>, <code>process_user_rights</code>).</li>
<li>Добавление нового пользователя в базу данных (<code>add_new_user</code>).</li>
<li>Обновление данных пользователя, включая пароль, email, имя и аватар (<code>update_user_data</code>).</li>
<li>Обновление прав пользователя или группы через Админку (<code>update_user_rights</code>).</li>
<li>Удаление пользователя из системы (<code>delete_user</code>).</li>
<li>Добавление новой группы в систему (<code>add_new_group</code>).</li>
<li>Обновление данных группы (<code>update_group_data</code>).</li>
<li>Удаление группы из системы (<code>delete_group</code>).</li>
<li>Проверка данных пользователя для входа в систему (<code>login_user</code>).</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения. Реализация интерфейса гарантирует единообразие работы с пользователями и их данными.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000006">Необходимо сделать</a></b></dt><dd>Закончить реализацию и документирование интерфейса.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит основной класс приложения <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a></code>, который объединяет подклассы для выполнения различных задач. Класс предоставляет:</p><ul>
<li>Хранилище для данных о конфигурации и языковых переменных проекта.</li>
<li>Механизмы для работы с безопасностью, включая проверку входных данных и защиту от спам-ботов.</li>
<li>Механизмы для работы с изображениями через интерфейс <code>Work_Image_Interface</code>.</li>
<li>Интеграцию с интерфейсом <code>Cache_Handler_Interface</code> для кеширования данных.</li>
<li>Кеширование используется для хранения настроек и языковых переменных.</li>
<li>Класс <code>Work_Helper</code> предоставляет методы для очистки строк, преобразования размеров и проверки MIME-типов.</li>
<li>Интеграцию с интерфейсами для работы с базой данных, обработкой данных.</li>
<li>Механизмы для управления директориями, пользовательской статистикой и другими компонентами системы.</li>
</ul>
<h1><a class="anchor" id="Work_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Хранилище для данных о конфигурации и языковых переменных проекта.</li>
<li>Механизмы для работы с безопасностью (проверка входных данных, защита от спам-ботов).</li>
<li>Работа с изображениями (загрузка, обработка, изменение размеров).</li>
<li>Формирование данных для шаблонов (меню, статистика, блок пользователя).</li>
<li>Реализация основной логики приложения (работа с категориями, новостями, рейтингами).</li>
<li>Вспомогательные методы (очистка строк, преобразование размеров, проверка MIME-типов).</li>
<li>Кеширование данных через <code>Cache_Handler_Interface</code> для повышения производительности.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../da/d2a/interfacePhotoRigma_1_1Interfaces_1_1Work__Security__Interface.html" title="Интерфейс для работы с безопасностью.">PhotoRigma\Interfaces\Work_Security_Interface</a> Интерфейс для работы с безопасностью приложения. </dd>
<dd>
<a class="el" href="../../d1/de5/interfacePhotoRigma_1_1Interfaces_1_1Work__Image__Interface.html" title="Интерфейс для работы с изображениями.">PhotoRigma\Interfaces\Work_Image_Interface</a> Интерфейс, определяющий методы для работы с изображениями. </dd>
<dd>
<a class="el" href="../../d5/d9b/interfacePhotoRigma_1_1Interfaces_1_1Work__Template__Interface.html" title="Интерфейс для формирования данных для шаблонов.">PhotoRigma\Interfaces\Work_Template_Interface</a> Интерфейс для работы с шаблонами. </dd>
<dd>
<a class="el" href="../../df/d09/interfacePhotoRigma_1_1Interfaces_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов.">PhotoRigma\Interfaces\Work_Helper_Interface</a> Интерфейс для вспомогательных функций, таких как очистка строк и проверка MIME-типов. </dd>
<dd>
<a class="el" href="../../d1/d44/interfacePhotoRigma_1_1Interfaces_1_1Cache__Handler__Interface.html" title="Интерфейс для работы с системами кеширования.">PhotoRigma\Interfaces\Cache_Handler_Interface</a> Интерфейс для работы с кешированием данных. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения. Реализованы меры безопасности для предотвращения несанкционированного доступа и повреждения данных. Кеширование используется для хранения настроек и языковых переменных, что повышает производительность приложения.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_CoreLogic</code>, который реализует интерфейс <code>Work_CoreLogic_Interface</code>. Класс предоставляет методы для выполнения ключевых операций приложения, таких как:</p><ul>
<li>Работа с категориями и альбомами (метод <code>category</code>).</li>
<li>Управление изображениями (методы <code>del_photo</code>, <code>create_photo</code>).</li>
<li>Получение данных о новостях, языках и темах (методы <code>news</code>, <code>get_languages</code>, <code>get_themes</code>). Все методы зависят от конфигурации приложения и данных, полученных из базы данных.</li>
</ul>
<h1><a class="anchor" id="WorkCoreLogic_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Формирование информационных строк для категорий и пользовательских альбомов.</li>
<li>Удаление изображений и связанных данных.</li>
<li>Получение данных о новостях, языках и темах.</li>
<li>Генерация блоков вывода изображений для различных типов запросов.</li>
<li>Обработка оценок и расчёт средней оценки.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../df/d80/interfacePhotoRigma_1_1Interfaces_1_1Work__CoreLogic__Interface.html" title="Интерфейс, определяющий контракт для классов, реализующих базовую логику приложения.">PhotoRigma\Interfaces\Work_CoreLogic_Interface</a> Интерфейс, который реализует данный класс.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в выполнении базовой логики приложения. Реализованы меры безопасности для предотвращения несанкционированного доступа к данным.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Work_CoreLogic_Interface</code>, который определяет методы для выполнения ключевых операций приложения:</p><ul>
<li>Установка языковых данных и объекта пользователя через сеттеры (<code>set_lang</code>, <code>set_user</code>).</li>
<li>Формирование информационных строк для категорий и пользовательских альбомов (<code>category</code>).</li>
<li>Удаление изображений и связанных данных (<code>del_photo</code>).</li>
<li>Получение данных о новостях, языках и темах (<code>news</code>, <code>get_languages</code>, <code>get_themes</code>).</li>
<li>Генерация блоков вывода изображений для различных типов запросов (<code>create_photo</code>).</li>
<li>Добавление оценок и расчёт средней оценки фотографии (<code>process_rating</code>). Все методы зависят от конфигурации приложения и данных, полученных из базы данных.</li>
</ul>
<h1><a class="anchor" id="WorkCoreLogicInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Установка языковых данных и объекта пользователя.</li>
<li>Работа с категориями и альбомами.</li>
<li>Управление изображениями (удаление, создание блоков вывода).</li>
<li>Получение данных о новостях, языках и темах.</li>
<li>Обработка оценок и расчёт средней оценки.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в выполнении базовой логики приложения. Реализация интерфейса гарантирует единообразие работы с основными компонентами системы.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Helper</code>, который реализует вспомогательные методы для обработки данных. Класс предоставляет методы для очистки строк от HTML-тегов, преобразования размеров в байты, транслитерации строк, преобразования BBCode в HTML, разбиения строк на ограниченные по длине части и проверки MIME-типов. Все методы класса являются статическими.</p>
<h1><a class="anchor" id="WorkHelper_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Очистка строк от HTML-тегов и специальных символов.</li>
<li>Преобразование размеров в байты.</li>
<li>Транслитерация строк и замена знаков пунктуации.</li>
<li>Преобразование BBCode в HTML.</li>
<li>Разбиение строк на несколько строк ограниченной длины.</li>
<li>Проверка MIME-типов файлов через доступные библиотеки.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы для работы с данными. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обработке данных. Класс поддерживает работу с различными форматами данных, включая строки, числа, изображения и MIME-типы. Реализованы меры безопасности для предотвращения внедрения вредоносного кода.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Work_Helper_Interface</code>, который определяет контракт для класса, предоставляющего вспомогательные методы для обработки данных:</p><ul>
<li>Очистка строк от HTML-тегов и специальных символов.</li>
<li>Преобразование размеров в байты.</li>
<li>Транслитерация строк и замена знаков пунктуации.</li>
<li>Преобразование BBCode в HTML.</li>
<li>Разбиение строк на несколько строк ограниченной длины.</li>
<li>Проверка MIME-типов файлов через доступные библиотеки. Все методы интерфейса реализуются как статические.</li>
</ul>
<h1><a class="anchor" id="WorkHelperInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Очистка строк от HTML-тегов и специальных символов.</li>
<li>Преобразование размеров в байты.</li>
<li>Транслитерация строк и замена знаков пунктуации.</li>
<li>Преобразование BBCode в HTML.</li>
<li>Разбиение строк на несколько строк ограниченной длины.</li>
<li>Проверка MIME-типов файлов через доступные библиотеки.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обработке данных. Интерфейс поддерживает работу с различными форматами данных, включая строки, числа, изображения и MIME-типы. Реализованы меры безопасности для предотвращения внедрения вредоносного кода.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Image</code>, который реализует интерфейс <code>Work_Image_Interface</code>. Класс предоставляет методы для работы с изображениями, включая изменение размеров, вывод через HTTP, обработку отсутствующих изображений, корректировку расширения файла в соответствии с его MIME-типом и логирование ошибок. Публичные методы класса являются редиректами на защищённые методы с суффиксом <code>_internal</code>, что обеспечивает более гибкую архитектуру (паттерн "фасад").</p>
<h1><a class="anchor" id="WorkImage_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Создание директорий для категорий и копирование файлов <code><a class="el" href="../../de/d20/index_8php.html" title="Точка входа в приложение PhotoRigma.">index.php</a></code>.</li>
<li>Корректировка расширения файла в соответствии с его MIME-типом.</li>
<li>Вывод изображений через HTTP с защитой от MIME-sniffing и кликджекинга.</li>
<li>Изменение размеров изображений (создание эскизов).</li>
<li>Удаление директорий и их содержимого.</li>
<li>Вычисление размеров для вывода эскиза изображения.</li>
<li>Возвращение данных для отсутствующего изображения.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d1/de5/interfacePhotoRigma_1_1Interfaces_1_1Work__Image__Interface.html" title="Интерфейс для работы с изображениями.">PhotoRigma\Interfaces\Work_Image_Interface</a> Интерфейс для работы с изображениями. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы для работы с изображениями. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обработке изображений. Класс поддерживает работу с библиотеками GraphicsMagick, ImageMagick и GD для изменения размеров изображений. Реализованы меры безопасности для предотвращения уязвимостей, таких как MIME-sniffing и кликджекинг.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Work_Image_Interface</code>, который определяет контракт для классов, реализующих методы для выполнения операций с изображениями:</p><ul>
<li>Вычисление размеров эскизов.</li>
<li>Изменение размеров изображений.</li>
<li>Обработка отсутствующих изображений.</li>
<li>Вывод изображений через HTTP.</li>
<li>Корректировка расширения файла в соответствии с его MIME-типом.</li>
<li>Удаление директории и её содержимого.</li>
<li>Создание директорий для категории и копирование файлов <code><a class="el" href="../../de/d20/index_8php.html" title="Точка входа в приложение PhotoRigma.">index.php</a></code>.</li>
</ul>
<h1><a class="anchor" id="WorkImageInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Вычисление размеров эскизов.</li>
<li>Изменение размеров изображений.</li>
<li>Обработка отсутствующих изображений.</li>
<li>Вывод изображений через HTTP.</li>
<li>Корректировка расширения файла в соответствии с его MIME-типом.</li>
<li>Удаление директории и её содержимого.</li>
<li>Создание директорий для категории и копирование файлов <code><a class="el" href="../../de/d20/index_8php.html" title="Точка входа в приложение PhotoRigma.">index.php</a></code>.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обработке изображений. Интерфейс поддерживает работу с библиотеками GraphicsMagick, ImageMagick и GD для изменения размеров изображений. Реализованы меры безопасности для предотвращения уязвимостей, таких как MIME-sniffing и кликджекинг.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Work_Interface</code>, который определяет методы для управления языковыми данными, объектом пользователя и обеспечивает доступ к функционалу дочерних компонентов через фасады:</p><ul>
<li>Установка языковых данных из директорий (<code>set_lang</code>). Метод сканирует указанные директории, загружает файлы языковых данных и передаёт их в дочерние компоненты.</li>
<li>Установка объекта пользователя через сеттер (<code>set_user</code>).</li>
<li>Делегирование вызовов методов дочерним компонентам:<ul>
<li><code>Work_Helper_Interface</code>: Вспомогательные методы (например, очистка строк, преобразование размеров).</li>
<li><code>Work_CoreLogic_Interface</code>: Базовая логика приложения (например, работа с категориями, новостями).</li>
<li><code>Work_Image_Interface</code>: Работа с изображениями (например, изменение размеров, вывод эскизов).</li>
<li><code>Work_Template_Interface</code>: Формирование данных для шаблонов (например, меню, статистика).</li>
<li><code>Work_Security_Interface</code>: Безопасность приложения (например, проверка входных данных, CAPTCHA). Реализация этого интерфейса гарантирует единообразие работы с основными компонентами приложения.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="WorkInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Управление языковыми данными через метод <code>set_lang</code>.</li>
<li>Управление объектом пользователя через метод <code>set_user</code>.</li>
<li>Делегирование вызовов методов дочерним компонентам (например, <code>Work_Helper_Interface</code>, <code>Work_CoreLogic_Interface</code>, <code>Work_Image_Interface</code> и др.).</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../dc/d14/interfacePhotoRigma_1_1Interfaces_1_1User__Interface.html" title="Интерфейс для работы с пользователями и группами.">PhotoRigma\Interfaces\User_Interface</a> Интерфейс для работы с пользователями. </dd>
<dd>
<a class="el" href="../../df/d09/interfacePhotoRigma_1_1Interfaces_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов.">PhotoRigma\Interfaces\Work_Helper_Interface</a> Интерфейс для вспомогательных методов. </dd>
<dd>
<a class="el" href="../../df/d80/interfacePhotoRigma_1_1Interfaces_1_1Work__CoreLogic__Interface.html" title="Интерфейс, определяющий контракт для классов, реализующих базовую логику приложения.">PhotoRigma\Interfaces\Work_CoreLogic_Interface</a> Интерфейс для базовой логики приложения. </dd>
<dd>
<a class="el" href="../../d1/de5/interfacePhotoRigma_1_1Interfaces_1_1Work__Image__Interface.html" title="Интерфейс для работы с изображениями.">PhotoRigma\Interfaces\Work_Image_Interface</a> Интерфейс для работы с изображениями. </dd>
<dd>
<a class="el" href="../../d5/d9b/interfacePhotoRigma_1_1Interfaces_1_1Work__Template__Interface.html" title="Интерфейс для формирования данных для шаблонов.">PhotoRigma\Interfaces\Work_Template_Interface</a> Интерфейс для формирования данных шаблонов. </dd>
<dd>
<a class="el" href="../../da/d2a/interfacePhotoRigma_1_1Interfaces_1_1Work__Security__Interface.html" title="Интерфейс для работы с безопасностью.">PhotoRigma\Interfaces\Work_Security_Interface</a> Интерфейс для работы с безопасностью.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в организации работы приложения. Интерфейс предоставляет контракт для реализации основной логики взаимодействия между компонентами.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Security</code>, который реализует интерфейс <code>Work_Security_Interface</code>. Класс предоставляет методы для:</p><ul>
<li>Проверки входных данных на наличие вредоносного кода.</li>
<li>Защиты от спам-ботов с использованием CAPTCHA.</li>
<li>Фильтрации email-адресов для затруднения автоматического парсинга ботами.</li>
<li>Универсальной проверки данных из различных источников ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES).</li>
</ul>
<h1><a class="anchor" id="WorkSecurity_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Проверка входных данных на соответствие регулярным выражениям.</li>
<li>Защита email-адресов от парсинга ботами.</li>
<li>Генерация математических CAPTCHA-вопросов для защиты от спам-ботов.</li>
<li>Проверка URL на наличие вредоносного кода.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../da/d2a/interfacePhotoRigma_1_1Interfaces_1_1Work__Security__Interface.html" title="Интерфейс для работы с безопасностью.">PhotoRigma\Interfaces\Work_Security_Interface</a> Интерфейс для работы с безопасностью приложения. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы безопасности. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обеспечении безопасности приложения. Реализованы меры для предотвращения атак, таких как XSS, SQL-инъекции и спам-боты.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Work_Security_Interface</code>, который определяет методы для обеспечения безопасности приложения. Классы, реализующие этот интерфейс, предоставляют функционал для защиты от распространённых угроз, таких как SQL-инъекции, XSS-атаки, спам-боты и другие:</p><ul>
<li>Проверка URL на наличие вредоносного кода.</li>
<li>Проверка входных данных из различных источников ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES).</li>
<li>Проверка содержимого полей на соответствие регулярным выражениям или другим условиям.</li>
<li>Генерация математических CAPTCHA-вопросов для защиты от спам-ботов.</li>
<li>Фильтрация email-адресов для защиты от парсинга ботами.</li>
</ul>
<h1><a class="anchor" id="WorkSecurityInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Проверка URL на наличие вредоносного кода.</li>
<li>Проверка входных данных из различных источников ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES).</li>
<li>Проверка содержимого полей на соответствие регулярным выражениям или другим условиям.</li>
<li>Генерация математических CAPTCHA-вопросов для защиты от спам-ботов.</li>
<li>Фильтрация email-адресов для защиты от парсинга ботами.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в обеспечении безопасности приложения. Реализованы меры для предотвращения атак, таких как XSS, SQL-инъекции и спам-боты. Все методы данного интерфейса рекомендуется вызывать через класс <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a></code>.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></p>
<p>Этот файл содержит класс <code>Work_Template</code>, который реализует интерфейс <code>Work_Template_Interface</code>. Класс предоставляет методы для генерации данных, необходимых для отображения различных блоков на странице, таких как меню, блок пользователя, статистика и список лучших пользователей. Все данные формируются на основе запросов к базе данных и конфигурации. Реализация методов зависит от глобальных переменных, таких как $_SESSION, для проверки статуса авторизации.</p>
<h1><a class="anchor" id="WorkTemplate_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Формирование данных для меню.</li>
<li>Генерация списка лучших пользователей.</li>
<li>Генерация статистических данных.</li>
<li>Формирование блока пользователя.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d5/d9b/interfacePhotoRigma_1_1Interfaces_1_1Work__Template__Interface.html" title="Интерфейс для формирования данных для шаблонов.">PhotoRigma\Interfaces\Work_Template_Interface</a> Интерфейс, который реализует данный класс. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">PhotoRigma\Classes\Work</a> Класс, через который вызываются методы для работы с шаблонами.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в формировании данных для шаблонов. Реализованы меры безопасности для предотвращения несанкционированного доступа к данным через глобальные переменные.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></p>
<p>Этот файл содержит интерфейс <code>Work_Template_Interface</code>, который определяет методы для формирования данных, необходимых для отображения различных блоков на странице, таких как меню, блок пользователя, статистика и список лучших пользователей. Все данные формируются на основе запросов к базе данных и конфигурации. Реализация методов зависит от глобальных переменных, таких как $_SESSION, для проверки статуса авторизации.</p>
<h1><a class="anchor" id="WorkTemplateInterface_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Формирование массива данных для меню.</li>
<li>Создание блока пользователя.</li>
<li>Генерация статистических данных.</li>
<li>Формирование списка лучших пользователей.</li>
<li>Установка языковых данных и объекта пользователя.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в формировании данных для шаблонов. Все методы данного интерфейса рекомендуется вызывать через класс <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a></code>. Реализованы меры безопасности для предотвращения несанкционированного доступа к данным через глобальные переменные.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>Этот файл является точкой входа в приложение и выполняет следующие задачи:</p><ul>
<li>Подключает конфигурационный файл (<code><a class="el" href="../../d0/d45/config_8php.html" title="Редактируемые настройки сервера.">config.php</a></code>) и проверяет его доступность.</li>
<li>Проверяет наличие и доступность обязательных файлов (например, <code>common.php</code>, <code><a class="el" href="../../d2/d89/Database_8php.html" title="Класс для работы с базами данных через PDO.">Database.php</a></code>).</li>
<li>Создаёт объекты основных классов (<code><a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс для работы с базами данных через PDO.">Database</a></code>, <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a></code>, <code><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a></code>, <code><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">User</a></code>).</li>
<li>Обрабатывает действия пользователя через параметр <code>action</code>. Значение, получаемое из запроса в URL, указывает на действие, которое должно выполнить приложение.</li>
<li>Выводит шаблонные элементы страницы (шапку, подвал и содержимое).</li>
<li>Реализует централизованную систему обработки ошибок и их логирования на уровне ядра приложения.</li>
</ul>
<h1><a class="anchor" id="Index_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Подключение конфигурации и обязательных файлов.</li>
<li>Инициализация основных классов (<code><a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс для работы с базами данных через PDO.">Database</a></code>, <code><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a></code>, <code><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a></code>, <code><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">User</a></code>).</li>
<li>Обработка действий пользователя через параметр <code>action</code>.</li>
<li>Генерация HTML-контента страницы.</li>
<li>Логирование ошибок и обработка исключений.</li>
</ul>
<h1><a class="anchor" id="Index_Action_Param"></a>
Параметр <code>action</code></h1>
<p>Параметр <code>action</code> определяет действие, которое должно быть выполнено приложением. Поддерживаемые значения:</p><ul>
<li><code>admin</code>: Администрирование сайта.</li>
<li><code>attach</code>: Реализует безопасный вывод фото из галереи по идентификатору с проверкой прав доступа и ограничением путей.</li>
<li><code>category</code>: Обзор и управление разделами галереи.</li>
<li><code>main</code>: Главная страница. Формирует и выводит последние новости проекта, проверяя права пользователя на их просмотр.</li>
<li><code>news</code>: Реализует функциональность работы с новостями: добавление, редактирование, удаление и отображение.</li>
<li><code>photo</code>: Работа с фотографиями: вывод, редактирование, загрузка и обработка изображений, оценок.</li>
<li><code>profile</code>: Работа с пользователями: вход, выход, регистрация, редактирование и просмотр профиля.</li>
<li><code>search</code>: Обработка поисковых запросов на сайте.</li>
</ul>
<h1><a class="anchor" id="Index_Error_Handling"></a>
Обработка ошибок</h1>
<p>При возникновении ошибок генерируются исключения. Поддерживаемые типы исключений:</p><ul>
<li><code>RuntimeException</code>: Если конфигурационный файл или обязательные файлы отсутствуют.</li>
<li><code>PDOException</code>: Если возникла ошибка при работе с базой данных.</li>
<li><code>Exception</code>: Если возникла непредвиденная ошибка.</li>
</ul>
<dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">RuntimeException</td><td>Если конфигурационный файл отсутствует или недоступен для чтения. Пример сообщения: "Конфигурационный файл отсутствует или не является
             файлом | Путь: config.php". </td></tr>
    <tr><td class="paramname">RuntimeException</td><td>Если обязательные файлы отсутствуют или недоступны для чтения. Пример сообщения: "Проверка обязательных файлов завершилась ошибкой | Ошибки:
             [список ошибок]". </td></tr>
    <tr><td class="paramname">RuntimeException</td><td>Если файл действия не найден или недоступен для чтения. Пример сообщения: "Файл действий не найден или недоступен для чтения | Путь:
             [путь к файлу]". </td></tr>
    <tr><td class="paramname">PDOException</td><td>Если возникла ошибка при работе с базой данных. Пример сообщения: "Ошибка базы данных | [сообщение об ошибке]". </td></tr>
    <tr><td class="paramname">Exception</td><td>Если возникла непредвиденная ошибка. Пример сообщения: "Общая ошибка |
             [сообщение об ошибке]".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d0/d45/config_8php.html" title="Редактируемые настройки сервера.">config.php</a> Файл конфигурации, содержащий параметры приложения.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d2/d8d/constants_8php.html" title="Файл содержит константы, используемые в приложении.">include/constants.php</a> Файл с глобальными константами приложения.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d5/d4c/session__init_8php.html" title="Файл содержит настройки и инициализацию сессий и куков для управления состоянием пользователя.">include/session_init.php</a> Файл для инициализации сессии.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d2/d62/functions_8php.html" title="Файл содержит глобальные функции для работы с логами.">include/functions.php</a> Файл с глобальными функциями приложения.<ul>
<li>Классы приложения:<ul>
<li></li>
</ul>
</li>
</ul>
</dd>
<dd>
<a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс для работы с базами данных через PDO.">PhotoRigma\Classes\Database</a> Класс для работы с базами данных через PDO.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html" title="Класс для выполнения вспомогательных задач.">PhotoRigma\Classes\Work_Helper</a> Класс для выполнения вспомогательных задач.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html" title="Класс для выполнения базовой логики приложения.">PhotoRigma\Classes\Work_CoreLogic</a> Класс для выполнения базовой логики приложения.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html" title="Класс для работы с изображениями.">PhotoRigma\Classes\Work_Image</a> Класс для работы с изображениями.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html" title="Класс для формирования данных для шаблонов.">PhotoRigma\Classes\Work_Template</a> Класс для формирования данных для шаблонов.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html" title="Класс для обеспечения безопасности приложения.">PhotoRigma\Classes\Work_Security</a> Класс для обеспечения безопасности приложения.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">PhotoRigma\Classes\Work</a> Основной класс приложения.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">PhotoRigma\Classes\Template</a> Класс для работы с шаблонами.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для работы с пользователями и хранения данных о текущем пользователе.<ul>
<li>Интерфейсы:<ul>
<li></li>
</ul>
</li>
</ul>
</dd>
<dd>
<a class="el" href="../../d7/dc2/interfacePhotoRigma_1_1Interfaces_1_1Database__Interface.html" title="Интерфейс для работы с базами данных через PDO.">PhotoRigma\Interfaces\Database_Interface</a> Интерфейс для работы с базами данных через PDO.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../df/d09/interfacePhotoRigma_1_1Interfaces_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов.">PhotoRigma\Interfaces\Work_Helper_Interface</a> Интерфейс для вспомогательных методов.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../df/d80/interfacePhotoRigma_1_1Interfaces_1_1Work__CoreLogic__Interface.html" title="Интерфейс, определяющий контракт для классов, реализующих базовую логику приложения.">PhotoRigma\Interfaces\Work_CoreLogic_Interface</a> Интерфейс, определяющий контракт для классов, реализующих базовую логику приложения.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d1/de5/interfacePhotoRigma_1_1Interfaces_1_1Work__Image__Interface.html" title="Интерфейс для работы с изображениями.">PhotoRigma\Interfaces\Work_Image_Interface</a> Интерфейс для работы с изображениями.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../d5/d9b/interfacePhotoRigma_1_1Interfaces_1_1Work__Template__Interface.html" title="Интерфейс для формирования данных для шаблонов.">PhotoRigma\Interfaces\Work_Template_Interface</a> Интерфейс для формирования данных для шаблонов.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../da/d2a/interfacePhotoRigma_1_1Interfaces_1_1Work__Security__Interface.html" title="Интерфейс для работы с безопасностью.">PhotoRigma\Interfaces\Work_Security_Interface</a> Интерфейс для работы с безопасностью.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../da/d79/interfacePhotoRigma_1_1Interfaces_1_1Work__Interface.html" title="Интерфейс для центральной точки приложения.">PhotoRigma\Interfaces\Work_Interface</a> Интерфейс для центральной точки приложения.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../da/d1b/interfacePhotoRigma_1_1Interfaces_1_1Template__Interface.html" title="Интерфейс для работы с шаблонами.">PhotoRigma\Interfaces\Template_Interface</a> Интерфейс для работы с шаблонами.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../dc/d14/interfacePhotoRigma_1_1Interfaces_1_1User__Interface.html" title="Интерфейс для работы с пользователями и группами.">PhotoRigma\Interfaces\User_Interface</a> Интерфейс для работы с пользователями и группами.<ul>
<li>Вспомогательные функции:<ul>
<li></li>
</ul>
</li>
</ul>
</dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#ad8cade6816c5b77d8ec62a310355e0b8" title="Архивирует старые логи, сжимая их в формат .gz и удаляя исходные файлы.">PhotoRigma\Include\archive_old_logs</a> Функция для архивации старых логов.<ul>
<li></li>
</ul>
</dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и играет ключевую роль в запуске и работе приложения. Реализованы меры безопасности для предотвращения несанкционированного доступа и выполнения действий.</dd></dl>
<p>Примеры вызова файла через URL с использованием параметра <code>action</code>: </p><div class="fragment"><div class="line">http:<span class="comment">//example.com/index.php?action=admin</span></div>
<div class="line">http:<span class="comment">//example.com/index.php?action=attach&amp;id=123</span></div>
<div class="line">http:<span class="comment">//example.com/index.php?action=category</span></div>
<div class="line">http:<span class="comment">//example.com/index.php?action=main</span></div>
<div class="line">http:<span class="comment">//example.com/index.php?action=profile&amp;uid=9</span></div>
</div><!-- fragment --><dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dc/d7a/namespacePhotoRigma_1_1Language.html">Language</a></p>
<p>This file contains English language strings used in the core of the project. It includes texts for the interface, menus, forms, notifications, and other elements.</p>
<h1><a class="anchor" id="LanguageEn_Main_Functions"></a>
Main Functions</h1>
<ul>
<li>Providing localized strings for the interface.</li>
<li>Supporting multilingual functionality of the project.</li>
<li>Simplifying text updates through centralized storage.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../de/d8e/group__LanguageEnglish.html">English Language Variables</a> Group for English localization.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>This file is part of the <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> system and provides localization for the project in English.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2025 Dark Dayver. All rights reserved. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:<ul>
<li>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</li>
</ul>
</dd></dl>
<p>\<a class="el" href="../../dc/d7a/namespacePhotoRigma_1_1Language.html">Language</a></p>
<p>Этот файл содержит строки русского языка, используемые в ядре проекта сайта. Включает тексты для интерфейса, меню, форм, уведомлений и других элементов.</p>
<h1><a class="anchor" id="LanguageRu_Main_Functions"></a>
Основные функции</h1>
<ul>
<li>Предоставление локализованных строк для интерфейса.</li>
<li>Поддержка многоязычности проекта.</li>
<li>Упрощение обновления текстов через централизованное хранение.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../dd/d84/group__LanguageRussian.html">Языковые переменные русского языка</a> Группа для русской локализации.</dd></dl>
<dl class="section note"><dt>Заметки</dt><dd>Этот файл является частью системы <a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a> и обеспечивает локализацию проекта на русском языке.</dd></dl>
<dl class="section copyright"><dt>Авторство</dt><dd>Copyright (c) 2008-2025 Dark Dayver. Все права защищены. @license MIT License (<a href="https://opensource.org/licenses/MIT">https://opensource.org/licenses/MIT</a>) Разрешается использовать, копировать, изменять, объединять, публиковать, распространять, сублицензировать и/или продавать копии программного обеспечения, а также разрешать лицам, которым предоставляется данное программное обеспечение, делать это при соблюдении следующих условий:<ul>
<li>Уведомление об авторских правах и условия лицензии должны быть включены во все копии или значимые части программного обеспечения. </li>
</ul>
</dd></dl>
</div><h2 class="groupheader">Переменные</h2>
<a id="aa698a3e72116e8e778be0e95d908ee30" name="aa698a3e72116e8e778be0e95d908ee30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa698a3e72116e8e778be0e95d908ee30">&#9670;&#160;</a></span>$action</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$action = 'main'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Действие, которое необходимо выполнить. </p>
<p>Возможные значения определяются динамически в зависимости от доступных файлов в директории 'action/'. Пример вызова действия 'profile': $_GET['action'] = 'profile'; @noinspection PhpRedundantVariableDocTypeInspection </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00347">347</a></p>

<p class="reference">Используется в <a class="el" href="../../df/dbe/Work__Template_8php_source.html#l00438">Work_Template\_create_menu_internal()</a>, <a class="el" href="../../df/d4d/Template_8php_source.html#l01390">Template\_page_header_internal()</a>, <a class="el" href="../../d1/dce/Work_8php_source.html#l01883">Work\create_menu()</a>, <a class="el" href="../../df/dbe/Work__Template_8php_source.html#l00361">Work_Template\create_menu()</a>, <a class="el" href="../../da/d79/interfacePhotoRigma_1_1Interfaces_1_1Work__Interface.html#af970fc714c16e27d2d60d698522a8504">Work_Interface\create_menu()</a>, <a class="el" href="../../d5/d9b/interfacePhotoRigma_1_1Interfaces_1_1Work__Template__Interface.html#af970fc714c16e27d2d60d698522a8504">Work_Template_Interface\create_menu()</a>, <a class="el" href="../../df/d4d/Template_8php_source.html#l01305">Template\page_header()</a> и <a class="el" href="../../da/d1b/interfacePhotoRigma_1_1Interfaces_1_1Template__Interface.html#a341d1f1abf0c06ad67bc2b47134718e2">Template_Interface\page_header()</a>.</p>

</div>
</div>
<a id="a0eb0a189bae04261ab41ac974f8eb757" name="a0eb0a189bae04261ab41ac974f8eb757"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eb0a189bae04261ab41ac974f8eb757">&#9670;&#160;</a></span>$base_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(! $script_name) if(! $script_name) if (!preg_match('/^\/ $base_path[a-zA-Z0-9._\-\/] *$/', $script_name)) = dirname($script_name)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Генерация полного URL сайта.</p>
<p>Формируется на основе протокола, HTTP_HOST и SCRIPT_NAME. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00324">324</a></p>

</div>
</div>
<a id="ac2dc76d756ec398393d4b1d23659276c" name="ac2dc76d756ec398393d4b1d23659276c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2dc76d756ec398393d4b1d23659276c">&#9670;&#160;</a></span>$cache</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$cache = new <a class="el" href="../../d3/d14/classCache__Handler.html">Cache_Handler</a>($config['cache'], $config['site_dir'])</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Создание объекта класса <a class="el" href="../../d3/d14/classCache__Handler.html" title="Класс для работы с системами кеширования.">Cache_Handler</a> для работы с системами кеширования. </p>
<p>Инициализируется через конструктор с параметрами из массива $config['cache'].</p><ul>
<li>Для файлового кеширования (<code>file</code>) требуется указать путь к директории кеша.</li>
<li>Для Redis/Memcached требуется указать хост и порт. Дополнительно может быть передан путь к корневой директории проекта ($config['site_dir']) для файлового кеширования. <dl class="section see"><dt>См. также</dt><dd>PhotoRigma::Classes::Cache_Handler Класс для работы с системами кеширования. </dd>
<dd>
<a class="el" href="../../db/d06/Cache__Handler_8php.html" title="Класс для работы с системами кеширования.">include/Cache_Handler.php</a> Файл, содержащий реализацию класса <a class="el" href="../../d3/d14/classCache__Handler.html" title="Класс для работы с системами кеширования.">Cache_Handler</a>. </dd>
<dd>
<a class="el" href="#a49c7011be9c979d9174c52a8b83e5d8e" title="Массив с настройками сервера.">$config</a> Массив конфигурации, используемый для настройки системы кеширования. </dd></dl>
</li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00257">257</a></p>

</div>
</div>
<a id="a49c7011be9c979d9174c52a8b83e5d8e" name="a49c7011be9c979d9174c52a8b83e5d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c7011be9c979d9174c52a8b83e5d8e">&#9670;&#160;</a></span>$config <span class="overload">[1/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Массив с настройками сервера. </p>
<p>Содержит как редактируемые пользователем параметры (например, параметры БД), так и автоматически генерируемые параметры (например, URL сайта). После инициализации массив $config передаётся в свойство <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a>. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a> @noinspection PhpRedundantVariableDocTypeInspection </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00137">137</a></p>

</div>
</div>
<a id="a72b7cbcb598885a80db0fe086fe3cc93" name="a72b7cbcb598885a80db0fe086fe3cc93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b7cbcb598885a80db0fe086fe3cc93">&#9670;&#160;</a></span>$config <span class="overload">[2/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'avatar_folder'] = 'avatar'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Имя папки для хранения аватаров пользователей (указывается относительно корня проекта). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00183">183</a></p>

</div>
</div>
<a id="ad05be8b9c3365b29eada46249994ee67" name="ad05be8b9c3365b29eada46249994ee67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad05be8b9c3365b29eada46249994ee67">&#9670;&#160;</a></span>$config <span class="overload">[3/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'cache']</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <span class="stringliteral">&#39;type&#39;</span> =&gt; <span class="stringliteral">&#39;file&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;cache_dir&#39;</span> =&gt; <span class="stringliteral">&#39;cache&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;host&#39;</span> =&gt; <span class="stringliteral">&#39;127.0.0.1&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;port&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">    </div>
<div class="line">]</div>
</div><!-- fragment -->
<p>Параметры конфигурации системы кеширования. </p>
<p>Система поддерживает три типа кеширования:</p><ul>
<li>'file': Файловое кеширование (данные хранятся в файлах).</li>
<li>'redis': Кеширование с использованием Redis.</li>
<li>'memcached': Кеширование с использованием Memcached.</li>
</ul>
<p>Параметры настройки зависят от выбранного типа кеширования:</p><ul>
<li>Для файлового кеширования требуется указать путь к директории кеша ('cache_dir').</li>
<li>Для Redis и Memcached требуется указать хост ('host') и порт ('port'). Если порт не указан, используются значения по умолчанию:<ul>
<li>Redis: 6379</li>
<li>Memcached: 11211</li>
</ul>
</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../db/d06/Cache__Handler_8php.html" title="Класс для работы с системами кеширования.">include/Cache_Handler.php</a> Файл, где используется этот массив для работы с кешем. @noinspection PhpArrayWriteIsNotUsedInspection </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00205">205</a></p>

</div>
</div>
<a id="a956c492a034bf7c9773eeb0db6723ecc" name="a956c492a034bf7c9773eeb0db6723ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956c492a034bf7c9773eeb0db6723ecc">&#9670;&#160;</a></span>$config <span class="overload">[4/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'db']</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <span class="stringliteral">&#39;dbtype&#39;</span> =&gt; <span class="stringliteral">&#39;mysql&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbhost&#39;</span> =&gt; <span class="stringliteral">&#39;localhost&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbport&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbsock&#39;</span> =&gt; <span class="stringliteral">&#39;/var/lib/mysql/mysql.sock&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbuser&#39;</span> =&gt; <span class="stringliteral">&#39;root&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbpass&#39;</span> =&gt; <span class="stringliteral">&#39;&#39;</span>,</div>
<div class="line">    </div>
<div class="line">    <span class="stringliteral">&#39;dbname&#39;</span> =&gt; <span class="stringliteral">&#39;photorigma&#39;</span>,</div>
<div class="line">    </div>
<div class="line">]</div>
</div><!-- fragment -->
<p>Параметры подключения к базе данных. </p>
<p>Включает следующие параметры:</p><ul>
<li>dbtype: Тип базы данных (по умолчанию: mysql, можно использовать pgsql или sqlite).</li>
<li>dbhost: Сервер основной базы данных (по умолчанию: localhost). Не используется для SQLite.</li>
<li>dbport: Порт сервера основной базы данных (оставить пустым для значения по умолчанию, например: 3306 для MySQL). Не используется для SQLite.</li>
<li>dbsock: Путь к сокету (используется, если хост не указан, например: /var/lib/mysql/mysql.sock). Не используется для SQLite.</li>
<li>dbuser: Имя пользователя в БД (например: root). Не используется для SQLite.</li>
<li>dbpass: Пароль пользователя БД (например: my_secure_password). Не используется для SQLite.</li>
<li>dbname: Имя базы данных (например: photorigma). Для SQLite это путь к файлу базы данных. <dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d2/d89/Database_8php.html" title="Класс для работы с базами данных через PDO.">include/Database.php</a> Файл, где используется этот массив для подключения к БД. @noinspection PhpArrayWriteIsNotUsedInspection </dd></dl>
</li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00161">161</a></p>

</div>
</div>
<a id="a9cbc6c8282a2d9cb05934c3fed640018" name="a9cbc6c8282a2d9cb05934c3fed640018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbc6c8282a2d9cb05934c3fed640018">&#9670;&#160;</a></span>$config <span class="overload">[5/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'gallery_folder'] = 'gallery'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Имя папки для хранения фотографий (указывается относительно корня проекта). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00181">181</a></p>

</div>
</div>
<a id="a412006ba52011f7d77e5b9f2889a184c" name="a412006ba52011f7d77e5b9f2889a184c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a412006ba52011f7d77e5b9f2889a184c">&#9670;&#160;</a></span>$config <span class="overload">[6/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if( $config[ 'site_dir']===false) if(!is_dir($config['site_dir'])) if(!is_readable( $config[ 'site_dir'])) if(!is_writable($config['site_dir'])) if (!str_ends_with( $config[ 'site_dir'], '/')) $config[ 'inc_dir'] = $config['site_dir'] . 'include/'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Определение inc_dir.</p>
<p>Указывает путь к директории include/, содержащей вспомогательные классы и функции. </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00385">385</a></p>

</div>
</div>
<a id="ad8f0eaf2324e66fe919da857ccbe33e7" name="ad8f0eaf2324e66fe919da857ccbe33e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8f0eaf2324e66fe919da857ccbe33e7">&#9670;&#160;</a></span>$config <span class="overload">[7/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'site_dir'] = realpath(__DIR__)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Определение site_dir с нормализацией пути.</p>
<p>Используется realpath для получения абсолютного пути к директории. Выполняются дополнительные проверки:</p><ul>
<li>Является ли путь директорией.</li>
<li>Доступна ли директория для чтения и записи. </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00347">347</a></p>

</div>
</div>
<a id="a33bafce57e837bd695b691dc6001e96f" name="a33bafce57e837bd695b691dc6001e96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33bafce57e837bd695b691dc6001e96f">&#9670;&#160;</a></span>$config <span class="overload">[8/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'site_url'] = 'http://'</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Определение протокола (HTTP/HTTPS).</p>
<p>Проверяются различные способы определения протокола:</p><ul>
<li>Переменная $_SERVER['HTTPS'] (учитываются значения 'on', '1', и случайный регистр).</li>
<li>Заголовок X-Forwarded-Proto (учитываются значения 'https', 'h2', и случайный регистр).</li>
<li>Порт сервера (443 для HTTPS).</li>
<li>Переменная $_SERVER['REQUEST_SCHEME']. Если ни один из способов не дал результата, используется HTTP. @noinspection HttpUrlsUsage </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00243">243</a></p>

</div>
</div>
<a id="a78c432ed71c36e4285d478f21642200a" name="a78c432ed71c36e4285d478f21642200a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78c432ed71c36e4285d478f21642200a">&#9670;&#160;</a></span>$config <span class="overload">[9/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if($base_path==='.') if (!str_ends_with( $base_path, '/')) $config[ 'site_url'] = $http_host . $base_path</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00337">337</a></p>

</div>
</div>
<a id="a97536661153bec04cfa8c9437f7dac4a" name="a97536661153bec04cfa8c9437f7dac4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97536661153bec04cfa8c9437f7dac4a">&#9670;&#160;</a></span>$config <span class="overload">[10/10]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$config[ 'thumbnail_folder'] = 'thumbnail'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Имя папки для хранения эскизов фотографий (указывается относительно корня проекта). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00182">182</a></p>

</div>
</div>
<a id="a1860c2e884f5466ff46754807f8a79b7" name="a1860c2e884f5466ff46754807f8a79b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1860c2e884f5466ff46754807f8a79b7">&#9670;&#160;</a></span>$csrf_token</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$csrf_token = $user-&gt;csrf_token()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00391">391</a></p>

<p class="reference">Используется в <a class="el" href="../../df/d4d/Template_8php_source.html#l02540">Template\_page_footer_internal()</a>, <a class="el" href="../../df/d4d/Template_8php_source.html#l01390">Template\_page_header_internal()</a>, <a class="el" href="../../df/d4d/Template_8php_source.html#l02458">Template\page_footer()</a>, <a class="el" href="../../da/d1b/interfacePhotoRigma_1_1Interfaces_1_1Template__Interface.html#a34feab7e9589b201ec7fbb6b3507bd30">Template_Interface\page_footer()</a>, <a class="el" href="../../df/d4d/Template_8php_source.html#l01305">Template\page_header()</a> и <a class="el" href="../../da/d1b/interfacePhotoRigma_1_1Interfaces_1_1Template__Interface.html#a341d1f1abf0c06ad67bc2b47134718e2">Template_Interface\page_header()</a>.</p>

</div>
</div>
<a id="a1fa3127fc82f96b1436d871ef02be319" name="a1fa3127fc82f96b1436d871ef02be319"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa3127fc82f96b1436d871ef02be319">&#9670;&#160;</a></span>$db</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$db = new <a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html">Database</a>($config['db'], $cache)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Создание объекта класса <a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс для работы с базами данных через PDO.">Database</a> для работы с основной БД. </p>
<p>Инициализируется через конструктор с параметрами из массива $config['db']. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс для работы с базами данных через PDO.">PhotoRigma\Classes\Database</a> Класс для работы с базой данных. </dd>
<dd>
<a class="el" href="../../d2/d89/Database_8php.html" title="Класс для работы с базами данных через PDO.">include/Database.php</a> Файл, содержащий реализацию класса <a class="el" href="../../d6/db6/classPhotoRigma_1_1Classes_1_1Database.html" title="Класс для работы с базами данных через PDO.">Database</a>. </dd>
<dd>
<a class="el" href="#a49c7011be9c979d9174c52a8b83e5d8e" title="Массив с настройками сервера.">$config</a> Массив конфигурации, используемый для подключения к БД. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00266">266</a></p>

<p class="reference">Используется в <a class="el" href="../../d1/dce/Work_8php_source.html#l00227">Work\__construct()</a> и <a class="el" href="../../d1/dce/Work_8php_source.html#l00321">Work\load_cached_config()</a>.</p>

</div>
</div>
<a id="aee271b7ce67fbe00b9976e6c347cbfbf" name="aee271b7ce67fbe00b9976e6c347cbfbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee271b7ce67fbe00b9976e6c347cbfbf">&#9670;&#160;</a></span>$encoding</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$encoding = mb_regex_encoding('UTF-8')</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00152">152</a></p>

</div>
</div>
<a id="ab24faf4aa647cdcee494fc48524ad4ff" name="ab24faf4aa647cdcee494fc48524ad4ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab24faf4aa647cdcee494fc48524ad4ff">&#9670;&#160;</a></span>$errors</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$errors = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00220">220</a></p>

<p class="reference">Используется в <a class="el" href="../../d1/dce/Work_8php_source.html#l00457">Work\__set()</a>.</p>

</div>
</div>
<a id="aaecf358b21a899308ae271e98e50573e" name="aaecf358b21a899308ae271e98e50573e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaecf358b21a899308ae271e98e50573e">&#9670;&#160;</a></span>$http_host</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(!empty($_SERVER['HTTPS']) &amp;&amp;($_SERVER['HTTPS']==='1'||strtolower($_SERVER['HTTPS'])==='on')) elseif(!empty( $_SERVER[ 'HTTP_X_FORWARDED_PROTO']) &amp;&amp;in_array(strtolower( $_SERVER[ 'HTTP_X_FORWARDED_PROTO']),[ 'https', 'h2'])) elseif(!empty($_SERVER['SERVER_PORT']) &amp;&amp; $_SERVER['SERVER_PORT']===443) elseif (!empty( $_SERVER[ 'REQUEST_SCHEME']) &amp;&amp;strtolower( $_SERVER[ 'REQUEST_SCHEME'])==='https') $http_host = filter_input(INPUT_SERVER, 'HTTP_HOST', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Безопасная проверка HTTP_HOST.</p>
<p>Используются различные источники данных для определения HTTP_HOST:</p><ul>
<li>$_SERVER['HTTP_HOST'] (основной источник).</li>
<li>$_SERVER['SERVER_NAME'] (резервный источник). Выполняется валидация формата домена для предотвращения атак через заголовки. </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00270">270</a></p>

</div>
</div>
<a id="ab2d0bc152db0769c22005f821caf29e8" name="ab2d0bc152db0769c22005f821caf29e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2d0bc152db0769c22005f821caf29e8">&#9670;&#160;</a></span>$required_directories</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$required_directories</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= [</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;site_dir&#39;</span>] . <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;gallery_folder&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;site_dir&#39;</span>] . <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;thumbnail_folder&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;site_dir&#39;</span>] . <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;avatar_folder&#39;</span>] . <span class="charliteral">&#39;/&#39;</span>,</div>
<div class="line">    <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>],</div>
<div class="line">]</div>
<div class="ttc" id="anamespacePhotoRigma_html_a49c7011be9c979d9174c52a8b83e5d8e"><div class="ttname"><a href="#a49c7011be9c979d9174c52a8b83e5d8e">PhotoRigma\$config</a></div><div class="ttdeci">$config</div><div class="ttdoc">Массив с настройками сервера.</div><div class="ttdef"><b>Определения</b> <a href="../../d0/d45/config_8php_source.html#l00137">config.php:137</a></div></div>
</div><!-- fragment --><p>Проверка существования и доступности директорий.</p>
<p>Проверяются директории, указанные в настройках ($gallery_folder, $thumbnail_folder, $avatar_folder). </p>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00392">392</a></p>

</div>
</div>
<a id="a630e9f4c562881099e95ce0355ae9d78" name="a630e9f4c562881099e95ce0355ae9d78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a630e9f4c562881099e95ce0355ae9d78">&#9670;&#160;</a></span>$required_files</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$required_files</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= [</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;constants.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;session_init.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;functions.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Cache_Handler_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Cache_Handler.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Database_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Database.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Helper_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Helper.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_CoreLogic_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_CoreLogic.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Image_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Image.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Template_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Template.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Security_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Security.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Work.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Template_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;Template.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;User_Interface.php&#39;</span>,</div>
<div class="line">        <a class="code hl_variable" href="#a49c7011be9c979d9174c52a8b83e5d8e">$config</a>[<span class="stringliteral">&#39;inc_dir&#39;</span>] . <span class="stringliteral">&#39;User.php&#39;</span>,</div>
<div class="line">    ]</div>
</div><!-- fragment -->
<p>Список обязательных файлов для подключения. </p>
<p>Содержит пути к файлам, которые необходимы для работы приложения. </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00193">193</a></p>

</div>
</div>
<a id="a271f5d9c110c98ece73bec3151bf1a90" name="a271f5d9c110c98ece73bec3151bf1a90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a271f5d9c110c98ece73bec3151bf1a90">&#9670;&#160;</a></span>$script_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if(! $http_host) if(! $http_host) if (!preg_match('/^([a-z\d](- *[a-z\d]) *)(\.([a-z\d](- *[a-z\d]) *)) *$/i', $http_host)) $script_name = filter_input(INPUT_SERVER, 'SCRIPT_NAME', FILTER_SANITIZE_FULL_SPECIAL_CHARS)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Безопасное определение SCRIPT_NAME.</p>
<p>Используются различные источники данных для определения SCRIPT_NAME:</p><ul>
<li>$_SERVER['SCRIPT_NAME'] (основной источник).</li>
<li>$_SERVER['PHP_SELF'] (резервный источник). Выполняется валидация формата пути для предотвращения атак через заголовки. </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00298">298</a></p>

</div>
</div>
<a id="aa3e9534005fd516d941f6a5569896e01" name="aa3e9534005fd516d941f6a5569896e01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3e9534005fd516d941f6a5569896e01">&#9670;&#160;</a></span>$template</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$template</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">= <span class="keyword">new</span> <a class="code hl_class" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html">Template</a>(</div>
<div class="line">        <a class="code hl_variable" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a>-&gt;config[<span class="stringliteral">&#39;site_url&#39;</span>],</div>
<div class="line">        <a class="code hl_variable" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a>-&gt;config[<span class="stringliteral">&#39;site_dir&#39;</span>],</div>
<div class="line">        <a class="code hl_variable" href="#aba5fcdd0bc47aeaa710f5ff7cf567777">$themes_config</a></div>
<div class="line">    )</div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Template_html"><div class="ttname"><a href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html">PhotoRigma\Classes\Template</a></div><div class="ttdoc">Класс для работы с шаблонами.</div><div class="ttdef"><b>Определения</b> <a href="../../df/d4d/Template_8php_source.html#l00099">Template.php:100</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_a2429001fb0fa404b4fe0ab42a91a9a48"><div class="ttname"><a href="#a2429001fb0fa404b4fe0ab42a91a9a48">PhotoRigma\$work</a></div><div class="ttdeci">$work</div><div class="ttdoc">Создание объекта класса Work.</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00284">index.php:284</a></div></div>
<div class="ttc" id="anamespacePhotoRigma_html_aba5fcdd0bc47aeaa710f5ff7cf567777"><div class="ttname"><a href="#aba5fcdd0bc47aeaa710f5ff7cf567777">PhotoRigma\$themes_config</a></div><div class="ttdeci">$themes_config</div><div class="ttdef"><b>Определения</b> <a href="../../de/d20/index_8php_source.html#l00303">index.php:303</a></div></div>
</div><!-- fragment -->
<p>Создание объекта класса <a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a>. </p>
<p>Используется для генерации HTML-контента страниц. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">PhotoRigma\Classes\Template</a> Класс для работы с HTML-шаблонами. </dd>
<dd>
<a class="el" href="../../df/d4d/Template_8php.html" title="Класс для работы с HTML-шаблонами, включая рендеринг и подстановку данных.">include/Template.php</a> Файл, содержащий реализацию класса <a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html" title="Класс для работы с шаблонами.">Template</a>. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a> Свойство, хранящее конфигурацию для шаблонов. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a1ef5df918700c21dc94152e4a8329770" title="Создает и обрабатывает шаблон через вызов внутреннего метода.">PhotoRigma\Classes\Template\create_template()</a> Метод для создания содержимого страницы. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a341d1f1abf0c06ad67bc2b47134718e2" title="Формирует заголовок HTML-страницы с меню, метаданными и блоками контента через вызов внутреннего мето...">PhotoRigma\Classes\Template\page_header()</a> Метод для добавления шапки страницы. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a34feab7e9589b201ec7fbb6b3507bd30" title="Формирует подвал HTML-страницы через вызов внутреннего метода.">PhotoRigma\Classes\Template\page_footer()</a> Метод для добавления подвала страницы. </dd>
<dd>
<a class="el" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a43be552f5d6b48b6335bf0b4b5ef37c0" title="Содержимое для вывода">PhotoRigma\Classes\Template\$content</a> Свойство, хранящее содержимое всей страницы. </dd>
<dd>
<a class="el" href="#ada57e7bb7c152edad18fe2f166188691" title="Добавление текста к заголовку страницы. @noinspection PhpRedundantVariableDocTypeInspection.">$title</a> Переменная, используемая для добавления текста к заголовку страницы. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00317">317</a></p>

</div>
</div>
<a id="aba5fcdd0bc47aeaa710f5ff7cf567777" name="aba5fcdd0bc47aeaa710f5ff7cf567777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5fcdd0bc47aeaa710f5ff7cf567777">&#9670;&#160;</a></span>$themes_config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$themes_config = $user-&gt;session['theme'] ?? $work-&gt;config['themes']</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00303">303</a></p>

</div>
</div>
<a id="ada57e7bb7c152edad18fe2f166188691" name="ada57e7bb7c152edad18fe2f166188691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada57e7bb7c152edad18fe2f166188691">&#9670;&#160;</a></span>$title</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$title = ''</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Добавление текста к заголовку страницы. @noinspection PhpRedundantVariableDocTypeInspection. </p>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00337">337</a></p>

<p class="reference">Используется в <a class="el" href="../../df/d4d/Template_8php_source.html#l01390">Template\_page_header_internal()</a>, <a class="el" href="../../df/d4d/Template_8php_source.html#l01305">Template\page_header()</a> и <a class="el" href="../../da/d1b/interfacePhotoRigma_1_1Interfaces_1_1Template__Interface.html#a341d1f1abf0c06ad67bc2b47134718e2">Template_Interface\page_header()</a>.</p>

</div>
</div>
<a id="a598ca4e71b15a1313ec95f0df1027ca5" name="a598ca4e71b15a1313ec95f0df1027ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a598ca4e71b15a1313ec95f0df1027ca5">&#9670;&#160;</a></span>$user</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$user = new <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html">User</a>($db, $_SESSION)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Создание объекта класса <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">User</a>. </p>
<p>Используется для управления пользователями системы. </p><dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">PhotoRigma\Classes\User</a> Класс для управления пользователями. </dd>
<dd>
<a class="el" href="../../db/da2/User_8php.html" title="Класс для управления пользователями, включая регистрацию, аутентификацию, управление профилем и хране...">include/User.php</a> Файл, содержащий реализацию класса <a class="el" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html" title="Класс для работы с пользователями и хранения данных о текущем пользователе.">User</a>. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00300">300</a></p>

<p class="reference">Используется в <a class="el" href="../../df/d4d/Template_8php_source.html#l02540">Template\_page_footer_internal()</a>, <a class="el" href="../../d1/dce/Work_8php_source.html#l01424">Work\set_user()</a>, <a class="el" href="../../df/d80/interfacePhotoRigma_1_1Interfaces_1_1Work__CoreLogic__Interface.html#a75c62c77591a021c5555660ce20e84b3">Work_CoreLogic_Interface\set_user()</a>, <a class="el" href="../../da/d79/interfacePhotoRigma_1_1Interfaces_1_1Work__Interface.html#a75c62c77591a021c5555660ce20e84b3">Work_Interface\set_user()</a> и <a class="el" href="../../d5/d9b/interfacePhotoRigma_1_1Interfaces_1_1Work__Template__Interface.html#a75c62c77591a021c5555660ce20e84b3">Work_Template_Interface\set_user()</a>.</p>

</div>
</div>
<a id="a2429001fb0fa404b4fe0ab42a91a9a48" name="a2429001fb0fa404b4fe0ab42a91a9a48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2429001fb0fa404b4fe0ab42a91a9a48">&#9670;&#160;</a></span>$work</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">$work = new <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">Work</a>($db, $config, $_SESSION, $cache)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Создание объекта класса <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a>. </p>
<p>Используется для выполнения различных вспомогательных операций приложения:</p><ul>
<li>Управление конфигурацией через свойство <code>$config</code>.</li>
<li>Работа с безопасностью через методы, такие как <code>check_input</code> и <code>url_check</code>.</li>
<li>Взаимодействие с системой кеширования через объект <code>$cache</code>. Объект создаётся с использованием экземпляра базы данных (<code>$db</code>), массива конфигурации (<code>$config</code>), ссылки на массив сессии (<code>$_SESSION</code>) и объекта кеширования (<code>$cache</code>).</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">PhotoRigma\Classes\Work</a> Класс для выполнения вспомогательных операций. </dd>
<dd>
<a class="el" href="../../d1/dce/Work_8php.html" title="Файл содержит класс Work, который является основным классом приложения. Объединяет подклассы для выпо...">include/Work.php</a> Файл, содержащий реализацию класса <a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html" title="Основной класс приложения.">Work</a>. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab76f8f2ac851632a23ef69df2bd99dad" title="Массив, хранящий конфигурацию приложения.">PhotoRigma\Classes\Work\$config</a> Свойство, хранящее конфигурацию приложения. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a252982d004053f182631167a8b39ce88" title="Объект для работы с кешем.">PhotoRigma\Classes\Work\$cache</a> Свойство, содержащее объект для работы с кешем. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a6e6ea2a212c3c2dee206a1753b673b7d" title="Проверяет входные данные через вызов внутреннего метода.">PhotoRigma\Classes\Work\check_input()</a> Метод для проверки входных данных. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a1e1a4ab6b213ada0d89c77a24d8ffe32" title="Проверяет URL на наличие вредоносного кода через вызов внутреннего метода.">PhotoRigma\Classes\Work\url_check()</a> Метод для проверки URL на наличие вредоносного кода. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00284">284</a></p>

<p class="reference">Используется в <a class="el" href="../../da/d1b/interfacePhotoRigma_1_1Interfaces_1_1Template__Interface.html#a0bb4e25a2291e3792c181a821de0c88c">Template_Interface\set_work()</a> и <a class="el" href="../../dc/d14/interfacePhotoRigma_1_1Interfaces_1_1User__Interface.html#a0bb4e25a2291e3792c181a821de0c88c">User_Interface\set_work()</a>.</p>

</div>
</div>
<a id="a62b7f878abcac93af0f81464c8d008d7" name="a62b7f878abcac93af0f81464c8d008d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62b7f878abcac93af0f81464c8d008d7">&#9670;&#160;</a></span>DEBUG_GALLERY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const DEBUG_GALLERY false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00165">165</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d62/functions_8php_source.html#l00245">PhotoRigma\Include\log_in_file()</a>.</p>

</div>
</div>
<a id="aa355238e5cfbf4556dccf2f8a2b68926" name="aa355238e5cfbf4556dccf2f8a2b68926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa355238e5cfbf4556dccf2f8a2b68926">&#9670;&#160;</a></span>else</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">if (is_file( $action_file) &amp;&amp;is_readable( $action_file)) else</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">{</div>
<div class="line">        </div>
<div class="line">        $action_file = <a class="code hl_variable" href="#a2429001fb0fa404b4fe0ab42a91a9a48">$work</a>-&gt;config[<span class="stringliteral">&#39;site_dir&#39;</span>] . <span class="stringliteral">&#39;action/main.php&#39;</span></div>
</div><!-- fragment --><p>Обработка действия, указанного в параметре 'action'.</p><ul>
<li>Проверяется существование и безопасность параметра 'action'.</li>
<li>Формируется путь к файлу действия.</li>
<li>Если файл не существует или недоступен, используется файл по умолчанию ('main.php'). @noinspection NotOptimalIfConditionsInspection </li>
</ul>

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00377">377</a></p>

</div>
</div>
<a id="afc238d5007d9f82f9c59e7d33f7a75c6" name="afc238d5007d9f82f9c59e7d33f7a75c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc238d5007d9f82f9c59e7d33f7a75c6">&#9670;&#160;</a></span>IN_GALLERY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const IN_GALLERY true</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00158">158</a></p>

</div>
</div>
<a id="adb6cc58d5735a7f6aa966e727899e7e9" name="adb6cc58d5735a7f6aa966e727899e7e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb6cc58d5735a7f6aa966e727899e7e9">&#9670;&#160;</a></span>LOCALHOST_SERVER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const LOCALHOST_SERVER false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">См. определение в файле <a class="el" href="../../d0/d45/config_8php_source.html">config.php</a> строка <a class="el" href="../../d0/d45/config_8php_source.html#l00223">223</a></p>

<p class="reference">Используется в <a class="el" href="../../df/d4d/Template_8php_source.html#l01390">Template\_page_header_internal()</a>.</p>

</div>
</div>
<a id="abe4cc9788f52e49485473dc699537388" name="abe4cc9788f52e49485473dc699537388"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe4cc9788f52e49485473dc699537388">&#9670;&#160;</a></span>try</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">try</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Инициализатор</b><div class="fragment"><div class="line">{</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (!is_file(<span class="stringliteral">&#39;config.php&#39;</span>)) {</div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line">            __FILE__ . <span class="charliteral">&#39;:&#39;</span> . __LINE__ . <span class="stringliteral">&#39; (&#39;</span> . (__FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&#39;) | Конфигурационный файл отсутствует или не является файлом | Путь: config.php&#39;</span></div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">if</span> (!is_readable(<span class="stringliteral">&#39;config.php&#39;</span>)) {</div>
<div class="line">        <span class="keywordflow">throw</span> <span class="keyword">new</span> RuntimeException(</div>
<div class="line">            __FILE__ . <span class="charliteral">&#39;:&#39;</span> . __LINE__ . <span class="stringliteral">&#39; (&#39;</span> . (__FUNCTION__ ?: <span class="stringliteral">&#39;global&#39;</span>) . <span class="stringliteral">&#39;) | Конфигурационный файл существует, но недоступен для чтения | Путь: config.php&#39;</span></div>
<div class="line">        );</div>
<div class="line">    }</div>
<div class="line">    require_once <span class="stringliteral">&#39;config.php&#39;</span></div>
</div><!-- fragment -->
<p class="definition">См. определение в файле <a class="el" href="../../de/d20/index_8php_source.html">index.php</a> строка <a class="el" href="../../de/d20/index_8php_source.html#l00167">167</a></p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a></li>
    <li class="footer">Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
