<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Photo-Rigma-BiZ</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Photo-Rigma-BiZ</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category -namespaces">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/photorigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/photorigma-classes.html" class="">Classes</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-include.html" class="">Include</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-interfaces.html" class="">Interfaces</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category -packages">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/PhotoRigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="packages/PhotoRigma-Action.html" class="">Action</a>
                
            </li>
                    <li>
                <a href="packages/PhotoRigma-Language.html" class="">Language</a>
                
            </li>
            </ul>

                        </section>
            
    <section class="phpdocumentor-sidebar__category -reports">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category -indices">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma.html">PhotoRigma</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma-classes.html">Classes</a></li>
    </ul>

    <article class="phpdocumentor-element -class">
        <h2 class="phpdocumentor-content__title">
    Work_Template

    
            <div class="phpdocumentor-element__package">
            in package
            <ul class="phpdocumentor-breadcrumbs">
                                    <li class="phpdocumentor-breadcrumb"><a href="packages/PhotoRigma.html">PhotoRigma</a></li>
                            </ul>
        </div>
    
            <span class="phpdocumentor-element__implements">
            implements
                            <a href="classes/PhotoRigma-Interfaces-Work-Template-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Template_Interface">Work_Template_Interface</abbr></a>                    </span>
    
    </h2>

<div class="phpdocumentor-label-line">


</div>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">85</span>

    </aside>

            <p class="phpdocumentor-summary">Класс для формирования данных для шаблонов.</p>


    <section class="phpdocumentor-description"><p>Этот класс реализует интерфейс <code class="prettyprint">Work_Template_Interface</code> и предоставляет функционал для генерации данных,
необходимых для отображения различных блоков на странице, таких как меню, блок пользователя, статистика и список
лучших пользователей. Он является дочерним классом для <code class="prettyprint">\PhotoRigma\Classes\Work</code> и наследует его методы. Все
методы данного класса рекомендуется вызывать через родительский класс <code class="prettyprint">Work</code>, так как их поведение может быть
непредсказуемым при прямом вызове.
Основные возможности:</p>
<ul>
<li>Формирование данных для меню (<code class="prettyprint">create_menu</code>).</li>
<li>Генерация списка лучших пользователей (<code class="prettyprint">template_best_user</code>).</li>
<li>Генерация статистических данных (<code class="prettyprint">template_stat</code>).</li>
<li>Формирование блока пользователя (<code class="prettyprint">template_user</code>).
Методы класса предназначены для использования в различных частях приложения для отображения данных в шаблонах.</li>
</ul>
</section>


    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-Template-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Template_Interface">Work_Template_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, который реализует данный класс.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html"><abbr title="\PhotoRigma\Classes\Work">Work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для работы с шаблонами.</p>
</section>

                                    </dd>
                        </dl>





<h3 id="toc">
    Table of Contents
    <a href="classes/PhotoRigma-Classes-Work-Template.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>



    <h4 id="toc-interfaces">
        Interfaces
        <a href="classes/PhotoRigma-Classes-Work-Template.html#toc-interfaces" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <dl class="phpdocumentor-table-of-contents">
                    <dt class="phpdocumentor-table-of-contents__entry -interface"><a href="classes/PhotoRigma-Interfaces-Work-Template-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Template_Interface">Work_Template_Interface</abbr></a></dt><dd>Интерфейс для формирования данных для шаблонов.</dd>    </dl>






<h4 id="toc-properties">
    Properties
    <a href="classes/PhotoRigma-Classes-Work-Template.html#toc-properties" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -property -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#property_db">$db</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a>            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#property_lang">$lang</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;|null            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#property_user">$user</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>|null            </span>
</dt>

    </dl>

<h4 id="toc-methods">
    Methods
    <a href="classes/PhotoRigma-Classes-Work-Template.html#toc-methods" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method___construct">__construct()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>Конструктор класса.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method___get">__get()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Получает значение приватного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method___isset">__isset()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет существование недоступного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method___set">__set()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Устанавливает значение приватного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method_create_menu">create_menu()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует массив данных для меню через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method_set_lang">set_lang()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Установка языковых данных через сеттер.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method_set_user">set_user()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Установка объекта, реализующего интерфейс User_Interface, через сеттер.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method_template_best_user">template_best_user()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует список пользователей, загрузивших наибольшее количество изображений, через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method_template_stat">template_stat()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует массив статистических данных для шаблона через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method_template_user">template_user()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует блок пользователя через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal">_create_menu_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Метод формирует массив данных для меню в зависимости от типа и активного пункта.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal">_template_best_user_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует список пользователей, загрузивших наибольшее количество изображений.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal">_template_stat_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует массив статистических данных для шаблона.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal">_template_user_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирование блока пользователя.</dd>

    </dl>



        

        
    <section class="phpdocumentor-properties">
        <h3 class="phpdocumentor-elements__header" id="properties">
            Properties
            <a href="classes/PhotoRigma-Classes-Work-Template.html#properties" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="
            phpdocumentor-element
            -property
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">0</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

        <section class="phpdocumentor-description"><p>Конфигурация приложения.</p>
</section>

    
    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">88</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Конфигурация приложения.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_config#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___set"><abbr title="\PhotoRigma\Classes\Work::__set()">Work::__set()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство дочернего класса Work_Template.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_Template::__construct()">Work_Template::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method___get"><abbr title="\PhotoRigma\Classes\Work_Template::__get()">Work_Template::__get()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, к которому обращается метод.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method___set"><abbr title="\PhotoRigma\Classes\Work_Template::__set()">Work_Template::__set()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, которое изменяет метод.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_db">
        $db
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_db" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">92</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a></span>
    <span class="phpdocumentor-signature__name">$db</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Объект для работы с базой данных.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_db#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_Template::__construct()">Work_Template::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_create_menu_internal()">Work_Template::_create_menu_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_best_user_internal()">Work_Template::_template_best_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_stat_internal()">Work_Template::_template_stat_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_lang">
        $lang
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_lang" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">90</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;|null</span>
    <span class="phpdocumentor-signature__name">$lang</span>
     = <span class="phpdocumentor-signature__default-value">null</span></code>

    
        <section class="phpdocumentor-description"><p>Языковые данные.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_lang#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_create_menu_internal()">Work_Template::_create_menu_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_best_user_internal()">Work_Template::_template_best_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_stat_internal()">Work_Template::_template_stat_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_user_internal()">Work_Template::_template_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_user">
        $user
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_user" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">94</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>|null</span>
    <span class="phpdocumentor-signature__name">$user</span>
     = <span class="phpdocumentor-signature__default-value">null</span></code>

    
        <section class="phpdocumentor-description"><p>Объект пользователя.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#property_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_create_menu_internal()">Work_Template::_create_menu_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_user_internal()">Work_Template::_template_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
            </section>

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="classes/PhotoRigma-Classes-Work-Template.html#methods" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___construct">
        __construct()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___construct" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">128</span>

    </aside>

        <p class="phpdocumentor-summary">Конструктор класса.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__construct</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$db</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$config</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Инициализирует зависимости: конфигурацию приложения и объект для работы с базой данных.
Все параметры обязательны для корректной работы класса.
Алгоритм работы:</p>
<ol>
<li>Сохраняет переданные зависимости в соответствующие свойства:
<ul>
<li><code class="prettyprint">$config</code>: массив конфигурации приложения.</li>
<li><code class="prettyprint">$db</code>: объект для работы с базой данных.</li>
</ul>
</li>
<li>Проверяет, что все зависимости корректно инициализированы.
Метод вызывается автоматически при создании нового объекта класса.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$db</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект для работы с базой данных:</p>
<ul>
<li>Должен реализовывать интерфейс <code class="prettyprint">Database_Interface</code>.</li>
<li>Используется для выполнения запросов к базе данных.
Пример: <code class="prettyprint">$db = new Database();</code>.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$config</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Конфигурация приложения:</p>
<ul>
<li>Должен быть ассоциативным массивом.</li>
<li>Используется для хранения настроек приложения.
Пример: <code class="prettyprint">['temp_photo_w' =&gt; 800]</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___construct#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Важно: все зависимости должны быть корректно инициализированы перед использованием класса.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li><code class="prettyprint">$config</code> является ассоциативным массивом.</li>
<li><code class="prettyprint">$db</code> реализует интерфейс <code class="prettyprint">Database_Interface</code>.
Несоблюдение этих условий может привести к ошибкам инициализации.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html"><abbr title="\PhotoRigma\Classes\Work">Work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Родительский класс, через который передаются зависимости.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Template::$config">Work_Template::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_db"><abbr title="\PhotoRigma\Classes\Work_Template::$db">Work_Template::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___get">
        __get()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___get" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">164</span>

    </aside>

        <p class="phpdocumentor-summary">Получает значение приватного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__get</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет получить доступ к приватному свойству <code class="prettyprint">$config</code>.
Алгоритм работы:</p>
<ol>
<li>Проверяет, соответствует ли имя свойства допустимому значению (<code class="prettyprint">config</code>).</li>
<li>Если имя свойства корректно, возвращает значение свойства <code class="prettyprint">$config</code>.</li>
<li>Если имя свойства некорректно, выбрасывается исключение.
Метод является публичным и предназначен для получения доступа к свойству <code class="prettyprint">$config</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимое значение: 'config'.</li>
<li>Если указано другое имя, выбрасывается исключение.
Пример: 'config'.
Ограничения: только одно допустимое значение.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___get#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если запрашиваемое свойство не существует.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для доступа к свойству <code class="prettyprint">$config</code>.
Любые другие запросы будут игнорироваться с выбросом исключения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что вы запрашиваете только допустимое свойство:</p>
<ul>
<li>'config'
Некорректные имена свойств вызовут исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Template::$config">Work_Template::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, к которому обращается метод.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Значение свойства <code class="prettyprint">$config</code>.
Пример: ['temp_photo_w' =&gt; 800]</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___isset">
        __isset()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___isset" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">232</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет существование недоступного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__isset</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод вызывается автоматически при использовании оператора <code class="prettyprint">isset()</code> для проверки существования
недоступного свойства. Метод возвращает <code class="prettyprint">true</code>, если свойство существует, и <code class="prettyprint">false</code> в противном случае.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Проверяется на существование.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___isset#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для проверки существования свойств.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если свойство не определено или является недоступным, результат будет <code class="prettyprint">false</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Результат проверки:</p>
<ul>
<li><code class="prettyprint">true</code>, если свойство существует.</li>
<li><code class="prettyprint">false</code>, если свойство не существует.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___set">
        __set()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___set" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">204</span>

    </aside>

        <p class="phpdocumentor-summary">Устанавливает значение приватного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__set</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет изменить значение приватного свойства <code class="prettyprint">$config</code>.
Алгоритм работы:</p>
<ol>
<li>Проверяет, соответствует ли имя свойства допустимому значению (<code class="prettyprint">config</code>).</li>
<li>Если имя свойства корректно, обновляет значение свойства <code class="prettyprint">$config</code>.</li>
<li>Если имя свойства некорректно, выбрасывается исключение.
Метод является публичным и предназначен для изменения свойства <code class="prettyprint">$config</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимое значение: 'config'.</li>
<li>Если указано другое имя, выбрасывается исключение.
Пример: 'config'.
Ограничения: только одно допустимое значение.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$value</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Новое значение свойства:</p>
<ul>
<li>Должен быть ассоциативным массивом.
Пример: <code class="prettyprint">['temp_photo_w' =&gt; 1024]</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method___set#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если переданное имя свойства не соответствует <code class="prettyprint">$config</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для изменения свойства <code class="prettyprint">$config</code>.
Любые другие попытки установки значений будут игнорироваться с выбросом исключения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что вы устанавливаете значение только для допустимого свойства:</p>
<ul>
<li>'config'
Некорректные имена свойств вызовут исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Template::$config">Work_Template::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, которое изменяет метод.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_menu">
        create_menu()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_create_menu" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">276</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует массив данных для меню через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_menu</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$menu</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _create_menu_internal().
Он формирует массив данных для меню на основе запроса к базе данных, учитывая тип меню и активный пункт.
Метод также доступен через метод-фасад <code class="prettyprint">create_menu()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Активный пункт меню:</p>
<ul>
<li>Указывается строка, соответствующая активному пункту меню (например, 'home', 'profile').</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$menu</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип меню:</p>
<ul>
<li>SHORT_MENU (0): Краткое горизонтальное меню.</li>
<li>LONG_MENU (1): Полное вертикальное меню.
Другие значения недопустимы и приведут к выбросу исключения InvalidArgumentException.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_create_menu#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный $menu или $action.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Данные для меню берутся из таблицы TBL_MENU.
Для получения дополнительной информации см. структуру таблицы.
Константы SHORT_MENU и LONG_MENU определяют тип меню:</p>
<ul>
<li>SHORT_MENU: Краткое горизонтальное меню.</li>
<li>LONG_MENU: Полное вертикальное меню.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что передаваемые параметры корректны, так как это может привести к ошибкам.
Также убедитесь, что права доступа пользователя ($this-&gt;user) настроены правильно.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_create_menu_internal()">Work_Template::_create_menu_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_create_menu"><abbr title="\PhotoRigma\Classes\Work::create_menu()">Work::create_menu()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для меню:</p>
<ul>
<li>Каждый элемент массива содержит:
<ul>
<li>Ключ 'url': URL пункта меню (null, если пункт активен).</li>
<li>Ключ 'name': Название пункта меню (локализованное через $this-&gt;lang['menu'] или дефолтное
значение). Если меню пустое, возвращается пустой массив.</li>
</ul>
</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_lang">
        set_lang()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_lang" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">425</span>

    </aside>

        <p class="phpdocumentor-summary">Установка языковых данных через сеттер.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_lang</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$lang</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет установить массив языковых данных для использования в системе. Присваивает массив
свойству текущего класса для дальнейшего использования.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$lang</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Языковые данные:</p>
<ul>
<li>Должен быть ассоциативным массивом.</li>
<li>Каждый ключ должен быть строкой, представляющей собой уникальный идентификатор языковой
переменной.</li>
<li>Каждое значение должно быть строкой или другим допустимым типом данных для языковых
значений.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_lang#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод проверяет тип переданных данных.
Языковые данные используются для локализации интерфейса и других текстовых элементов системы.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Передавайте только корректные языковые данные. Пустой массив или некорректные значения могут привести к
ошибкам при использовании.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal"><abbr title="\PhotoRigma\Classes\Work::_set_lang_internal()">Work::_set_lang_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод дочернего класса Work_Template.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_user">
        set_user()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">448</span>

    </aside>

        <p class="phpdocumentor-summary">Установка объекта, реализующего интерфейс User_Interface, через сеттер.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_user</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет установить объект пользователя, реализующий интерфейс <code class="prettyprint">User_Interface</code>. Присваивает
объект свойству текущего класса для дальнейшего использования.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект, реализующий интерфейс <code class="prettyprint">User_Interface</code>:</p>
<ul>
<li>Должен быть экземпляром класса, реализующего интерфейс <code class="prettyprint">User_Interface</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод проверяет тип переданного объекта.
Объект пользователя используется для взаимодействия с другими компонентами системы.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Некорректный объект (не реализует интерфейс <code class="prettyprint">User_Interface</code>) вызывает исключение.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><abbr title="\PhotoRigma\Classes\User_Interface">User_Interface</abbr></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, которому должен соответствовать объект пользователя.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_set_user"><abbr title="\PhotoRigma\Classes\Work::set_user()">Work::set_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, использующий объект пользователя.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_best_user">
        template_best_user()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_best_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">494</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует список пользователей, загрузивших наибольшее количество изображений, через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_best_user</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$best_user</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">1</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _template_best_user_internal().
Он выполняет запрос к базе данных для получения списка пользователей, которые загрузили наибольшее количество
фотографий. Результат формируется в виде ассоциативного массива для отображения в шаблоне.
Метод также доступен через метод-фасад <code class="prettyprint">template_best_user()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$best_user</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">1</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество лучших пользователей для вывода:</p>
<ul>
<li>Должно быть положительным целым числом.
Пример: 5.
Если передано недопустимое значение, выбрасывается исключение InvalidArgumentException.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_best_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если параметр $best_user не является положительным целым числом.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если запрос к базе данных не возвращает данных, добавляется запись &quot;пустого&quot; пользователя:</p>
<ul>
<li>user_url: null.</li>
<li>user_name: '---'.</li>
<li>user_photo: '-'.</li>
<li>banned: false.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что таблицы базы данных (TBL_USERS, TBL_PHOTO, TBL_USERS_BANS)
содержат корректные данные. Ошибки в структуре таблиц могут привести к некорректному результату.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_best_user_internal()">Work_Template::_template_best_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_template_best_user"><abbr title="\PhotoRigma\Classes\Work::template_best_user()">Work::template_best_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода в шаблон:</p>
<ul>
<li>NAME_BLOCK:   Название блока (локализованное через $this-&gt;lang['main']['best_user']).</li>
<li>L_USER_NAME:  Подпись для имени пользователя (локализованная строка).</li>
<li>L_USER_PHOTO: Подпись для количества фотографий (локализованная строка).</li>
<li>user_url:     Ссылка на профиль пользователя (null, если данных нет).</li>
<li>user_name:    Имя пользователя ('---', если данных нет).</li>
<li>user_photo:   Количество загруженных фотографий ('-', если данных нет).</li>
<li>banned:       Булево значение, указывающее, находится ли пользователь в бане.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_stat">
        template_stat()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_stat" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">703</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует массив статистических данных для шаблона через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_stat</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _template_stat_internal().
Он выполняет запросы к базе данных для получения статистической информации о:</p>
<ul>
<li>Зарегистрированных пользователях (с учётом активации, подтверждения email и мягкого удаления)</li>
<li>Категориях и пользовательских альбомах</li>
<li>Фотографиях</li>
<li>Оценках от пользователей и модераторов</li>
<li>Онлайн-пользователях (включая метку бана и перечёркнутое имя для заблокированных)
Результат формируется в виде ассоциативного массива для отображения статистики на странице. Метод также
доступен через метод-фасад <code class="prettyprint">template_stat()</code> в родительском классе.</li>
</ul>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_stat#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при выполнении запросов к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы для определения таблиц и представлений:</p>
<ul>
<li>TBL_USERS: Таблица пользователей с их правами.</li>
<li>TBL_CATEGORY: Таблица со списком категорий на сервере.</li>
<li>TBL_PHOTO: Таблица со списком фотографий на сервере.</li>
<li>TBL_RATE_USER: Таблица с оценками фотографий от пользователей.</li>
<li>TBL_RATE_MODER: Таблица с оценками фотографий от модераторов.</li>
<li>VIEW_USERS_ONLINE: Представление со списком онлайн-пользователей.
Также используются глобальные константы групп:</li>
<li>GROUP_ADMIN: ID группы администраторов.</li>
<li>GROUP_MODER: ID группы модераторов.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что таблицы базы данных (TBL_USERS, TBL_CATEGORY, TBL_PHOTO, TBL_RATE_USER, TBL_RATE_MODER)
и представление VIEW_USERS_ONLINE содержат корректные данные. Ошибки в структуре таблиц могут привести
к некорректной статистике.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.
Это может привести к неожидаемому результату.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_stat_internal()">Work_Template::_template_stat_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_template_stat"><abbr title="\PhotoRigma\Classes\Work::template_stat()">Work::template_stat()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Ассоциативный массив данных для вывода статистики:</p>
<ul>
<li>NAME_BLOCK:        Название блока статистики (локализованное).</li>
<li>L_STAT_REGIST:     Подпись для количества зарегистрированных пользователей.</li>
<li>D_STAT_REGIST:     Количество зарегистрированных пользователей.</li>
<li>L_STAT_PHOTO:      Подпись для количества фотографий.</li>
<li>D_STAT_PHOTO:      Количество фотографий.</li>
<li>L_STAT_CATEGORY:   Подпись для количества категорий.</li>
<li>D_STAT_CATEGORY:   Количество категорий (включая пользовательские альбомы).</li>
<li>L_STAT_USER_ADMIN: Подпись для количества администраторов.</li>
<li>D_STAT_USER_ADMIN: Количество администраторов.</li>
<li>L_STAT_USER_MODER: Подпись для количества модераторов.</li>
<li>D_STAT_USER_MODER: Количество модераторов.</li>
<li>L_STAT_RATE_USER:  Подпись для количества пользовательских оценок.</li>
<li>D_STAT_RATE_USER:  Количество пользовательских оценок.</li>
<li>L_STAT_RATE_MODER: Подпись для количества модераторских оценок.</li>
<li>D_STAT_RATE_MODER: Количество модераторских оценок.</li>
<li>L_STAT_ONLINE:     Подпись для онлайн-пользователей.</li>
<li>D_STAT_ONLINE:     Список онлайн-пользователей (HTML-ссылки) или сообщение об отсутствии
онлайн-пользователей. Пользователи в бане дополнительно выделяются:
- Иконкой <code class="prettyprint">&lt;i class=&quot;ban icon&quot;&gt;&lt;/i&gt;</code>
- Перечёркнутым именем <code class="prettyprint">&lt;s&gt;...&lt;/s&gt;</code>.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_user">
        template_user()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">921</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует блок пользователя через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_user</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _template_user_internal().
Он формирует массив данных для блока пользователя в зависимости от статуса авторизации:</p>
<ul>
<li>Для неавторизованных пользователей: ссылки на вход, восстановление пароля и регистрацию.</li>
<li>Для авторизованных пользователей: приветствие, группа и аватар (или дефолтный аватар, если файл недоступен).
Метод также доступен через метод-фасад <code class="prettyprint">template_user()</code> в родительском классе.</li>
</ul>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если объект пользователя не установлен или данные некорректны.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Random\RandomException">RandomException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибке генерации CSRF-токена.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках проверки MIME-типа файла или логирования.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Статус авторизации проверяется через $this-&gt;user-&gt;session['login_id'].
Константа DEFAULT_AVATAR определяет значение аватара по умолчанию (например, 'no_avatar.jpg').</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что объект пользователя ($this-&gt;user) корректно установлен перед вызовом метода.
Также убедитесь, что конфигурация аватаров ($this-&gt;config['avatar_dir']) настроена правильно.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_user_internal()">Work_Template::_template_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_template_user"><abbr title="\PhotoRigma\Classes\Work::template_user()">Work::template_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для блока пользователя:</p>
<ul>
<li>Для неавторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное через $this-&gt;lang['main']['user_block']).</li>
<li>'CSRF_TOKEN': CSRF-токен для защиты формы.</li>
<li>'L_LOGIN', 'L_PASSWORD', 'L_ENTER', 'L_FORGOT_PASSWORD', 'L_REGISTRATION': Локализованные
строки.</li>
<li>'U_LOGIN', 'U_FORGOT_PASSWORD', 'U_REGISTRATION': URL для входа, восстановления пароля и
регистрации.</li>
</ul>
</li>
<li>Для авторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное через $this-&gt;lang['main']['user_block']).</li>
<li>'L_HI_USER': Приветствие с именем пользователя (локализованное через
$this-&gt;lang['main']['hi_user']).</li>
<li>'L_GROUP': Группа пользователя (локализованная строка).</li>
<li>'U_AVATAR': URL аватара (или дефолтного аватара, если файл недоступен или некорректен).</li>
</ul>
</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__create_menu_internal">
        _create_menu_internal()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">337</span>

    </aside>

        <p class="phpdocumentor-summary">Метод формирует массив данных для меню в зависимости от типа и активного пункта.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_create_menu_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$menu</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входных параметров:
<ul>
<li>Параметр $menu должен быть равен одной из констант: SHORT_MENU или LONG_MENU. Если значение некорректно,
выбрасывается исключение InvalidArgumentException.</li>
</ul>
</li>
<li>Определяет тип меню с помощью конструкции match():
<ul>
<li>SHORT_MENU: Краткое горизонтальное меню.</li>
<li>LONG_MENU: Полное вертикальное меню.</li>
</ul>
</li>
<li>Выполняет запрос к базе данных для получения данных меню из таблицы TBL_MENU.
<ul>
<li>Условие выборки зависит от типа меню (столбец 'short' или 'long').</li>
<li>Параметры запроса используются для обеспечения безопасности.</li>
</ul>
</li>
<li>Для каждого пункта меню проверяются права доступа текущего пользователя:
<ul>
<li>Поле 'user_login': 0 - только гостям, 1 - только зарегистрированным.</li>
<li>Поле 'user_access': NULL - всем, иначе проверяется значение в $this-&gt;user-&gt;user.</li>
</ul>
</li>
<li>Если пункт меню видим, он добавляется в результат:
<ul>
<li>URL формируется на основе активного пункта меню ($action).</li>
<li>Название пункта локализуется через $this-&gt;lang['menu'] или используется дефолтное значение.</li>
<li>Данные очищаются с помощью Work::clean_field().
Метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика
вызывается через публичный метод create_menu().</li>
</ul>
</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Активный пункт меню.
Указывается строка, соответствующая активному пункту меню (например, 'home', 'profile').</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$menu</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип меню:</p>
<ul>
<li>SHORT_MENU (0): Краткое горизонтальное меню.</li>
<li>LONG_MENU (1): Полное вертикальное меню.
Другие значения недопустимы и приведут к выбросу исключения InvalidArgumentException.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный $menu или $action.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Данные для меню берутся из таблицы TBL_MENU.
Для получения дополнительной информации см. структуру таблицы.
Константы SHORT_MENU и LONG_MENU определяют тип меню:</p>
<ul>
<li>SHORT_MENU: Краткое горизонтальное меню.</li>
<li>LONG_MENU: Полное вертикальное меню.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что передаваемые параметры корректны, так как это может привести к ошибкам.
Также убедитесь, что права доступа пользователя ($this-&gt;user) настроены правильно.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_db"><abbr title="\PhotoRigma\Classes\Work_Template::$db">Work_Template::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_lang"><abbr title="\PhotoRigma\Classes\Work_Template::$lang">Work_Template::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_user"><abbr title="\PhotoRigma\Classes\Work_Template::$user">Work_Template::$user</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Статический метод для очистки данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_create_menu"><abbr title="\PhotoRigma\Classes\Work_Template::create_menu()">Work_Template::create_menu()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для меню.
Каждый элемент массива содержит:</p>
<ul>
<li>Ключ 'url': URL пункта меню (null, если пункт активен).</li>
<li>Ключ 'name': Название пункта меню (локализованное через $this-&gt;lang['menu'] или дефолтное
значение). Если меню пустое, возвращается пустой массив.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__template_best_user_internal">
        _template_best_user_internal()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">567</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует список пользователей, загрузивших наибольшее количество изображений.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_template_best_user_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$best_user</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">1</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Выполняет запрос к базе данных с использованием JOIN для объединения таблиц TBL_USERS и TBL_PHOTO:
<ul>
<li>Основная таблица: TBL_USERS (пользователи).</li>
<li>Присоединяемая таблица: TBL_PHOTO (фотографии).</li>
<li>Условие JOIN: связь между ID пользователя (TBL_USERS.id) и полем user_upload (TBL_PHOTO.user_upload).</li>
</ul>
</li>
<li>Дополнительно присоединяет таблицу TBL_USERS_BANS для определения заблокированных пользователей.</li>
<li>Группирует данные по ID пользователя (GROUP BY TBL_USERS.id).</li>
<li>Сортирует результаты по количеству фотографий в порядке убывания (ORDER BY user_photo DESC).</li>
<li>Ограничивает количество результатов параметром $best_user (LIMIT).</li>
<li>Обрабатывает полученные данные:
<ul>
<li>Формирует ссылки на профиль пользователя.</li>
<li>Очищает имена пользователей с помощью Work::clean_field().</li>
<li>Преобразует количество фотографий в целочисленный формат.</li>
<li>Помечает пользователей в бане через булево поле <code class="prettyprint">banned</code>.</li>
</ul>
</li>
<li>Если данные отсутствуют, добавляется запись &quot;пустого&quot; пользователя:
<ul>
<li>user_url:   null.</li>
<li>user_name:  '---'.</li>
<li>user_photo: '-'.</li>
<li>banned:     false.</li>
</ul>
</li>
<li>Формирует метаданные для шаблона:
<ul>
<li>NAME_BLOCK:   Название блока (локализованное через $this-&gt;lang['main']['best_user']).</li>
<li>L_USER_NAME:  Подпись для имени пользователя (локализованная строка).</li>
<li>L_USER_PHOTO: Подпись для количества фотографий (локализованная строка).
Метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика
вызывается через публичный метод template_best_user().</li>
</ul>
</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$best_user</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">1</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество лучших пользователей для вывода.
Должно быть положительным целым числом.
Если передано недопустимое значение, выбрасывается исключение InvalidArgumentException.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если параметр $best_user не является положительным целым числом.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если запрос к базе данных не возвращает данных, добавляется запись &quot;пустого&quot; пользователя:</p>
<ul>
<li>user_url:   null.</li>
<li>user_name:  '---'.</li>
<li>user_photo: '-'.</li>
<li>banned:     false.
Константы, используемые в методе:</li>
<li>TBL_USERS: Таблица пользователей с их правами.</li>
<li>TBL_PHOTO: Таблица со списком фотографий на сервере.</li>
<li>TBL_USERS_BANS: Таблица с информацией о заблокированных пользователях.
Все пользователи учитываются при условии:</li>
<li>activation = 1 (активация)</li>
<li>email_confirmed = 1 (подтверждение почты)</li>
<li>deleted_at IS NULL AND permanently_deleted = 0 (не удалённые)</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что таблицы базы данных (TBL_USERS, TBL_PHOTO, TBL_USERS_BANS)
содержат корректные данные. Ошибки в структуре таблиц могут привести к некорректному результату.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_lang"><abbr title="\PhotoRigma\Classes\Work_Template::$lang">Work_Template::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_db"><abbr title="\PhotoRigma\Classes\Work_Template::$db">Work_Template::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_best_user"><abbr title="\PhotoRigma\Classes\Work_Template::template_best_user()">Work_Template::template_best_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода в шаблон:</p>
<ul>
<li>NAME_BLOCK:   Название блока (локализованное через $this-&gt;lang['main']['best_user']).</li>
<li>L_USER_NAME:  Подпись для имени пользователя (локализованная строка).</li>
<li>L_USER_PHOTO: Подпись для количества фотографий (локализованная строка).</li>
<li>user_url:     Ссылка на профиль пользователя (null, если данных нет).</li>
<li>user_name:    Имя пользователя ('---', если данных нет).</li>
<li>user_photo:   Количество загруженных фотографий ('-', если данных нет).</li>
<li>banned:       Булево значение, указывающее, находится ли пользователь в бане.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__template_stat_internal">
        _template_stat_internal()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">775</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует массив статистических данных для шаблона.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_template_stat_internal</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Выполняет запросы к базе данных для получения статистической информации:
<ul>
<li>Количество зарегистрированных пользователей, администраторов и модераторов из TBL_USERS. Учитываются только:
<ul>
<li>Пользователи с активацией (<code class="prettyprint">activation = 1</code>)</li>
<li>С подтверждённой почтой (<code class="prettyprint">email_confirmed = 1</code>)</li>
<li>Не удалённые (<code class="prettyprint">deleted_at IS NULL AND permanently_deleted = 0</code>)</li>
</ul>
</li>
<li>Количество категорий (включая пользовательские альбомы) из TBL_CATEGORY и TBL_PHOTO.</li>
<li>Количество фотографий из TBL_PHOTO.</li>
<li>Количество пользовательских и модераторских оценок из TBL_RATE_USER и TBL_RATE_MODER.</li>
<li>Список онлайн-пользователей из VIEW_USERS_ONLINE, соответствующих тем же условиям, что и основная выборка.</li>
</ul>
</li>
<li>Обрабатывает результаты запросов:
<ul>
<li>Преобразует данные в целочисленные значения.</li>
<li>Для онлайн-пользователей формирует HTML-ссылки с очисткой данных через Work::clean_field().</li>
<li>Пользователи в бане дополнительно обозначаются иконкой и перечёркнутым именем.</li>
</ul>
</li>
<li>Возвращает ассоциативный массив с локализованными подписями и данными для вывода статистики.
Метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика
вызывается через публичный метод template_stat().</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при выполнении запросов к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы для определения таблиц и представлений:</p>
<ul>
<li>TBL_USERS: Таблица пользователей с их правами.</li>
<li>TBL_CATEGORY: Таблица со списком категорий на сервере.</li>
<li>TBL_PHOTO: Таблица со списком фотографий на сервере.</li>
<li>TBL_RATE_USER: Таблица с оценками фотографий от пользователей.</li>
<li>TBL_RATE_MODER: Таблица с оценками фотографий от модераторов.</li>
<li>VIEW_USERS_ONLINE: Представление со списком онлайн-пользователей.
Также используются глобальные константы групп:</li>
<li>GROUP_ADMIN: ID группы администраторов</li>
<li>GROUP_MODER: ID группы модераторов</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что таблицы базы данных (TBL_USERS, TBL_CATEGORY, TBL_PHOTO, TBL_RATE_USER, TBL_RATE_MODER)
и представление VIEW_USERS_ONLINE содержат корректные данные. Ошибки в структуре таблиц могут привести
к некорректной статистике.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_db"><abbr title="\PhotoRigma\Classes\Work_Template::$db">Work_Template::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_lang"><abbr title="\PhotoRigma\Classes\Work_Template::$lang">Work_Template::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_stat"><abbr title="\PhotoRigma\Classes\Work_Template::template_stat()">Work_Template::template_stat()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Ассоциативный массив данных для вывода статистики:</p>
<ul>
<li>NAME_BLOCK:        Название блока статистики (локализованное).</li>
<li>L_STAT_REGIST:     Подпись для количества зарегистрированных пользователей.</li>
<li>D_STAT_REGIST:     Количество зарегистрированных пользователей.</li>
<li>L_STAT_PHOTO:      Подпись для количества фотографий.</li>
<li>D_STAT_PHOTO:      Количество фотографий.</li>
<li>L_STAT_CATEGORY:   Подпись для количества категорий.</li>
<li>D_STAT_CATEGORY:   Количество категорий (включая пользовательские альбомы).</li>
<li>L_STAT_USER_ADMIN: Подпись для количества администраторов.</li>
<li>D_STAT_USER_ADMIN: Количество администраторов.</li>
<li>L_STAT_USER_MODER: Подпись для количества модераторов.</li>
<li>D_STAT_USER_MODER: Количество модераторов.</li>
<li>L_STAT_RATE_USER:  Подпись для количества пользовательских оценок.</li>
<li>D_STAT_RATE_USER:  Количество пользовательских оценок.</li>
<li>L_STAT_RATE_MODER: Подпись для количества модераторских оценок.</li>
<li>D_STAT_RATE_MODER: Количество модераторских оценок.</li>
<li>L_STAT_ONLINE:     Подпись для онлайн-пользователей.</li>
<li>D_STAT_ONLINE:     Список онлайн-пользователей (HTML-ссылки) или сообщение об отсутствии
онлайн-пользователей. Пользователи в бане выделяются:
- Иконкой <code class="prettyprint">&lt;i class=&quot;ban icon&quot;&gt;&lt;/i&gt;</code>
- Перечёркнутым именем <code class="prettyprint">&lt;s&gt;...&lt;/s&gt;</code>.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__template_user_internal">
        _template_user_internal()
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Template.php"><a href="files/src-classes-work-template.html"><abbr title="src/Classes/Work_Template.php">Work_Template.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">972</span>

    </aside>

        <p class="phpdocumentor-summary">Формирование блока пользователя.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_template_user_internal</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Проверяет статус авторизации пользователя через $this-&gt;user-&gt;session['login_id']:
<ul>
<li>Если пользователь не авторизован (login_id == 0), формируется блок со ссылками на вход, восстановление
пароля и регистрацию.</li>
<li>Если пользователь авторизован, формируется блок с приветствием, группой и аватаром.</li>
</ul>
</li>
<li>Для авторизованных пользователей проверяется существование аватара и его MIME-тип:
<ul>
<li>Если аватар недоступен или имеет недопустимый MIME-тип, используется дефолтный аватар (константа
DEFAULT_AVATAR).</li>
</ul>
</li>
<li>Возвращает массив данных для блока пользователя, который используется для отображения в шаблоне.
Метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика
вызывается через публичный метод template_user().</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если объект пользователя не установлен или данные некорректны.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Random\RandomException">RandomException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибке генерации CSRF-токена.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках проверки MIME-типа файла или логирования.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Статус авторизации проверяется через $this-&gt;user-&gt;session['login_id'].
Константа DEFAULT_AVATAR определяет значение аватара по умолчанию (например, 'no_avatar.jpg').</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что объект пользователя ($this-&gt;user) корректно установлен перед вызовом метода.
Также убедитесь, что конфигурация аватаров ($this-&gt;config['avatar_dir']) настроена правильно.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_user"><abbr title="\PhotoRigma\Classes\Work_Template::$user">Work_Template::$user</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_validate_mime_type"><abbr title="\PhotoRigma\Classes\Work::validate_mime_type()">Work::validate_mime_type()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки MIME-типа файла.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_lang"><abbr title="\PhotoRigma\Classes\Work_Template::$lang">Work_Template::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_user"><abbr title="\PhotoRigma\Classes\Work_Template::template_user()">Work_Template::template_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для блока пользователя:</p>
<ul>
<li>Для неавторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное через $this-&gt;lang['main']['user_block']).</li>
<li>'CSRF_TOKEN': CSRF-токен для защиты формы.</li>
<li>'L_LOGIN', 'L_PASSWORD', 'L_ENTER', 'L_FORGOT_PASSWORD', 'L_REGISTRATION': Локализованные
строки.</li>
<li>'U_LOGIN', 'U_FORGOT_PASSWORD', 'U_REGISTRATION': URL для входа, восстановления пароля и
регистрации.</li>
</ul>
</li>
<li>Для авторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное через $this-&gt;lang['main']['user_block']).</li>
<li>'L_HI_USER': Приветствие с именем пользователя (локализованное через
$this-&gt;lang['main']['hi_user']).</li>
<li>'L_GROUP': Группа пользователя (локализованная строка).</li>
<li>'U_AVATAR': URL аватара (или дефолтного аватара, если файл недоступен или некорректен).</li>
</ul>
</li>
</ul>
</section>

            </section>

</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="files/src/Classes/Work_Template.php.txt" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                                
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                                            <li><a href="classes/PhotoRigma-Classes-Work-Template.html#toc-properties">Properties</a></li>
                                                            <li><a href="classes/PhotoRigma-Classes-Work-Template.html#toc-methods">Methods</a></li>
                                    </ul>
            </li>
            
                            <li class="phpdocumentor-on-this-page-section__title">Properties</li>
                <li>
                    <ul class="phpdocumentor-list -clean">
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#property_config">$config</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#property_config">$config</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#property_db">$db</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#property_lang">$lang</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#property_user">$user</a></li>
                                            </ul>
                </li>
            
                        <li class="phpdocumentor-on-this-page-section__title">Methods</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method___construct">__construct()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method___get">__get()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method___isset">__isset()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method___set">__set()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method_create_menu">create_menu()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_lang">set_lang()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_user">set_user()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_best_user">template_best_user()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_stat">template_stat()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_user">template_user()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal">_create_menu_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal">_template_best_user_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal">_template_stat_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal">_template_user_internal()</a></li>
                                    </ul>
            </li>
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="classes/PhotoRigma-Classes-Work-Template.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
