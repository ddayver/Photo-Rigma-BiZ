<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Photo-Rigma-BiZ</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Photo-Rigma-BiZ</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category -namespaces">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/photorigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/photorigma-classes.html" class="">Classes</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-include.html" class="">Include</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-interfaces.html" class="">Interfaces</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category -packages">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/PhotoRigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="packages/PhotoRigma-Action.html" class="">Action</a>
                
            </li>
                    <li>
                <a href="packages/PhotoRigma-Language.html" class="">Language</a>
                
            </li>
            </ul>

                        </section>
            
    <section class="phpdocumentor-sidebar__category -reports">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category -indices">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma.html">PhotoRigma</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma-interfaces.html">Interfaces</a></li>
    </ul>

    <article class="phpdocumentor-element -interface">
        <h2 class="phpdocumentor-content__title">
    Work_Interface
                <div class="phpdocumentor-element__package">
            in
            <ul class="phpdocumentor-breadcrumbs">
                                    <li><a href="packages/PhotoRigma.html">PhotoRigma</a></li>
                            </ul>
        </div>
    </h2>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">103</span>

    </aside>

            <p class="phpdocumentor-summary">Интерфейс для центральной точки приложения.</p>


    <section class="phpdocumentor-description"><p>Этот интерфейс определяет контракт для класса <code class="prettyprint">Work</code>, который является центральной точкой приложения.
Он предоставляет методы для управления языковыми данными, объектом пользователя и обеспечивает доступ к
функционалу дочерних компонентов через фасады. Все методы вызываются через класс <code class="prettyprint">Work</code>.
Основные возможности:</p>
<ul>
<li>Установка языковых данных из директорий (<code class="prettyprint">set_lang</code>). Метод сканирует указанные директории, загружает файлы
языковых данных и передаёт их в дочерние компоненты.</li>
<li>Установка объекта пользователя через сеттер (<code class="prettyprint">set_user</code>).</li>
<li>Делегирование вызовов методов дочерним компонентам:
<ul>
<li><code class="prettyprint">Work_Helper_Interface</code>: Вспомогательные методы (например, очистка строк, преобразование размеров).</li>
<li><code class="prettyprint">Work_CoreLogic_Interface</code>: Базовая логика приложения (например, работа с категориями, новостями).</li>
<li><code class="prettyprint">Work_Image_Interface</code>: Работа с изображениями (например, изменение размеров, вывод эскизов).</li>
<li><code class="prettyprint">Work_Template_Interface</code>: Формирование данных для шаблонов (например, меню, статистика).</li>
<li><code class="prettyprint">Work_Security_Interface</code>: Безопасность приложения (например, проверка входных данных, CAPTCHA).</li>
</ul>
</li>
</ul>
</section>


    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Методы данного интерфейса зависят от реализации дочерних компонентов. Некорректная реализация
дочерних интерфейсов может привести к ошибкам в работе приложения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Все методы должны быть реализованы в классе <code class="prettyprint">Work</code>. Неполная реализация может привести к непредсказуемому
поведению приложения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для работы с пользователями.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-Helper-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Helper_Interface">Work_Helper_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для вспомогательных методов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-CoreLogic-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_CoreLogic_Interface">Work_CoreLogic_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для базовой логики приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-Image-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Image_Interface">Work_Image_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для работы с изображениями.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-Template-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Template_Interface">Work_Template_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для формирования данных шаблонов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-Security-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Security_Interface">Work_Security_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для работы с безопасностью.</p>
</section>

                                    </dd>
                                                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html"><abbr title="\PhotoRigma\Classes\Work">Work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, который реализует данный класс.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Template-Interface.html#method_set_work"><abbr title="\PhotoRigma\Interfaces\Template_Interface::set_work()">Template_Interface::set_work()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, которому должен соответствовать объект.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-User-Interface.html#method_set_work"><abbr title="\PhotoRigma\Interfaces\User_Interface::set_work()">User_Interface::set_work()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, которому должен соответствовать объект.</p>
</section>

                                    </dd>
                        </dl>





<h3 id="toc">
    Table of Contents
    <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>










<h4 id="toc-methods">
    Methods
    <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#toc-methods" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_category">category()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует информационную строку для категории или пользовательского альбома.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_field">check_field()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет содержимое поля на соответствие регулярному выражению или другим условиям.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_input">check_input()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет входные данные из различных источников.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_clean_field">clean_field()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Очищает строку от HTML-тегов и специальных символов.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_directory">create_directory()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Создаёт директории для категории.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_menu">create_menu()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует массив данных для меню в зависимости от типа и активного пункта.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_photo">create_photo()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует блок данных для вывода изображений различных типов.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_del_photo">del_photo()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет изображение с указанным идентификатором, а также все упоминания об этом изображении.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_encodename">encodename()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Транслитерирует строку и заменяет знаки пунктуации на &quot;_&quot;.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_filt_email">filt_email()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Заменяет символы в email-адресах для защиты от парсинга ботами.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_find_action_file">find_action_file()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Ищет файл действия по указанному имени.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_fix_file_extension">fix_file_extension()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Корректировка расширения файла в соответствии с его MIME-типом.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_gen_captcha">gen_captcha()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует математический CAPTCHA-вопрос и ответ.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_languages">get_languages()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные языки из директории `/language/`.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_themes">get_themes()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные темы из директории `/themes/`.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_attach">image_attach()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Выводит изображение через HTTP.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_resize">image_resize()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Изменяет размер изображения.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_news">news()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Получает данные о новостях в зависимости от типа запроса.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_no_photo">no_photo()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Возвращает данные для отсутствующего изображения.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_process_rating">process_rating()</a>
    <span>
                                &nbsp;: float    </span>
</dt>
<dd>Добавляет новую оценку в таблицу и возвращает среднюю оценку фотографии.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_remove_directory">remove_directory()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет директорию и её содержимое, предварительно проверяя права доступа.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_return_bytes">return_bytes()</a>
    <span>
                                &nbsp;: int    </span>
</dt>
<dd>Преобразует размер в формате &quot;число[K|M|G]&quot; в количество байт.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_lang">set_lang()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Устанавливает языковые данные из файлов и передаёт их в дочерние классы.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_user">set_user()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Установка объекта пользователя через сеттер.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_size_image">size_image()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Вычисляет размеры для вывода эскиза изображения.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_best_user">template_best_user()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует список пользователей, загрузивших наибольшее количество изображений.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_stat">template_stat()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Возвращает массив данных для отображения статистики сайта в шаблоне.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_user">template_user()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует данные для блока пользователя.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_ubb">ubb()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Преобразует BBCode в HTML.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_url_check">url_check()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет URL на наличие вредоносного кода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_utf8_wordwrap">utf8_wordwrap()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Разбивает строку на несколько строк ограниченной длины.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_validate_mime_type">validate_mime_type()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет, поддерживается ли указанный MIME-тип изображения.</dd>

    </dl>




        

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#methods" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_category">
        category()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_category" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">494</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует информационную строку для категории или пользовательского альбома.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">category</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cat_id</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_flag</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входных параметров:
<ul>
<li><code class="prettyprint">$cat_id</code> должен быть целым числом &gt;= <code class="prettyprint">0</code>.</li>
<li><code class="prettyprint">$user_flag</code> должен принимать значения <code class="prettyprint">0</code> (категория) или <code class="prettyprint">1</code> (пользовательский альбом).</li>
</ul>
</li>
<li>Получает данные о категории или пользовательском альбоме из базы данных.</li>
<li>Подсчитывает количество фотографий, связанных с категорией или альбомом.</li>
<li>Формирует результирующий массив с информацией о категории или альбоме, включая название, описание,
количество фотографий, данные о последней и лучшей фотографии, а также ссылки на них.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cat_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор категории или пользователя (если <code class="prettyprint">$user_flag = 1</code>):</p>
<ul>
<li>Должен быть целым числом &gt;= <code class="prettyprint">0</code>.
Пример: <code class="prettyprint">5</code> (для категории) или <code class="prettyprint">123</code> (для пользовательского альбома).</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_flag</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Флаг, указывающий формировать ли информацию о категории (<code class="prettyprint">0</code>) или пользовательском альбоме
(<code class="prettyprint">1</code>):</p>
<ul>
<li>По умолчанию: <code class="prettyprint">0</code>.</li>
<li>Допустимые значения: <code class="prettyprint">0</code> или <code class="prettyprint">1</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_category#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если входные параметры имеют некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\PDOException">PDOException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если возникают ошибки при получении данных из базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
<li>TBL_USERS:    Таблица для хранения данных о пользователях (<code class="prettyprint">users</code>).</li>
<li>TBL_PHOTO:    Таблица для хранения данных о фотографиях (<code class="prettyprint">photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Входные параметры <code class="prettyprint">$cat_id</code> и <code class="prettyprint">$user_flag</code> корректны.</li>
<li>База данных содержит необходимые данные для выполнения запросов.</li>
<li>Пользователь имеет права на просмотр фотографий (если это требуется).</li>
</ul>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Информационная строка для категории или пользовательского альбома:</p>
<ul>
<li>'name'           (string): Название категории или альбома.</li>
<li>'description'    (string): Описание категории или альбома.</li>
<li>'count_photo'    (int):    Количество фотографий.</li>
<li>'last_photo'     (string): Форматированное название последней фотографии.</li>
<li>'top_photo'      (string): Форматированное название лучшей фотографии.</li>
<li>'url_cat'        (string): Ссылка на категорию или альбом.</li>
<li>'url_last_photo' (string): Ссылка на последнюю фотографию.</li>
<li>'url_top_photo'  (string): Ссылка на лучшую фотографию.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_check_field">
        check_field()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_field" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">399</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет содержимое поля на соответствие регулярному выражению или другим условиям.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">check_field</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$field</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string|false&nbsp;</span><span class="phpdocumentor-signature__argument__name">$regexp</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">false</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">bool&nbsp;</span><span class="phpdocumentor-signature__argument__name">$not_zero</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">false</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие проверки:</p>
<ol>
<li>Если задано регулярное выражение ($regexp):
<ul>
<li>Проверяет корректность регулярного выражения.</li>
<li>Проверяет соответствие значения поля этому выражению.</li>
</ul>
</li>
<li>Если флаг $not_zero установлен, проверяет, что значение поля не равно '0'.</li>
<li>Проверяет, что значение поля не содержит запрещённых паттернов из конфигурации.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$field</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Значение поля для проверки:</p>
<ul>
<li>Указывается строковое значение, которое необходимо проверить.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$regexp</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|false</span>
                 = <span class="phpdocumentor-signature__argument__default-value">false</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Регулярное выражение (необязательно). Если задано, значение должно соответствовать
этому выражению. Если регулярное выражение некорректно, метод завершает выполнение
с ошибкой.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$not_zero</span>
                : <span class="phpdocumentor-signature__argument__return-type">bool</span>
                 = <span class="phpdocumentor-signature__argument__default-value">false</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Флаг, указывающий, что значение не должно быть числом 0:</p>
<ul>
<li>Если флаг установлен, а значение равно '0', проверка завершается с ошибкой.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_field#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует конфигурацию для проверки на наличие запрещённых паттернов.
Конфигурация должна содержать массив скомпилированных регулярных выражений.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации правил проверки.
Если правила некорректны, результат может быть непредсказуемым.
Также важно убедиться, что регулярное выражение ($regexp) корректно перед использованием.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если поле прошло все проверки, иначе False.
Проверки включают соответствие регулярному выражению, отсутствие запрещённых паттернов
и выполнение условия $not_zero (если оно задано).</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_check_input">
        check_input()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_input" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">346</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет входные данные из различных источников.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">check_input</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$source_name</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$field</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$options</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">[]</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет проверку данных из различных источников ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES) на
соответствие заданным условиям. Поддерживаются следующие типы проверок:</p>
<ul>
<li>Проверка наличия поля в источнике данных (параметр 'isset').</li>
<li>Проверка, что значение поля не пустое (параметр 'empty').</li>
<li>Проверка значения поля по регулярному выражению (параметр 'regexp').</li>
<li>Проверка, что значение поля не равно нулю (параметр 'not_zero').</li>
<li>Проверка размера файла для $_FILES (параметр 'max_size') и его MIME-типа.</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$source_name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Источник данных ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES):</p>
<ul>
<li>Должен быть одним из допустимых значений: '_GET', '_POST', '_SESSION', '_COOKIE',
'_FILES'.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$field</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Поле для проверки (имя ключа в массиве источника данных):</p>
<ul>
<li>Указывается имя ключа, которое необходимо проверить.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$options</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                 = <span class="phpdocumentor-signature__argument__default-value">[]</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Дополнительные параметры проверки:</p>
<ul>
<li>Ключ 'isset' (bool, опционально): Проверять наличие поля в источнике данных.</li>
<li>Ключ 'empty' (bool, опционально): Проверять, что значение поля не пустое.</li>
<li>Ключ 'regexp' (string|false, опционально): Регулярное выражение для проверки
значения поля.</li>
<li>Ключ 'not_zero' (bool, опционально): Проверять, что значение поля не равно нулю.</li>
<li>Ключ 'max_size' (int, опционально): Максимальный размер файла (в байтах) для
$_FILES.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_input#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если MIME-тип загруженного файла не поддерживается.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Для источника данных <code class="prettyprint">_SESSION</code> используется внутреннее свойство класса.
Метод зависит от корректности данных в источниках ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES).
Если источник данных повреждён или содержит некорректные значения, результат может быть
непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что переданные параметры проверки ($options) корректны и соответствуют требованиям.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если данные прошли проверку, иначе False.
Для $_FILES также учитывается корректность MIME-типа и размера файла.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_clean_field">
        clean_field()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_clean_field" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">256</span>

    </aside>

        <p class="phpdocumentor-summary">Очищает строку от HTML-тегов и специальных символов.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">clean_field</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$field</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет, что входные данные не являются пустыми (<code class="prettyprint">null</code> или пустая строка). Если данные пусты, возвращает
пустую строку (<code class="prettyprint">''</code>).</li>
<li>Преобразует входные данные в кодировку UTF-8.</li>
<li>Удаляет все HTML-теги из строки.</li>
<li>Экранирует специальные символы (например, <code class="prettyprint">&lt;</code>, <code class="prettyprint">&gt;</code>, <code class="prettyprint">&amp;</code>, <code class="prettyprint">&quot;</code>, <code class="prettyprint">'</code>) для защиты от XSS-атак.
Метод используется для безопасной обработки пользовательского ввода.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$field</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Строка или данные, которые могут быть преобразованы в строку:</p>
<ul>
<li>Если входные данные пусты (<code class="prettyprint">null</code> или пустая строка), метод вернёт пустую строку (<code class="prettyprint">''</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_clean_field#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод не обрабатывает вложенные структуры данных (например, массивы).
Убедитесь, что входные данные могут быть преобразованы в строку.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Очищенная строка или пустая строка (<code class="prettyprint">''</code>), если входные данные пусты.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_directory">
        create_directory()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_directory" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1134</span>

    </aside>

        <p class="phpdocumentor-summary">Создаёт директории для категории.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_directory</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$directory_name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Формирует пути для директорий галереи и миниатюр на основе конфигурации.</li>
<li>Проверяет права доступа к родительским директориям.</li>
<li>Рекурсивно создаёт директории для галереи и миниатюр.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$directory_name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя директории:</p>
<ul>
<li>Должен быть строкой, содержащей только допустимые символы для имён директорий.</li>
<li>Не должен содержать запрещённых символов (например, <code class="prettyprint">\/:*?&quot;&lt;&gt;|</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_directory#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается в следующих случаях:</p>
<ul>
<li>Если родительская директория недоступна для записи.</li>
<li>Если не удалось создать директории.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как он создаёт директории.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директории успешно созданы.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_menu">
        create_menu()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_menu" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">768</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует массив данных для меню в зависимости от типа и активного пункта.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_menu</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$menu</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входных параметров:
<ul>
<li>Тип меню должен быть равен одной из констант: SHORT_MENU или LONG_MENU.</li>
<li>Активный пункт меню должен быть строкой.</li>
</ul>
</li>
<li>Определяет тип меню:
<ul>
<li>SHORT_MENU: Краткое горизонтальное меню.</li>
<li>LONG_MENU: Полное вертикальное меню.</li>
</ul>
</li>
<li>Получает данные меню из базы данных:
<ul>
<li>Условие выборки зависит от типа меню.</li>
<li>Данные фильтруются на основе прав доступа текущего пользователя.</li>
</ul>
</li>
<li>Для каждого пункта меню проверяются права доступа:
<ul>
<li>Если пункт видим, он добавляется в результат.</li>
<li>URL формируется на основе активного пункта меню.</li>
<li>Название пункта локализуется с использованием языковых строк.
Метод предназначен для создания данных меню.</li>
</ul>
</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Активный пункт меню:</p>
<ul>
<li>Указывается строка, соответствующая активному пункту меню (например, 'home', 'profile').</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$menu</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип меню:</p>
<ul>
<li>SHORT_MENU (0): Краткое горизонтальное меню.</li>
<li>LONG_MENU (1): Полное вертикальное меню.
Другие значения недопустимы и приведут к выбросу исключения InvalidArgumentException.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_menu#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если передан некорректный $menu или $action.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Данные для меню берутся из таблицы базы данных.
Константы SHORT_MENU и LONG_MENU определяют тип меню:</p>
<ul>
<li>SHORT_MENU: Краткое горизонтальное меню.</li>
<li>LONG_MENU: Полное вертикальное меню.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что передаваемые параметры корректны, так как это может привести к ошибкам.
Также убедитесь, что права доступа пользователя настроены правильно.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для меню.
Каждый элемент массива содержит:</p>
<ul>
<li>Ключ 'url': URL пункта меню (null, если пункт активен).</li>
<li>Ключ 'name': Название пункта меню (локализованное или дефолтное значение).
Если меню пустое, возвращается пустой массив.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_photo">
        create_photo()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">658</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует блок данных для вывода изображений различных типов.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_photo</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$type</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$id_photo</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входных параметров <code class="prettyprint">$type</code> и <code class="prettyprint">$id_photo</code>.</li>
<li>Проверяет права пользователя на просмотр изображений.</li>
<li>Формирует данные для вывода изображения в зависимости от типа:
<ul>
<li>'top':  Лучшее изображение (по рейтингу).</li>
<li>'last': Последнее загруженное изображение.</li>
<li>'cat':  Изображение из конкретной категории по <code class="prettyprint">$id_photo</code>.</li>
<li>'rand': Любое случайное изображение.</li>
</ul>
</li>
<li>Возвращает массив данных для вывода изображения или данные по умолчанию, если изображение недоступно.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$type</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип изображения:</p>
<ul>
<li>'top':  Лучшее изображение (по рейтингу).</li>
<li>'last': Последнее загруженное изображение.</li>
<li>'cat':  Изображение из конкретной категории (требует указания <code class="prettyprint">$id_photo</code>).</li>
<li>'rand': Любое случайное изображение.
По умолчанию: 'top'.
Допустимые значения: 'top', 'last', 'cat', 'rand'.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$id_photo</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор фото. Используется только при <code class="prettyprint">$type == 'cat'</code>.
Должен быть целым числом &gt;= <code class="prettyprint">0</code>.
По умолчанию: <code class="prettyprint">0</code>.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если передан недопустимый <code class="prettyprint">$type</code> или <code class="prettyprint">$id_photo &lt; 0</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если файл изображения недоступен или не существует.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при записи ошибок в лог.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если изображение недоступно, метод возвращает данные по умолчанию.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Пользователь имеет право на просмотр изображений.</li>
<li>Передаются допустимые значения для <code class="prettyprint">$type</code> и <code class="prettyprint">$id_photo</code>.</li>
</ul>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода изображения:</p>
<ul>
<li>'name_block'           (string):      Название блока изображения (например, &quot;Лучшее фото&quot;).</li>
<li>'url'                  (string):      URL для просмотра полного изображения.</li>
<li>'thumbnail_url'        (string):      URL для миниатюры изображения.</li>
<li>'name'                 (string):      Название изображения.</li>
<li>'description'          (string):      Описание изображения.</li>
<li>'category_name'        (string):      Название категории.</li>
<li>'category_description' (string):      Описание категории.</li>
<li>'rate'                 (string):      Рейтинг изображения (например, &quot;Рейтинг: 5/10&quot;).</li>
<li>'url_user'             (string|null): URL профиля пользователя, добавившего изображение.</li>
<li>'real_name'            (string):      Реальное имя пользователя.</li>
<li>'category_url'         (string):      URL категории или пользовательского альбома.</li>
<li>'width'                (int):         Ширина изображения после масштабирования.</li>
<li>'height'               (int):         Высота изображения после масштабирования.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_del_photo">
        del_photo()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_del_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">525</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет изображение с указанным идентификатором, а также все упоминания об этом изображении.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">del_photo</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входного параметра <code class="prettyprint">photo_id</code>.</li>
<li>Получает данные об изображении из базы данных.</li>
<li>Удаляет файлы изображений (полноразмерные и эскизы) с диска.</li>
<li>Удаляет запись об изображении из базы данных.</li>
<li>Логирует ошибки, если они возникают.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор удаляемого изображения:</p>
<ul>
<li>Должен быть положительным целым числом.
Пример: <code class="prettyprint">42</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_del_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если параметр <code class="prettyprint">photo_id</code> имеет некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если возникает ошибка при выполнении запросов к базе данных или
удалении файлов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при записи ошибок в лог.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод автоматически удаляет связанные записи в базе данных благодаря использованию внешних ключей.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Скрипт имеет необходимые права на запись и чтение для удаления файлов.</li>
<li>Удаление файлов и записей из базы данных необратимо. Передайте корректный идентификатор изображения.</li>
</ul>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает:</p>
<ul>
<li><code class="prettyprint">true</code>, если удаление успешно.</li>
<li><code class="prettyprint">false</code>, если произошла ошибка.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_encodename">
        encodename()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_encodename" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">151</span>

    </aside>

        <p class="phpdocumentor-summary">Транслитерирует строку и заменяет знаки пунктуации на &quot;_&quot;.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">encodename</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$string</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет, что входная строка не является пустой. Если строка пустая, то она возвращается без обработки.</li>
<li>Транслитерирует не латинские символы в латиницу.</li>
<li>Заменяет все символы, кроме букв и цифр, на <code class="prettyprint">&quot;_&quot;</code>:
<ul>
<li>Заменяет множественные подчёркивания на одно.</li>
<li>Удаляет подчёркивания в начале и конце строки.</li>
</ul>
</li>
<li>Если после обработки строка становится пустой, генерируется уникальная последовательность длиной 16 символов.
Метод используется для создания &quot;безопасных&quot; имен файлов или URL.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$string</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Исходная строка:</p>
<ul>
<li>Если строка пустая, то она возвращается без обработки.
Рекомендуется использовать строки в кодировке UTF-8.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_encodename#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод не гарантирует сохранение исходного формата строки, так как все специальные символы заменяются на
<code class="prettyprint">&quot;_&quot;</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Строка после транслитерации и замены символов:</p>
<ul>
<li>Если после обработки строка становится пустой, генерируется уникальная последовательность.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_filt_email">
        filt_email()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_filt_email" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">448</span>

    </aside>

        <p class="phpdocumentor-summary">Заменяет символы в email-адресах для защиты от парсинга ботами.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">filt_email</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$email</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность формата email.</li>
<li>Если email некорректен или пуст, возвращает пустую строку.</li>
<li>Заменяет символы '@' и '.' на '[at]' и '[dot]' соответственно.
Метод предназначен для затруднения автоматического парсинга email-адресов ботами.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$email</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Email-адрес для обработки:</p>
<ul>
<li>Должен быть непустым и соответствовать формату email (например, &quot;example@local.com&quot;).</li>
<li>Если email некорректен или пуст, метод возвращает пустую строку.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_filt_email#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует базовую проверку формата email.
Если требуется более строгая валидация, следует учитывать дополнительные правила.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что входной email соответствует формату перед вызовом метода.
Если email некорректен или пуст, метод вернёт пустую строку.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Обработанный email-адрес, где символы '@' и '.' заменены на '[at]' и '[dot]'.
Если входной email некорректен или пуст, возвращается пустая строка.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_find_action_file">
        find_action_file()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_find_action_file" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">722</span>

    </aside>

        <p class="phpdocumentor-summary">Ищет файл действия по указанному имени.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">find_action_file</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод обязан:</p>
<ul>
<li>Принимать имя действия как параметр (или NULL)</li>
<li>Определять корректное имя действия и соответствующий файл</li>
<li>Возвращать массив с именем действия и полным путём к файлу</li>
<li>Выбрасывать RuntimeException, если файл действия не найден</li>
<li>Обеспечивать совместимость с веб-запросами и CLI</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|null</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя действия из внешнего источника
Может быть NULL → тогда используется действие по умолчанию</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_find_action_file#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если файл действия не найден ни в одной директории</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках проверки входных данных</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Реализация должна использовать стандартные средства проверки безопасности
Порядок поиска файла определяется реализацией</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Не передавайте недопустимые или небезопасные значения $action — это может привести к ошибкам
Реализация обязана обеспечить защиту от инъекций и проверку доступности файлов</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>[
'action_name' =&gt; string,
'full_path'   =&gt; string
]
Должен вернуть пару: имя действия + путь к файлу</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_fix_file_extension">
        fix_file_extension()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_fix_file_extension" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1084</span>

    </aside>

        <p class="phpdocumentor-summary">Корректировка расширения файла в соответствии с его MIME-типом.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">fix_file_extension</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет путь к файлу на корректность.</li>
<li>Определяет реальный MIME-тип файла.</li>
<li>Проверяет соответствие MIME-типа поддерживаемым форматам:
<ul>
<li>'image/jpeg' -&gt; 'jpg'</li>
<li>'image/png' -&gt; 'png'</li>
<li>'image/gif' -&gt; 'gif'</li>
<li>'image/webp' -&gt; 'webp'</li>
<li>'image/tiff' -&gt; 'tiff'</li>
<li>'image/svg+xml' -&gt; 'svg'</li>
<li>'image/bmp' -&gt; 'bmp'</li>
<li>'image/x-icon' -&gt; 'ico'</li>
<li>'image/avif' -&gt; 'avif'</li>
<li>'image/heic' -&gt; 'heic'</li>
<li>'image/vnd.adobe.photoshop' -&gt; 'psd'</li>
<li>'image/x-canon-cr2' -&gt; 'cr2'</li>
<li>'image/x-nikon-nef' -&gt; 'nef'</li>
<li>'image/x-xbitmap' -&gt; 'xbm'</li>
<li>'image/x-portable-anymap' -&gt; 'pnm'</li>
<li>'image/x-pcx' -&gt; 'pcx'</li>
</ul>
</li>
<li>Если расширение отсутствует или некорректное, оно добавляется или исправляется.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_fix_file_extension#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если путь к файлу имеет недопустимый формат.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если:</p>
<ul>
<li>MIME-тип файла не поддерживается.</li>
<li>Файл недоступен для чтения.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение с ошибкой, если MIME-тип файла не поддерживается.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Полный путь к файлу с правильным расширением:</p>
<ul>
<li>Если расширение было изменено или добавлено, возвращается новый путь.</li>
<li>Если расширение уже корректное, возвращается исходный путь.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_gen_captcha">
        gen_captcha()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_gen_captcha" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">422</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует математический CAPTCHA-вопрос и ответ.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">gen_captcha</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Генерирует случайные числа в диапазоне от 1 до 9.</li>
<li>Формирует математическое выражение, которое может включать сложение (<code class="prettyprint">+</code>) или умножение (<code class="prettyprint">x</code>) с
использованием скобок.</li>
<li>Вычисляет правильный ответ для сгенерированного выражения.
Метод используется для защиты от спам-ботов.</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_gen_captcha#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Random\RandomException">RandomException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если произошла ошибка при генерации случайных чисел.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует криптографически безопасную функцию для генерации случайных чисел.
Если требуется замена на менее безопасную функцию, это должно быть явно указано в конфигурации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что PHP поддерживает криптографически безопасные функции генерации случайных чисел.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с ключами 'question' и 'answer':</p>
<ul>
<li>Ключ 'question' содержит строку математического выражения (например, &quot;2 x (3 + 4)&quot;).</li>
<li>Ключ 'answer' содержит целочисленный результат вычисления (например, 14).</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_get_languages">
        get_languages()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_languages" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">583</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные языки из директории `/language/`.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">get_languages</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование и доступность директории <code class="prettyprint">/language/</code>.</li>
<li>Перебирает поддиректории в <code class="prettyprint">/language/</code> и загружает данные о доступных языках.</li>
<li>Для каждого языка проверяет наличие корректного файла конфигурации с названием языка.</li>
<li>Возвращает массив с данными о доступных языках или выбрасывает исключение, если языки не найдены.</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_languages#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если:</p>
<ul>
<li>Директория <code class="prettyprint">/language/</code> недоступна или не существует.</li>
<li>Ни один язык не найден в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при записи ошибок в лог.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод автоматически возвращает пустой массив, если языки не найдены.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Директория <code class="prettyprint">/language/</code> содержит корректные поддиректории с файлами конфигурации.</li>
<li>Файлы конфигурации содержат корректное название языка.
Если директория <code class="prettyprint">/language/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о доступных языках. Каждый элемент массива содержит:</p>
<ul>
<li><code class="prettyprint">value</code>: Имя директории языка (строка).</li>
<li><code class="prettyprint">name</code>: Название языка (строка).</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_get_themes">
        get_themes()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_themes" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">607</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные темы из директории `/themes/`.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">get_themes</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование и доступность директории <code class="prettyprint">/themes/</code>.</li>
<li>Перебирает поддиректории в <code class="prettyprint">/themes/</code> и загружает имена доступных тем.</li>
<li>Возвращает массив с именами доступных тем или выбрасывает исключение, если темы не найдены.</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_themes#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> не существует или недоступна для чтения.</li>
<li>Ни одна тема не найдена в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при записи ошибок в лог.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод автоматически возвращает пустой массив, если темы не найдены.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> существует и содержит корректные поддиректории.</li>
<li>Поддиректории находятся внутри директории <code class="prettyprint">/themes/</code>.
Если директория <code class="prettyprint">/themes/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с именами доступных тем (строки).</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_image_attach">
        image_attach()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_attach" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1040</span>

    </aside>

        <p class="phpdocumentor-summary">Выводит изображение через HTTP.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">image_attach</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name_file</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование и доступность файла:
<ul>
<li>Если файл не существует или недоступен для чтения, отправляется HTTP-статус <code class="prettyprint">404 Not Found</code>.</li>
</ul>
</li>
<li>Определяет MIME-тип файла:
<ul>
<li>Если MIME-тип не соответствует изображению, отправляется HTTP-статус <code class="prettyprint">500 Internal Server Error</code>.</li>
</ul>
</li>
<li>Проверяет размер файла:
<ul>
<li>Если размер превышает 10 МБ или неизвестен, отправляется HTTP-статус <code class="prettyprint">413 Payload Too Large</code>.</li>
</ul>
</li>
<li>Устанавливает заголовки для вывода изображения:
<ul>
<li><code class="prettyprint">Content-Type</code>: MIME-тип файла.</li>
<li><code class="prettyprint">Content-Disposition</code>: Имя файла для заголовка.</li>
<li><code class="prettyprint">Content-Length</code>: Размер файла.</li>
<li>Дополнительные заголовки безопасности.</li>
</ul>
</li>
<li>Отправляет содержимое файла через HTTP.</li>
<li>Завершает выполнение скрипта после отправки заголовков и содержимого файла.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name_file</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя файла для заголовка <code class="prettyprint">Content-Disposition</code>:</p>
<ul>
<li>Имя должно быть корректным (например, без запрещённых символов).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_attach#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение скрипта (<code class="prettyprint">exit</code>), отправляя заголовки и содержимое файла.
Дополнительные заголовки безопасности:</p>
<ul>
<li><code class="prettyprint">X-Content-Type-Options: nosniff</code></li>
<li><code class="prettyprint">X-Frame-Options: DENY</code></li>
<li><code class="prettyprint">X-XSS-Protection: 1; mode=block</code></li>
<li><code class="prettyprint">Referrer-Policy: no-referrer</code></li>
<li><code class="prettyprint">Content-Security-Policy: default-src 'self'; img-src 'self' data:;</code></li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение скрипта (<code class="prettyprint">exit</code>), отправляя заголовки и содержимое файла.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.</p>
</section>

                                    </dd>
                                            </dl>

    
    <section class="phpdocumentor-attributes">
        <h5 class="phpdocumentor-elements__header" id="attributes">
            Attributes <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_attach#attributes" class="headerlink"><i class="fas fa-link"></i></a>

        </h5>
                    <dl class="phpdocumentor-argument-list">
    <dt class="phpdocumentor-argument-list__entry">
        #[<abbr title="\JetBrains\PhpStorm\NoReturn">NoReturn</abbr>]
    </dt>
    </dl>
            </section>

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает. Завершает выполнение скрипта после отправки заголовков и содержимого
файла.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_image_resize">
        image_resize()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_resize" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">970</span>

    </aside>

        <p class="phpdocumentor-summary">Изменяет размер изображения.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">image_resize</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$thumbnail_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность путей к исходному изображению и файлу эскиза.</li>
<li>Проверяет существование и доступность исходного изображения для чтения.</li>
<li>Проверяет доступность директории для сохранения эскиза для записи.</li>
<li>Получает размеры исходного изображения и проверяет их на соответствие максимальным значениям.</li>
<li>Рассчитывает размеры эскиза на основе конфигурации (<code class="prettyprint">temp_photo_w</code>, <code class="prettyprint">temp_photo_h</code>).</li>
<li>Если файл эскиза уже существует и его размеры совпадают с расчётными, метод завершает работу.</li>
<li>Определяет MIME-тип исходного изображения.</li>
<li>Выбирает библиотеку для обработки изображения в следующем порядке приоритета:
<ul>
<li>GraphicsMagick (если доступен),</li>
<li>ImageMagick (если доступен),</li>
<li>GD (если предыдущие библиотеки недоступны или вызвали ошибку).</li>
</ul>
</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к исходному изображению:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$thumbnail_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь для сохранения эскиза:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Директория должна быть доступна для записи.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_resize#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если пути к файлам некорректны или имеют недопустимый формат.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если возникли ошибки при проверке файлов, директорий или
размеров изображения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует следующие константы для ограничения размеров исходного изображения:</p>
<ul>
<li><code class="prettyprint">MAX_IMAGE_WIDTH</code>: Максимальная ширина исходного изображения (в пикселях). Значение: 5000.</li>
<li><code class="prettyprint">MAX_IMAGE_HEIGHT</code>: Максимальная высота исходного изображения (в пикселях). Значение: 5000.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code>, <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.
Убедитесь, что пути к файлам и директориям корректны перед вызовом метода.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если операция выполнена успешно, иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_news">
        news()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_news" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">556</span>

    </aside>

        <p class="phpdocumentor-summary">Получает данные о новостях в зависимости от типа запроса.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">news</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$act</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входных параметров <code class="prettyprint">$news_id_or_limit</code> и <code class="prettyprint">$act</code>.</li>
<li>Выполняет запрос к базе данных для получения данных о новостях:
<ul>
<li>Для <code class="prettyprint">$act = 'id'</code>: Возвращает новость по её ID.</li>
<li>Для <code class="prettyprint">$act = 'last'</code>: Возвращает список последних новостей с сортировкой по дате редактирования.</li>
</ul>
</li>
<li>Возвращает массив с данными о новостях или пустой массив, если новости не найдены.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество новостей или ID новости (в зависимости от параметра <code class="prettyprint">$act</code>):</p>
<ul>
<li>Должен быть положительным целым числом.
Пример: <code class="prettyprint">5</code> (для ID новости) или <code class="prettyprint">10</code> (для количества новостей).</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$act</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип запроса:</p>
<ul>
<li><code class="prettyprint">'id'</code>: Получение новости по её ID.</li>
<li><code class="prettyprint">'last'</code>: Получение списка последних новостей.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_news#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если передан некорректный <code class="prettyprint">$act</code> или <code class="prettyprint">$news_id_or_limit</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод автоматически возвращает пустой массив, если новости не найдены.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Передаются допустимые значения для <code class="prettyprint">$news_id_or_limit</code> и <code class="prettyprint">$act</code>.</li>
<li>База данных содержит необходимые данные для выполнения запросов.</li>
</ul>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о новостях. Если новостей нет, возвращается пустой массив.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_no_photo">
        no_photo()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_no_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">998</span>

    </aside>

        <p class="phpdocumentor-summary">Возвращает данные для отсутствующего изображения.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">no_photo</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод формирует массив данных, который используется для представления информации об отсутствующем
изображении. Это может быть полезно, например, если изображение не найдено или недоступно. Метод
использует константы приложения для формирования URL-адресов и путей.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_no_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в константах. Если эти параметры некорректны, результат может
быть непредсказуемым.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных об изображении или его отсутствии:</p>
<ul>
<li>'url'                  (string): URL полноразмерного изображения.</li>
<li>'thumbnail_url'        (string): URL эскиза изображения.</li>
<li>'name'                 (string): Название изображения. Значение по умолчанию: <code class="prettyprint">'No photo'</code>.</li>
<li>'description'          (string): Описание изображения. Значение по умолчанию: <code class="prettyprint">'No photo available'</code>.</li>
<li>'category_name'        (string): Название категории. Значение по умолчанию: <code class="prettyprint">'No category'</code>.</li>
<li>'category_description' (string): Описание категории. Значение по умолчанию: <code class="prettyprint">'No category available'</code>.</li>
<li>'rate'                 (string): Рейтинг изображения. Значение по умолчанию: <code class="prettyprint">'Rate: 0/0'</code>.</li>
<li>'url_user'             (string): URL пользователя. Значение по умолчанию: пустая строка (<code class="prettyprint">''</code>).</li>
<li>'real_name'            (string): Имя пользователя. Значение по умолчанию: <code class="prettyprint">'No user'</code>.</li>
<li>'full_path'            (string): Полный путь к изображению. Формируется на основе конфигурации.</li>
<li>'thumbnail_path'       (string): Полный путь к эскизу. Формируется на основе конфигурации.</li>
<li>'file'                 (string): Имя файла. Значение по умолчанию: <code class="prettyprint">'no_foto.png'</code>.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_process_rating">
        process_rating()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_process_rating" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">692</span>

    </aside>

        <p class="phpdocumentor-summary">Добавляет новую оценку в таблицу и возвращает среднюю оценку фотографии.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">process_rating</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$table</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$rate_value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">float</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входных параметров <code class="prettyprint">$table</code>, <code class="prettyprint">$photo_id</code>, <code class="prettyprint">$user_id</code> и <code class="prettyprint">$rate_value</code>.</li>
<li>Вставляет новую оценку в указанную таблицу.</li>
<li>Пересчитывает среднюю оценку для фотографии автоматически через триггеры и функции в СУБД.</li>
<li>Возвращает среднюю оценку для указанной фотографии или <code class="prettyprint">0</code>, если оценок нет.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$table</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя таблицы для вставки оценки:</p>
<ul>
<li><code class="prettyprint">'rate_user'</code>: Таблица с оценками фотографий от пользователей.</li>
<li><code class="prettyprint">'rate_moder'</code>: Таблица с оценками фотографий от модераторов.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID фотографии:</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID пользователя:</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$rate_value</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Значение оценки:</p>
<ul>
<li>Должен быть целым числом в диапазоне допустимых значений (например, 1–5).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_process_rating#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если переданы некорректные параметры.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если не удалось добавить оценку.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод автоматически пересчитывает среднюю оценку через триггеры и функции в СУБД.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Параметр <code class="prettyprint">$table</code> соответствует одной из допустимых таблиц (<code class="prettyprint">'rate_user'</code> или <code class="prettyprint">'rate_moder'</code>).</li>
<li>В СУБД настроены триггеры и функции для перерасчета средней оценки.</li>
</ul>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">float</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает число с плавающей точкой, представляющее среднюю оценку.
Если оценок нет, возвращается <code class="prettyprint">0</code>.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_remove_directory">
        remove_directory()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_remove_directory" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1112</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет директорию и её содержимое, предварительно проверяя права доступа.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">remove_directory</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование указанной директории.</li>
<li>Проверяет права доступа к директории (должна быть доступна для записи).</li>
<li>Рекурсивно удаляет все файлы и поддиректории внутри директории.</li>
<li>Удаляет саму директорию.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к директории:</p>
<ul>
<li>Должен быть строкой, указывающей на существующую директорию.</li>
<li>Директория должна быть доступна для записи.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_remove_directory#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается в следующих случаях:</p>
<ul>
<li>Если директория не существует.</li>
<li>Если директория недоступна для записи.</li>
<li>Если не удалось удалить файл или поддиректорию внутри директории.</li>
<li>Если не удалось удалить саму директорию.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод рекурсивно удаляет все файлы и поддиректории внутри директории.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как удаление директории необратимо.
Убедитесь, что переданная директория действительно должна быть удалена.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директория успешно удалена.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_return_bytes">
        return_bytes()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_return_bytes" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">127</span>

    </aside>

        <p class="phpdocumentor-summary">Преобразует размер в формате &quot;число[K|M|G]&quot; в количество байт.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">return_bytes</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string|int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$val</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">int</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность входных данных.</li>
<li>Преобразует размер, заданный в формате &quot;число[K|M|G]&quot;, в количество байт:
<ul>
<li>K (килобайты): умножается на 1024.</li>
<li>M (мегабайты): умножается на 1024².</li>
<li>G (гигабайты): умножается на 1024³.</li>
</ul>
</li>
<li>Если суффикс отсутствует или недопустим, значение считается в байтах.</li>
<li>Отрицательные числа преобразуются в положительные.</li>
<li>Возвращает <code class="prettyprint">0</code>, если входные данные некорректны.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$val</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Размер в формате &quot;число[K|M|G]&quot; или число:</p>
<ul>
<li>Допустимые суффиксы: <code class="prettyprint">K</code>, <code class="prettyprint">M</code>, <code class="prettyprint">G</code>.</li>
<li>Если суффикс недопустим, он игнорируется, и значение преобразуется в число.</li>
<li>Отрицательные числа преобразуются в положительные.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_return_bytes#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к формату входных данных. Убедитесь, что они корректны.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">int</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Размер в байтах. Возвращает <code class="prettyprint">0</code> для некорректных входных данных.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_lang">
        set_lang()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_lang" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">282</span>

    </aside>

        <p class="phpdocumentor-summary">Устанавливает языковые данные из файлов и передаёт их в дочерние классы.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_lang</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод загружает и обрабатывает файлы языковых данных, выполняя следующие шаги:</p>
<ol>
<li>Формирует пути к файлам языковых данных на основе текущего языка сессии или конфигурации.</li>
<li>Проверяет существование и доступность файлов для чтения.</li>
<li>Загружает данные из файлов, которые должны быть массивами с ключом <code class="prettyprint">'lang'</code>.</li>
<li>Проверяет корректность массивов (например, наличие обязательных ключей).</li>
<li>Логирует изменения (если они есть).</li>
<li>Обновляет языковые данные в текущем классе и передаёт их в дочерние классы (например, шаблоны и логику).</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_lang#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если массив языковых данных некорректен (например, отсутствует ключ <code class="prettyprint">'lang'</code> или
содержатся ошибки).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникают проблемы с файлами языковых данных (например, файл отсутствует,
недоступен для чтения или не содержит обязательный файл <code class="prettyprint">main.php</code>).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\JsonException">JsonException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках кодирования/декодирования JSON.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках логирования.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод является точкой входа для установки языковых данных. Реализация должна обеспечивать загрузку
данных из файлов, проверку их корректности и передачу в дочерние компоненты.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если файлы языковых данных отсутствуют, содержат ошибки или недоступны для чтения, метод выбрасывает
исключение.</p>
</section>

                                    </dd>
                                            </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_user">
        set_user()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">306</span>

    </aside>

        <p class="phpdocumentor-summary">Установка объекта пользователя через сеттер.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_user</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет установить объект пользователя, реализующий интерфейс <code class="prettyprint">User_Interface</code>.
Метод выполняет следующие действия:</p>
<ol>
<li>Проверяет, что переданный объект является экземпляром класса, реализующего интерфейс <code class="prettyprint">User_Interface</code>.</li>
<li>Передаёт объект пользователя в связанные компоненты системы (<code class="prettyprint">Work_Template</code> и <code class="prettyprint">Work_CoreLogic</code>) для
дальнейшего использования.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект пользователя:</p>
<ul>
<li>Должен быть экземпляром класса, реализующего интерфейс <code class="prettyprint">User_Interface</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный объект (не экземпляр интерфейса <code class="prettyprint">User_Interface</code>).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод проверяет тип переданного объекта.
Объект пользователя используется в связанных компонентах системы (например, для авторизации,
управления правами доступа и т.д.).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Некорректный объект (не экземпляр интерфейса <code class="prettyprint">User_Interface</code>) вызывает исключение.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><abbr title="\PhotoRigma\Classes\User_Interface">User_Interface</abbr></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, которому должен соответствовать объект пользователя.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_size_image">
        size_image()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_size_image" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">930</span>

    </aside>

        <p class="phpdocumentor-summary">Вычисляет размеры для вывода эскиза изображения.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">size_image</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path_image</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование файла.</li>
<li>Получает реальные размеры изображения.</li>
<li>Вычисляет ширину и высоту эскиза на основе реальных размеров изображения и конфигурационных параметров:
<ul>
<li><code class="prettyprint">temp_photo_w</code>: Целевая ширина эскиза (в пикселях).</li>
<li><code class="prettyprint">temp_photo_h</code>: Целевая высота эскиза (в пикселях).</li>
</ul>
</li>
<li>Если изображение меньше целевого размера, возвращаются оригинальные размеры.</li>
<li>В противном случае размеры масштабируются пропорционально.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path_image</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к файлу изображения:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_size_image#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается в следующих случаях:</p>
<ul>
<li>Если файл не существует.</li>
<li>Если не удалось получить размеры изображения.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code> и <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с шириной и высотой эскиза:</p>
<ul>
<li>Ключ <code class="prettyprint">'width'</code> (int): Ширина эскиза (целое число ≥ 0).</li>
<li>Ключ <code class="prettyprint">'height'</code> (int): Высота эскиза (целое число ≥ 0).
Размеры могут совпадать с оригинальными размерами изображения,
если оно меньше целевого размера.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_best_user">
        template_best_user()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_best_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">899</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует список пользователей, загрузивших наибольшее количество изображений.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_best_user</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$best_user</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">1</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод является частью контракта и должен быть реализован в классе.
Он обязан:</p>
<ul>
<li>Возвращать список пользователей по количеству загруженных фотографий</li>
<li>Учитывать только активированных пользователей, с подтверждённой почтой и не удалённых</li>
<li>Помечать заблокированных пользователей булевым полем <code class="prettyprint">banned</code></li>
<li>Добавлять запись &quot;пустого&quot; пользователя, если данных нет</li>
<li>Ограничивать вывод заданным количеством записей (<code class="prettyprint">$best_user</code>)</li>
<li>Формировать данные в строго заданной структуре ассоциативного массива</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$best_user</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">1</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество лучших пользователей для вывода:</p>
<ul>
<li>Должно быть положительным целым числом.
Пример: 5.
Если передано недопустимое значение, выбрасывается исключение InvalidArgumentException.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_best_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если параметр <code class="prettyprint">$best_user</code> не является положительным целым числом.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При критических ошибках выполнения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если запрос к базе данных не возвращает данных, добавляется запись &quot;пустого&quot; пользователя:</p>
<ul>
<li>user_url: null.</li>
<li>user_name: '---'.</li>
<li>user_photo: '-'.</li>
<li>banned: false</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Нарушение контракта может привести к некорректной работе шаблона и отображения данных.
Убедитесь, что структура возвращаемого массива соответствует заданному формату.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода в шаблон:</p>
<ul>
<li>NAME_BLOCK:   Название блока (локализованное).</li>
<li>L_USER_NAME:  Подпись для имени пользователя (локализованная строка).</li>
<li>L_USER_PHOTO: Подпись для количества фотографий (локализованная строка).</li>
<li>user_url:     Ссылка на профиль пользователя (null, если данных нет).</li>
<li>user_name:    Имя пользователя ('---', если данных нет).</li>
<li>user_photo:   Количество загруженных фотографий ('-', если данных нет).</li>
<li>banned:       Булево значение, указывающее, находится ли пользователь в бане.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_stat">
        template_stat()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_stat" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">859</span>

    </aside>

        <p class="phpdocumentor-summary">Возвращает массив данных для отображения статистики сайта в шаблоне.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_stat</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод является частью контракта и должен быть реализован в классе.
Он определяет обязательное поведение:</p>
<ul>
<li>Получение общей статистики сайта</li>
<li>Поддержка локализации подписей</li>
<li>Формирование чётко заданной структуры данных</li>
<li>Совместимость с любыми СУБД</li>
</ul>
<p>Реализация обязана обеспечивать:</p>
<ul>
<li>Вывод данных в строго заданной структуре ассоциативного массива</li>
<li>Корректную фильтрацию пользователей:
<ul>
<li>Только активные</li>
<li>Только подтверждённые</li>
<li>Не удалённые</li>
</ul>
</li>
<li>Отображение онлайн-пользователей с выделением заблокированных</li>
</ul>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_stat#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при ошибке получения данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При критических ошибках выполнения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Реализация должна обеспечивать:</p>
<ul>
<li>Локализацию всех подписей</li>
<li>Чистый вывод данных</li>
<li>Защиту от инъекций</li>
<li>Совместимость с различными СУБД</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Нарушение контракта может привести к некорректной работе шаблона и отображения данных.
Убедитесь, что структура возвращаемого массива соответствует заданному формату.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Ассоциативный массив данных для вывода статистики:</p>
<ul>
<li>NAME_BLOCK:        Название блока статистики (локализованное).</li>
<li>L_STAT_REGIST:     Подпись для количества зарегистрированных пользователей.</li>
<li>D_STAT_REGIST:     Количество зарегистрированных пользователей.</li>
<li>L_STAT_PHOTO:      Подпись для количества фотографий.</li>
<li>D_STAT_PHOTO:      Количество фотографий.</li>
<li>L_STAT_CATEGORY:   Подпись для количества категорий.</li>
<li>D_STAT_CATEGORY:   Количество категорий (включая пользовательские альбомы).</li>
<li>L_STAT_USER_ADMIN: Подпись для количества администраторов.</li>
<li>D_STAT_USER_ADMIN: Количество администраторов.</li>
<li>L_STAT_USER_MODER: Подпись для количества модераторов.</li>
<li>D_STAT_USER_MODER: Количество модераторов.</li>
<li>L_STAT_RATE_USER:  Подпись для количества пользовательских оценок.</li>
<li>D_STAT_RATE_USER:  Количество пользовательских оценок.</li>
<li>L_STAT_RATE_MODER: Подпись для количества модераторских оценок.</li>
<li>D_STAT_RATE_MODER: Количество модераторских оценок.</li>
<li>L_STAT_ONLINE:     Подпись для онлайн-пользователей.</li>
<li>D_STAT_ONLINE:     Список онлайн-пользователей (HTML-ссылки) или сообщение об отсутствии
онлайн-пользователей. Пользователи в бане дополнительно выделяются:
- Иконкой <code class="prettyprint">&lt;i class=&quot;ban icon&quot;&gt;&lt;/i&gt;</code>
- Перечёркнутым именем <code class="prettyprint">&lt;s&gt;...&lt;/s&gt;</code>.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_user">
        template_user()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">805</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует данные для блока пользователя.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_user</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет статус авторизации пользователя:
<ul>
<li>Если пользователь не авторизован, формируется блок со ссылками на вход, восстановление пароля и регистрацию.</li>
<li>Если пользователь авторизован, формируется блок с приветствием, группой и аватаром.</li>
</ul>
</li>
<li>Для авторизованных пользователей проверяется существование аватара:
<ul>
<li>Если аватар недоступен или имеет недопустимый формат, используется дефолтный аватар.</li>
</ul>
</li>
<li>Возвращает массив данных для блока пользователя, который используется для отображения в шаблоне.</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если объект пользователя не установлен или данные некорректны.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Random\RandomException">RandomException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при ошибке генерации CSRF-токена.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при ошибках проверки MIME-типа файла или логирования.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Статус авторизации проверяется через внутренние данные пользователя.
Дефолтный аватар определяется конфигурацией системы.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что объект пользователя корректно установлен перед вызовом метода.
Также убедитесь, что конфигурация аватаров настроена правильно.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для блока пользователя:</p>
<ul>
<li>Для неавторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное).</li>
<li>'CSRF_TOKEN': CSRF-токен для защиты формы.</li>
<li>'L_LOGIN', 'L_PASSWORD', 'L_ENTER', 'L_FORGOT_PASSWORD', 'L_REGISTRATION': Локализованные
строки.</li>
<li>'U_LOGIN', 'U_FORGOT_PASSWORD', 'U_REGISTRATION': URL для входа, восстановления пароля и
регистрации.</li>
</ul>
</li>
<li>Для авторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное).</li>
<li>'L_HI_USER': Приветствие с именем пользователя (локализованное).</li>
<li>'L_GROUP': Группа пользователя (локализованная строка).</li>
<li>'U_AVATAR': URL аватара (или дефолтного аватара, если файл недоступен или некорректен).</li>
</ul>
</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_ubb">
        ubb()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_ubb" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">186</span>

    </aside>

        <p class="phpdocumentor-summary">Преобразует BBCode в HTML.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">ubb</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$text</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод преобразует BBCode-теги в соответствующие HTML-теги. Поддерживаются следующие BBCode-теги:</p>
<ul>
<li>[b]Жирный текст[/b] -&gt; <code class="prettyprint">&lt;strong&gt;Жирный текст&lt;/strong&gt;</code></li>
<li>[u]Подчёркнутый текст[/u] -&gt; <code class="prettyprint">&lt;u&gt;Подчёркнутый текст&lt;/u&gt;</code></li>
<li>[i]Курсив[/i] -&gt; <code class="prettyprint">&lt;em&gt;Курсив&lt;/em&gt;</code></li>
<li>[url]Ссылка[/url], [url=URL]Текст ссылки[/url] -&gt; <code class="prettyprint">&lt;a href=&quot;URL&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Текст ссылки&lt;/a&gt;</code></li>
<li>[color=COLOR]Цвет текста[/color] -&gt; <code class="prettyprint">&lt;span style=&quot;color: COLOR;&quot;&gt;Цвет текста&lt;/span&gt;</code></li>
<li>[size=SIZE]Размер текста[/size] -&gt; <code class="prettyprint">&lt;span style=&quot;font-size: SIZE;&quot;&gt;Размер текста&lt;/span&gt;</code></li>
<li>[quote]Цитата[/quote], [quote=AUTHOR]Цитата автора[/quote] -&gt; <code class="prettyprint">&lt;blockquote&gt;Цитата&lt;/blockquote&gt;</code></li>
<li>[list], [list=1], [list=a] — списки -&gt; <code class="prettyprint">&lt;ul&gt;</code>, <code class="prettyprint">&lt;ol&gt;</code> с соответствующими элементами <code class="prettyprint">&lt;li&gt;</code></li>
<li>[code]Блок кода[/code] -&gt; <code class="prettyprint">&lt;pre&gt;&lt;code&gt;Блок кода&lt;/code&gt;&lt;/pre&gt;</code></li>
<li>[spoiler]Спойлер[/spoiler] -&gt; <code class="prettyprint">&lt;details&gt;&lt;summary&gt;Спойлер&lt;/summary&gt;Содержимое&lt;/details&gt;</code></li>
<li>[hr] — горизонтальная линия -&gt; <code class="prettyprint">&lt;hr&gt;</code></li>
<li>[br] — перенос строки -&gt; <code class="prettyprint">&lt;br&gt;</code></li>
<li>[left], [center], [right] — выравнивание текста -&gt; <code class="prettyprint">&lt;div style=&quot;text-align: left|center|right;&quot;&gt;</code></li>
<li>[img]Изображение[/img] -&gt; <code class="prettyprint">&lt;img src=&quot;URL&quot; alt=&quot;Изображение&quot;&gt;</code>
Метод защищает от XSS-атак и ограничивает глубину рекурсии для вложенных тегов.</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$text</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Текст с BBCode:</p>
<ul>
<li>Если строка пустая, она возвращается без обработки.
Рекомендуется использовать строки в кодировке UTF-8.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_ubb#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если произошла ошибка при обработке BBCode.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод ограничивает глубину рекурсии для вложенных тегов (максимум 10 уровней).
Некорректные URL или изображения заменяются на безопасные значения или удаляются.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Текст с HTML-разметкой:</p>
<ul>
<li>Некорректные BBCode-теги игнорируются или преобразуются в текст.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_url_check">
        url_check()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_url_check" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">366</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет URL на наличие вредоносного кода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">url_check</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Анализирует строку запроса из глобального массива <code class="prettyprint">$_SERVER['QUERY_STRING']</code>.</li>
<li>Проверяет строку запроса на наличие запрещённых паттернов, определённых в конфигурации.</li>
<li>Логирует информацию о попытке взлома, если обнаружены запрещённые паттерны.</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_url_check#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод работает с глобальным массивом <code class="prettyprint">$_SERVER['QUERY_STRING']</code>.
Убедитесь, что этот массив доступен и содержит корректные данные.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации правил проверки.
Если правила некорректны, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если URL безопасен (не содержит запрещённых паттернов), иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_utf8_wordwrap">
        utf8_wordwrap()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_utf8_wordwrap" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">213</span>

    </aside>

        <p class="phpdocumentor-summary">Разбивает строку на несколько строк ограниченной длины.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">utf8_wordwrap</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$str</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$width</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">70</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$break</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">PHP_EOL</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод разбивает строку на несколько строк, каждая из которых имеет длину не более указанной.
Разрыв строки выполняется только по пробелам, чтобы сохранить читаемость текста. Поддерживается работа с UTF-8
символами. Если параметры некорректны (например, <code class="prettyprint">$width &lt;= 0</code> или <code class="prettyprint">$break</code> пустой), возвращается исходная
строка.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$str</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Исходная строка:</p>
<ul>
<li>Рекомендуется использовать строки в кодировке UTF-8.</li>
<li>Если строка пустая или её длина меньше или равна <code class="prettyprint">$width</code>, она возвращается без
изменений.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$width</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">70</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Максимальная длина строки (по умолчанию 70):</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$break</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">PHP_EOL</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Символ разрыва строки (по умолчанию PHP_EOL):</p>
<ul>
<li>Не должен быть пустой строкой.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_utf8_wordwrap#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод корректно работает только с UTF-8 символами.
Если параметры некорректны (например, <code class="prettyprint">$width &lt;= 0</code> или <code class="prettyprint">$break</code> пустой), возвращается исходная строка.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Строка, разбитая на несколько строк:</p>
<ul>
<li>В случае некорректных параметров возвращается исходная строка.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_validate_mime_type">
        validate_mime_type()
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_validate_mime_type" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Interfaces/Work_Interface.php"><a href="files/src-interfaces-work-interface.html"><abbr title="src/Interfaces/Work_Interface.php">Work_Interface.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">235</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет, поддерживается ли указанный MIME-тип изображения.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">validate_mime_type</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$real_mime_type</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод проверяет, поддерживается ли указанный MIME-тип хотя бы одной из доступных библиотек:</p>
<ul>
<li>Imagick: Поддерживает широкий спектр форматов, включая JPEG, PNG, GIF, WebP, TIFF, SVG, BMP, ICO, AVIF,
HEIC, PSD, CR2, NEF и другие.</li>
<li>Gmagick: Поддерживает основные форматы, такие как JPEG, PNG, GIF, WebP, TIFF, SVG, BMP, ICO, AVIF, HEIC.</li>
<li>Встроенные функции PHP (GD): Поддерживаются только базовые форматы, такие как JPEG, PNG, GIF, WebP.
Если MIME-тип не поддерживается ни одной библиотекой, возвращается <code class="prettyprint">false</code>.</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$real_mime_type</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Реальный MIME-тип файла:</p>
<ul>
<li>Должен быть корректным MIME-типом для изображений.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_validate_mime_type#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от доступности библиотек (Imagick, Gmagick) и встроенных функций PHP по работе с
изображениями (GD). Если ни одна из библиотек недоступна, метод может некорректно работать.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если MIME-тип поддерживается хотя бы одной библиотекой, иначе false.</p>
</section>

            </section>

</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="files/src/Interfaces/Work_Interface.php.txt" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                            
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                    <li><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#toc-constants">Constants</a></li>
                    <li><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#toc-methods">Methods</a></li>
                </ul>
            </li>
                            <li class="phpdocumentor-on-this-page-section__title">Methods</li>
                <li>
                    <ul class="phpdocumentor-list -clean">
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_category">category()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_field">check_field()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_check_input">check_input()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_clean_field">clean_field()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_directory">create_directory()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_menu">create_menu()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_create_photo">create_photo()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_del_photo">del_photo()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_encodename">encodename()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_filt_email">filt_email()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_find_action_file">find_action_file()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_fix_file_extension">fix_file_extension()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_gen_captcha">gen_captcha()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_languages">get_languages()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_get_themes">get_themes()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_attach">image_attach()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_image_resize">image_resize()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_news">news()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_no_photo">no_photo()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_process_rating">process_rating()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_remove_directory">remove_directory()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_return_bytes">return_bytes()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_lang">set_lang()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_set_user">set_user()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_size_image">size_image()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_best_user">template_best_user()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_stat">template_stat()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_template_user">template_user()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_ubb">ubb()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_url_check">url_check()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_utf8_wordwrap">utf8_wordwrap()</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Interfaces-Work-Interface.html#method_validate_mime_type">validate_mime_type()</a></li>
                                            </ul>
                </li>
            
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="classes/PhotoRigma-Interfaces-Work-Interface.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
