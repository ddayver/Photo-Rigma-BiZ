<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Photo-Rigma-BiZ</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Photo-Rigma-BiZ</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category -namespaces">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/photorigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/photorigma-classes.html" class="">Classes</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-include.html" class="">Include</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-interfaces.html" class="">Interfaces</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category -packages">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/PhotoRigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="packages/PhotoRigma-Action.html" class="">Action</a>
                
            </li>
                    <li>
                <a href="packages/PhotoRigma-Language.html" class="">Language</a>
                
            </li>
            </ul>

                        </section>
            
    <section class="phpdocumentor-sidebar__category -reports">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category -indices">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma.html">PhotoRigma</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma-classes.html">Classes</a></li>
    </ul>

    <article class="phpdocumentor-element -class">
        <h2 class="phpdocumentor-content__title">
    Work_Image

    
            <div class="phpdocumentor-element__package">
            in package
            <ul class="phpdocumentor-breadcrumbs">
                                    <li class="phpdocumentor-breadcrumb"><a href="packages/PhotoRigma.html">PhotoRigma</a></li>
                            </ul>
        </div>
    
            <span class="phpdocumentor-element__implements">
            implements
                            <a href="classes/PhotoRigma-Interfaces-Work-Image-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Image_Interface">Work_Image_Interface</abbr></a>                    </span>
    
    </h2>

<div class="phpdocumentor-label-line">


</div>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">95</span>

    </aside>

            <p class="phpdocumentor-summary">Класс для работы с изображениями.</p>


    <section class="phpdocumentor-description"><p>Этот класс реализует интерфейс <code class="prettyprint">Work_Image_Interface</code> и предоставляет функционал для работы с изображениями.
Он является дочерним классом для <code class="prettyprint">\PhotoRigma\Classes\Work</code> и наследует его методы. Все методы данного класса
рекомендуется вызывать через родительский класс <code class="prettyprint">Work</code>, так как их поведение может быть непредсказуемым при прямом
вызове.
Основные возможности:</p>
<ul>
<li>Создание директорий для категорий и копирование файлов <code class="prettyprint">index.php</code>.</li>
<li>Корректировка расширения файла в соответствии с его MIME-типом.</li>
<li>Вывод изображений через HTTP с защитой от MIME-sniffing и кликджекинга.</li>
<li>Изменение размеров изображений (создание эскизов).</li>
<li>Удаление директорий и их содержимого.</li>
<li>Вычисление размеров для вывода эскиза изображения.</li>
<li>Возвращение данных для отсутствующего изображения.
Методы класса предназначены для использования в различных частях приложения, таких как обработка изображений,
работа с файловой системой и генерация безопасного вывода.</li>
</ul>
</section>


    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-Image-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Image_Interface">Work_Image_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, который реализует данный класс.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html"><abbr title="\PhotoRigma\Classes\Work">Work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для работы с изображениями.</p>
</section>

                                    </dd>
                        </dl>





<h3 id="toc">
    Table of Contents
    <a href="classes/PhotoRigma-Classes-Work-Image.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>



    <h4 id="toc-interfaces">
        Interfaces
        <a href="classes/PhotoRigma-Classes-Work-Image.html#toc-interfaces" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <dl class="phpdocumentor-table-of-contents">
                    <dt class="phpdocumentor-table-of-contents__entry -interface"><a href="classes/PhotoRigma-Interfaces-Work-Image-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Image_Interface">Work_Image_Interface</abbr></a></dt><dd>Интерфейс для работы с изображениями.</dd>    </dl>






<h4 id="toc-properties">
    Properties
    <a href="classes/PhotoRigma-Classes-Work-Image.html#toc-properties" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -property -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

    </dl>

<h4 id="toc-methods">
    Methods
    <a href="classes/PhotoRigma-Classes-Work-Image.html#toc-methods" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method___construct">__construct()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>Конструктор класса.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method___get">__get()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Получает значение приватного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method___isset">__isset()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет существование недоступного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method___set">__set()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Устанавливает значение приватного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method_create_directory">create_directory()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Создаёт директории для категории через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method_fix_file_extension">fix_file_extension()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Корректирует расширение файла в соответствии с его MIME-типом через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method_image_attach">image_attach()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Выводит изображение через HTTP через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method_image_resize">image_resize()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Изменяет размер изображения через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method_no_photo">no_photo()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Возвращает данные для отсутствующего изображения через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method_remove_directory">remove_directory()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет директорию и её содержимое через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method_size_image">size_image()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Вычисляет размеры для вывода эскиза изображения через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__create_directory_internal">_create_directory_internal()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Создает директории для категории и копирует файлы `index.php`, предварительно проверяя права доступа.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__fix_file_extension_internal">_fix_file_extension_internal()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Корректировка расширения файла в соответствии с его MIME-типом (защищённый метод).</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__image_attach_internal">_image_attach_internal()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Вывод изображения через HTTP.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal">_image_resize_internal()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Изменяет размер изображения.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__no_photo_internal">_no_photo_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Возвращает данные для отсутствующего изображения.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__remove_directory_internal">_remove_directory_internal()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет директорию и её содержимое, предварительно проверяя права доступа.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__size_image_internal">_size_image_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Вычисляет размеры для вывода эскиза изображения.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__calculate_thumbnail_size">_calculate_thumbnail_size()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Расчёт пропорциональных размеров эскиза на основе реальных размеров изображения и конфигурации.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gd">_process_image_resize_gd()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Создаёт эскиз изображения с использованием библиотеки GD, включая резервное копирование старого эскиза и
восстановление при ошибках.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gmagick">_process_image_resize_gmagick()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Создаёт эскиз изображения с использованием библиотеки GraphicsMagick, включая резервное копирование старого
эскиза и восстановление при ошибках.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_imagick">_process_image_resize_imagick()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Создаёт эскиз изображения с использованием библиотеки ImageMagick, включая резервное копирование старого
эскиза и восстановление при ошибках.</dd>

    </dl>



        

        
    <section class="phpdocumentor-properties">
        <h3 class="phpdocumentor-elements__header" id="properties">
            Properties
            <a href="classes/PhotoRigma-Classes-Work-Image.html#properties" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="
            phpdocumentor-element
            -property
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work-Image.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">0</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

        <section class="phpdocumentor-description"><p>Конфигурация приложения.</p>
</section>

    
    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work-Image.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">98</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Конфигурация приложения.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#property_config#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___set"><abbr title="\PhotoRigma\Classes\Work::__set()">Work::__set()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство дочернего класса Work_Image.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_Image::__construct()">Work_Image::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method___get"><abbr title="\PhotoRigma\Classes\Work_Image::__get()">Work_Image::__get()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, к которому обращается метод.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method___set"><abbr title="\PhotoRigma\Classes\Work_Image::__set()">Work_Image::__set()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, которое изменяет метод.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__calculate_thumbnail_size"><abbr title="\PhotoRigma\Classes\Work_Image::_calculate_thumbnail_size()">Work_Image::_calculate_thumbnail_size()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Массив с конфигурацией приложения.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
            </section>

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="classes/PhotoRigma-Classes-Work-Image.html#methods" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___construct">
        __construct()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___construct" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">119</span>

    </aside>

        <p class="phpdocumentor-summary">Конструктор класса.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__construct</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$config</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Инициализирует объект класса <code class="prettyprint">Work_Image</code> с переданной конфигурацией. Этот класс является дочерним
для \PhotoRigma\Classes\Work.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$config</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Конфигурация приложения:</p>
<ul>
<li>Должен быть массивом.</li>
<li>Используется для хранения настроек приложения.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___construct#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Конфигурация должна содержать все необходимые параметры для корректной работы класса.
Параметры сохраняются в свойство $this-&gt;config.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Отсутствие необходимых ключей в массиве $config может привести к ошибкам при работе класса.
Убедитесь, что конфигурация содержит все требуемые параметры.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html"><abbr title="\PhotoRigma\Classes\Work">Work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Родительский класс, который создаёт объект класса Work_Image.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Image::$config">Work_Image::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___get">
        __get()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___get" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">156</span>

    </aside>

        <p class="phpdocumentor-summary">Получает значение приватного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__get</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет получить доступ к приватному свойству <code class="prettyprint">$config</code>.
Алгоритм работы:</p>
<ol>
<li>Проверяет, соответствует ли имя свойства допустимому значению (<code class="prettyprint">config</code>).</li>
<li>Если имя свойства корректно, возвращает значение свойства <code class="prettyprint">$config</code>.</li>
<li>Если имя свойства некорректно, выбрасывается исключение.
Метод является публичным и предназначен для получения доступа к свойству <code class="prettyprint">$config</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимое значение: 'config'.</li>
<li>Если указано другое имя, выбрасывается исключение.
Пример: 'config'.
Ограничения: только одно допустимое значение.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___get#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если запрашиваемое свойство не существует.
Пример сообщения:
Свойство не существует | Получено: [$name]</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для доступа к свойству <code class="prettyprint">$config</code>.
Любые другие запросы будут игнорироваться с выбросом исключения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что вы запрашиваете только допустимое свойство:</p>
<ul>
<li>'config'
Некорректные имена свойств вызовут исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Image::$config">Work_Image::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, к которому обращается метод.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Значение свойства <code class="prettyprint">$config</code>.
Пример: ['temp_photo_w' =&gt; 800]</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___isset">
        __isset()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___isset" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">226</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет существование недоступного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__isset</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод вызывается автоматически при использовании оператора <code class="prettyprint">isset()</code> для проверки существования
недоступного свойства. Метод возвращает <code class="prettyprint">true</code>, если свойство существует, и <code class="prettyprint">false</code> в противном случае.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Проверяется на существование.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___isset#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для проверки существования свойств.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если свойство не определено или является недоступным, результат будет <code class="prettyprint">false</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Результат проверки:</p>
<ul>
<li><code class="prettyprint">true</code>, если свойство существует.</li>
<li><code class="prettyprint">false</code>, если свойство не существует.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___set">
        __set()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___set" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">198</span>

    </aside>

        <p class="phpdocumentor-summary">Устанавливает значение приватного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__set</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет изменить значение приватного свойства <code class="prettyprint">$config</code>.
Алгоритм работы:</p>
<ol>
<li>Проверяет, соответствует ли имя свойства допустимому значению (<code class="prettyprint">config</code>).</li>
<li>Если имя свойства корректно, обновляет значение свойства <code class="prettyprint">$config</code>.</li>
<li>Если имя свойства некорректно, выбрасывается исключение.
Метод является публичным и предназначен для изменения свойства <code class="prettyprint">$config</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимое значение: 'config'.</li>
<li>Если указано другое имя, выбрасывается исключение.
Пример: 'config'.
Ограничения: только одно допустимое значение.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$value</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Новое значение свойства:</p>
<ul>
<li>Должен быть ассоциативным массивом.
Пример: <code class="prettyprint">['temp_photo_w' =&gt; 1024]</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method___set#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если переданное имя свойства не соответствует <code class="prettyprint">$config</code>.
Пример сообщения:
Свойство не может быть установлено | Получено: [$name]</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для изменения свойства <code class="prettyprint">$config</code>.
Любые другие попытки установки значений будут игнорироваться с выбросом исключения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что вы устанавливаете значение только для допустимого свойства:</p>
<ul>
<li>'config'
Некорректные имена свойств вызовут исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Image::$config">Work_Image::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, которое изменяет метод.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_directory">
        create_directory()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_create_directory" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">256</span>

    </aside>

        <p class="phpdocumentor-summary">Создаёт директории для категории через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_directory</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$directory_name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _create_directory_internal().
Он создаёт директории для категории. Метод также доступен через метод-фасад <code class="prettyprint">create_directory()</code> в
родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$directory_name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя директории:</p>
<ul>
<li>Должен быть строкой, содержащей только допустимые символы для имён директорий.</li>
<li>Не должен содержать запрещённых символов (например, <code class="prettyprint">\/:*?&quot;&lt;&gt;|</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_create_directory#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если родительская директория недоступна для записи.</li>
<li>Если не удалось создать директории.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как он создаёт директории.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__create_directory_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_create_directory_internal()">Work_Image::_create_directory_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_create_directory"><abbr title="\PhotoRigma\Classes\Work::create_directory()">Work::create_directory()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директории успешно созданы.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_fix_file_extension">
        fix_file_extension()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_fix_file_extension" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">361</span>

    </aside>

        <p class="phpdocumentor-summary">Корректирует расширение файла в соответствии с его MIME-типом через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">fix_file_extension</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _fix_file_extension_internal().
Он проверяет MIME-тип файла и корректирует его расширение на основе соответствия MIME-типу. Метод также
доступен через метод-фасад <code class="prettyprint">fix_file_extension()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
<li>Формат пути должен соответствовать регулярному выражению /^[a-zA-Z0-9/.-_]+$/.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_fix_file_extension#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если путь к файлу некорректен, имеет недопустимый формат или файл не существует.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если MIME-тип файла не поддерживается или файл недоступен для чтения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение с ошибкой, если MIME-тип файла не поддерживается.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__fix_file_extension_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_fix_file_extension_internal()">Work_Image::_fix_file_extension_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_fix_file_extension"><abbr title="\PhotoRigma\Classes\Work::fix_file_extension()">Work::fix_file_extension()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Полный путь к файлу с правильным расширением.
Если расширение было изменено или добавлено, возвращается новый путь.
Если расширение уже корректное, возвращается исходный путь.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_image_attach">
        image_attach()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_attach" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">525</span>

    </aside>

        <p class="phpdocumentor-summary">Выводит изображение через HTTP через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">image_attach</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name_file</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _image_attach_internal().
Он проверяет существование и доступность файла, определяет его MIME-тип и отправляет содержимое файла через
HTTP. Метод также доступен через метод-фасад <code class="prettyprint">image_attach()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name_file</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя файла для заголовка <code class="prettyprint">Content-Disposition</code>:</p>
<ul>
<li>Имя должно быть корректным (например, без запрещённых символов).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_attach#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при отправке файла или определении его MIME-типа.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение скрипта (<code class="prettyprint">exit</code>), отправляя заголовки и содержимое файла.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_attach_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_image_attach_internal()">Work_Image::_image_attach_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_image_attach"><abbr title="\PhotoRigma\Classes\Work::image_attach()">Work::image_attach()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    
    <section class="phpdocumentor-attributes">
        <h5 class="phpdocumentor-elements__header" id="attributes">
            Attributes <a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_attach#attributes" class="headerlink"><i class="fas fa-link"></i></a>

        </h5>
                    <dl class="phpdocumentor-argument-list">
    <dt class="phpdocumentor-argument-list__entry">
        #[<abbr title="\JetBrains\PhpStorm\NoReturn">NoReturn</abbr>]
    </dt>
    </dl>
            </section>

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает. Завершает выполнение скрипта после отправки заголовков и содержимого
файла.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_image_resize">
        image_resize()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_resize" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">669</span>

    </aside>

        <p class="phpdocumentor-summary">Изменяет размер изображения через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">image_resize</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$thumbnail_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _image_resize_internal().
Он изменяет размер исходного изображения и создаёт эскиз заданных размеров. Метод также доступен через
метод-фасад <code class="prettyprint">image_resize()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к исходному изображению:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$thumbnail_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь для сохранения эскиза:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Директория должна быть доступна для записи.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_resize#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если пути к файлам некорректны или имеют недопустимый формат.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникли ошибки при проверке файлов, директорий или размеров изображения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует следующие константы класса для ограничения размеров исходного изображения:</p>
<ul>
<li><code class="prettyprint">MAX_IMAGE_WIDTH</code>: Максимальная ширина исходного изображения (в пикселях). Значение: 5000.</li>
<li><code class="prettyprint">MAX_IMAGE_HEIGHT</code>: Максимальная высота исходного изображения (в пикселях). Значение: 5000.
Эти константы являются приватными и доступны только внутри класса.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code>, <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.
Убедитесь, что пути к файлам и директориям корректны перед вызовом метода.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_image_resize_internal()">Work_Image::_image_resize_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_image_resize"><abbr title="\PhotoRigma\Classes\Work::image_resize()">Work::image_resize()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если операция выполнена успешно, иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_no_photo">
        no_photo()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_no_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1427</span>

    </aside>

        <p class="phpdocumentor-summary">Возвращает данные для отсутствующего изображения через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">no_photo</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _no_photo_internal().
Он формирует массив данных для представления информации об отсутствующем изображении. Метод также доступен
через метод-фасад <code class="prettyprint">no_photo()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_no_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конастантах (<code class="prettyprint">SITE_URL</code>, <code class="prettyprint">GALLERY_DIR</code>, <code class="prettyprint">THUMBNAIL_DIR</code>). Если
эти параметры некорректны, результат может быть непредсказуемым. Вызывать этот метод напрямую, минуя
метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__no_photo_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_no_photo_internal()">Work_Image::_no_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_no_photo"><abbr title="\PhotoRigma\Classes\Work::no_photo()">Work::no_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных об изображении или его отсутствии:</p>
<ul>
<li>'url'                  (string): URL полноразмерного изображения.</li>
<li>'thumbnail_url'        (string): URL эскиза изображения.</li>
<li>'name'                 (string): Название изображения. Значение по умолчанию: <code class="prettyprint">'No photo'</code>.</li>
<li>'description'          (string): Описание изображения. Значение по умолчанию: <code class="prettyprint">'No photo available'</code>.</li>
<li>'category_name'        (string): Название категории. Значение по умолчанию: <code class="prettyprint">'No category'</code>.</li>
<li>'category_description' (string): Описание категории. Значение по умолчанию: <code class="prettyprint">'No category available'</code>.</li>
<li>'rate'                 (string): Рейтинг изображения. Значение по умолчанию: <code class="prettyprint">'Rate: 0/0'</code>.</li>
<li>'url_user'             (string): URL пользователя. Значение по умолчанию: пустая строка (<code class="prettyprint">''</code>).</li>
<li>'real_name'            (string): Имя пользователя. Значение по умолчанию: <code class="prettyprint">'No user'</code>.</li>
<li>'full_path'            (string): Полный путь к изображению. Формируется на основе конфигурации.</li>
<li>'thumbnail_path'       (string): Полный путь к эскизу. Формируется на основе конфигурации.</li>
<li>'file'                 (string): Имя файла. Значение по умолчанию: <code class="prettyprint">'no_foto.png'</code>.
Значения по умолчанию используются для отсутствующих данных.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_remove_directory">
        remove_directory()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_remove_directory" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1516</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет директорию и её содержимое через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">remove_directory</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _remove_directory_internal().
Он удаляет директорию и всё её содержимое. Метод также доступен через метод-фасад <code class="prettyprint">remove_directory()</code> в
родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к директории:</p>
<ul>
<li>Должен быть строкой, указывающей на существующую директорию.</li>
<li>Директория должна быть доступна для записи.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_remove_directory#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если директория не существует.</li>
<li>Если директория недоступна для записи.</li>
<li>Если не удалось удалить файл внутри директории.</li>
<li>Если не удалось удалить саму директорию.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод рекурсивно удаляет все файлы внутри директории.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как удаление директории необратимо.
Убедитесь, что переданная директория действительно должна быть удалена.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__remove_directory_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_remove_directory_internal()">Work_Image::_remove_directory_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную
логику удаления.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_remove_directory"><abbr title="\PhotoRigma\Classes\Work::remove_directory()">Work::remove_directory()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директория успешно удалена.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_size_image">
        size_image()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_size_image" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1612</span>

    </aside>

        <p class="phpdocumentor-summary">Вычисляет размеры для вывода эскиза изображения через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">size_image</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path_image</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _size_image_internal().
Он рассчитывает ширину и высоту эскиза на основе реальных размеров изображения и конфигурационных параметров
(<code class="prettyprint">temp_photo_w</code> и <code class="prettyprint">temp_photo_h</code>). Метод также доступен через метод-фасад <code class="prettyprint">size_image()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path_image</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к файлу изображения:</p>
<ul>
<li>Путь должен быть абсолютным.</li>
<li>Файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method_size_image#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если файл не существует или не удалось получить размеры изображения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code> и <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__size_image_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_size_image_internal()">Work_Image::_size_image_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_size_image"><abbr title="\PhotoRigma\Classes\Work::size_image()">Work::size_image()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с шириной и высотой эскиза:</p>
<ul>
<li>Ключ 'width': int — Ширина эскиза (целое число ≥ 0).</li>
<li>Ключ 'height': int — Высота эскиза (целое число ≥ 0).
Размеры могут совпадать с оригинальными размерами изображения,
если оно меньше целевого размера.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__create_directory_internal">
        _create_directory_internal()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__create_directory_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">287</span>

    </aside>

        <p class="phpdocumentor-summary">Создает директории для категории и копирует файлы `index.php`, предварительно проверяя права доступа.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_create_directory_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$directory_name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Формирует пути для директорий галереи и миниатюр с использованием констант:
<ul>
<li><code class="prettyprint">GALLERY_DIR</code>: Директория для галереи.</li>
<li><code class="prettyprint">THUMBNAIL_DIR</code>: Директория для миниатюр.</li>
</ul>
</li>
<li>Проверяет права доступа к родительским директориям с помощью <code class="prettyprint">is_writable</code>.</li>
<li>Рекурсивно создаёт директории для галереи и миниатюр с использованием <code class="prettyprint">mkdir</code>.
Метод вызывается через публичный метод-редирект <code class="prettyprint">\PhotoRigma\Classes\Work_Image::create_directory()</code> и
предназначен для использования внутри класса или его наследников.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$directory_name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя директории.
Должен быть строкой, содержащей только допустимые символы для имён директорий.
Не должен содержать запрещённых символов (например, <code class="prettyprint">\/:*?&quot;&lt;&gt;|</code>).</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__create_directory_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если родительская директория недоступна для записи.</li>
<li>Если не удалось создать директории.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как он создаёт директории.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_create_directory"><abbr title="\PhotoRigma\Classes\Work_Image::create_directory()">Work_Image::create_directory()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директории успешно созданы.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__fix_file_extension_internal">
        _fix_file_extension_internal()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__fix_file_extension_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">418</span>

    </aside>

        <p class="phpdocumentor-summary">Корректировка расширения файла в соответствии с его MIME-типом (защищённый метод).</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_fix_file_extension_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Проверяет путь к файлу на соответствие регулярному выражению <code class="prettyprint">/^[a-zA-Z0-9\/\.\-_]+$/</code>.</li>
<li>Нормализует путь с помощью <code class="prettyprint">realpath()</code> и проверяет, существует ли файл и доступен ли он для чтения.</li>
<li>Определяет реальный MIME-тип файла с помощью <code class="prettyprint">finfo_open(FILEINFO_MIME_TYPE)</code>.</li>
<li>Проверяет соответствие MIME-типа поддерживаемым форматам:
<ul>
<li>'image/jpeg' -&gt; 'jpg'</li>
<li>'image/png' -&gt; 'png'</li>
<li>'image/gif' -&gt; 'gif'</li>
<li>'image/webp' -&gt; 'webp'</li>
<li>'image/tiff' -&gt; 'tiff'</li>
<li>'image/svg+xml' -&gt; 'svg'</li>
<li>'image/bmp' -&gt; 'bmp'</li>
<li>'image/x-icon' -&gt; 'ico'</li>
<li>'image/avif' -&gt; 'avif'</li>
<li>'image/heic' -&gt; 'heic'</li>
<li>'image/vnd.adobe.photoshop' -&gt; 'psd'</li>
<li>'image/x-canon-cr2' -&gt; 'cr2'</li>
<li>'image/x-nikon-nef' -&gt; 'nef'</li>
<li>'image/x-xbitmap' -&gt; 'xbm'</li>
<li>'image/x-portable-anymap' -&gt; 'pnm'</li>
<li>'image/x-pcx' -&gt; 'pcx'</li>
</ul>
</li>
<li>Если расширение отсутствует, добавляет его. Если расширение некорректное, заменяет его на правильное.</li>
<li>Логирует случаи добавления или исправления расширения через <code class="prettyprint">log_in_file</code>.
Метод вызывается через публичный метод <code class="prettyprint">fix_file_extension()</code> и предназначен для использования внутри класса
или его наследников.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу.
Путь должен быть абсолютным, соответствовать регулярному выражению
<code class="prettyprint">/^[a-zA-Z0-9\/\.\-_]+$/</code>, и файл должен существовать и быть доступным для чтения.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__fix_file_extension_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>В следующих случаях:</p>
<ul>
<li>Если путь к файлу имеет недопустимый формат.</li>
<li>Если файл не существует или недоступен.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>В следующих случаях:</p>
<ul>
<li>Если MIME-тип файла не поддерживается.</li>
<li>Если файл недоступен для чтения.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение с ошибкой, если MIME-тип файла не поддерживается.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_fix_file_extension"><abbr title="\PhotoRigma\Classes\Work_Image::fix_file_extension()">Work_Image::fix_file_extension()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Полный путь к файлу с правильным расширением.
Если расширение было изменено или добавлено, возвращается новый путь.
Если расширение уже корректное, возвращается исходный путь.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__image_attach_internal">
        _image_attach_internal()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_attach_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">577</span>

    </aside>

        <p class="phpdocumentor-summary">Вывод изображения через HTTP.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_image_attach_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name_file</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование и доступность файла:
<ul>
<li>Если файл не существует или недоступен для чтения, отправляется HTTP-статус <code class="prettyprint">404 Not Found</code>.</li>
</ul>
</li>
<li>Определяет MIME-тип файла с помощью <code class="prettyprint">finfo_open(FILEINFO_MIME_TYPE)</code>:
<ul>
<li>Если MIME-тип не начинается с <code class="prettyprint">image/</code>, отправляется HTTP-статус <code class="prettyprint">500 Internal Server Error</code>.</li>
</ul>
</li>
<li>Проверяет размер файла:
<ul>
<li>Если размер превышает 10 МБ или неизвестен, отправляется HTTP-статус <code class="prettyprint">413 Payload Too Large</code>.</li>
</ul>
</li>
<li>Устанавливает заголовки для вывода изображения:
<ul>
<li><code class="prettyprint">Content-Type</code>: MIME-тип файла.</li>
<li><code class="prettyprint">Content-Disposition</code>: Имя файла для заголовка.</li>
<li><code class="prettyprint">Content-Length</code>: Размер файла.</li>
<li>Дополнительные заголовки безопасности: <code class="prettyprint">X-Content-Type-Options</code>, <code class="prettyprint">X-Frame-Options</code>, <code class="prettyprint">X-XSS-Protection</code>,
<code class="prettyprint">Referrer-Policy</code>, <code class="prettyprint">Content-Security-Policy</code>.</li>
</ul>
</li>
<li>Открывает файл в режиме чтения и отправляет его содержимое через <code class="prettyprint">fpassthru()</code>.</li>
<li>Завершает выполнение скрипта после отправки заголовков и содержимого файла.
Метод вызывается через публичный метод <code class="prettyprint">image_attach()</code> и предназначен для использования внутри класса или его
наследников.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу.
Путь должен быть абсолютным, и файл должен существовать и быть доступным для чтения.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name_file</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя файла для заголовка <code class="prettyprint">Content-Disposition</code>.
Имя должно быть корректным (например, без запрещённых символов).</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_attach_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение скрипта (<code class="prettyprint">exit</code>), отправляя заголовки и содержимое файла.
Дополнительные заголовки безопасности:</p>
<ul>
<li><code class="prettyprint">X-Content-Type-Options: nosniff</code></li>
<li><code class="prettyprint">X-Frame-Options: DENY</code></li>
<li><code class="prettyprint">X-XSS-Protection: 1; mode=block</code></li>
<li><code class="prettyprint">Referrer-Policy: no-referrer</code></li>
<li><code class="prettyprint">Content-Security-Policy: default-src 'self'; img-src 'self' data:;</code></li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение скрипта (<code class="prettyprint">exit</code>), отправляя заголовки и содержимое файла.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки имени файла.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_attach"><abbr title="\PhotoRigma\Classes\Work_Image::image_attach()">Work_Image::image_attach()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    
    <section class="phpdocumentor-attributes">
        <h5 class="phpdocumentor-elements__header" id="attributes">
            Attributes <a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_attach_internal#attributes" class="headerlink"><i class="fas fa-link"></i></a>

        </h5>
                    <dl class="phpdocumentor-argument-list">
    <dt class="phpdocumentor-argument-list__entry">
        #[<abbr title="\JetBrains\PhpStorm\NoReturn">NoReturn</abbr>]
    </dt>
    </dl>
            </section>

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает. Завершает выполнение скрипта после отправки заголовков и содержимого
файла.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__image_resize_internal">
        _image_resize_internal()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">727</span>

    </aside>

        <p class="phpdocumentor-summary">Изменяет размер изображения.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_image_resize_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$thumbnail_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Проверяет корректность путей к исходному изображению и файлу эскиза с помощью <code class="prettyprint">realpath()</code> и регулярного
выражения <code class="prettyprint">/^[a-zA-Z0-9\/\.\-_]+$/</code>.</li>
<li>Проверяет существование и доступность исходного изображения для чтения (<code class="prettyprint">file_exists</code>, <code class="prettyprint">is_readable</code>).</li>
<li>Проверяет доступность директории для сохранения эскиза для записи (<code class="prettyprint">is_writable</code>).</li>
<li>Получает размеры исходного изображения с помощью <code class="prettyprint">getimagesize()</code> и проверяет их на соответствие
максимальным значениям, заданным константами:
<ul>
<li><code class="prettyprint">MAX_IMAGE_WIDTH</code>: Максимальная ширина исходного изображения (в пикселях).</li>
<li><code class="prettyprint">MAX_IMAGE_HEIGHT</code>: Максимальная высота исходного изображения (в пикселях).</li>
</ul>
</li>
<li>Рассчитывает размеры эскиза с помощью метода <code class="prettyprint">_calculate_thumbnail_size</code> на основе конфигурации
(<code class="prettyprint">temp_photo_w</code>, <code class="prettyprint">temp_photo_h</code>).</li>
<li>Если файл эскиза уже существует и его размеры совпадают с расчётными, метод завершает работу.</li>
<li>Определяет MIME-тип исходного изображения с помощью <code class="prettyprint">finfo_open(FILEINFO_MIME_TYPE)</code>.</li>
<li>Выбирает библиотеку для обработки изображения в следующем порядке приоритета:
<ul>
<li>GraphicsMagick (если доступен),</li>
<li>ImageMagick (если доступен),</li>
<li>GD (если предыдущие библиотеки недоступны или вызвали ошибку).</li>
</ul>
</li>
<li>Логирует все ошибки через <code class="prettyprint">log_in_file</code>.
Метод вызывается через публичный метод <code class="prettyprint">image_resize()</code> и предназначен для использования внутри класса или его
наследников.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к исходному изображению.
Путь должен быть абсолютным, соответствовать регулярному выражению
<code class="prettyprint">/^[a-zA-Z0-9\/\.\-_]+$/</code>, и файл должен существовать и быть доступным для чтения.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$thumbnail_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь для сохранения эскиза.
Путь должен быть абсолютным, и директория должна быть доступна для записи.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если пути к файлам некорректны или имеют недопустимый формат.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникли ошибки при проверке файлов, директорий или размеров изображения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует следующие константы для ограничения размеров исходного изображения:</p>
<ul>
<li><code class="prettyprint">MAX_IMAGE_WIDTH</code>: Максимальная ширина исходного изображения (в пикселях). Значение: 5000.</li>
<li><code class="prettyprint">MAX_IMAGE_HEIGHT</code>: Максимальная высота исходного изображения (в пикселях). Значение: 5000.
Эти константы являются приватными и доступны только внутри класса.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code>, <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.
Убедитесь, что пути к файлам и директориям корректны перед вызовом метода.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__calculate_thumbnail_size"><abbr title="\PhotoRigma\Classes\Work_Image::_calculate_thumbnail_size()">Work_Image::_calculate_thumbnail_size()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для расчёта размеров эскиза.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gmagick"><abbr title="\PhotoRigma\Classes\Work_Image::_process_image_resize_gmagick()">Work_Image::_process_image_resize_gmagick()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Обработка через GraphicsMagick.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_imagick"><abbr title="\PhotoRigma\Classes\Work_Image::_process_image_resize_imagick()">Work_Image::_process_image_resize_imagick()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Обработка через ImageMagick.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gd"><abbr title="\PhotoRigma\Classes\Work_Image::_process_image_resize_gd()">Work_Image::_process_image_resize_gd()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Обработка через GD.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_resize"><abbr title="\PhotoRigma\Classes\Work_Image::image_resize()">Work_Image::image_resize()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если операция выполнена успешно, иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__no_photo_internal">
        _no_photo_internal()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__no_photo_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1467</span>

    </aside>

        <p class="phpdocumentor-summary">Возвращает данные для отсутствующего изображения.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_no_photo_internal</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод формирует массив данных, который используется для представления информации об
отсутствующем изображении. Это может быть полезно, например, если изображение не найдено или недоступно. Метод
использует константы приложения для формирования URL-адресов и путей:</p>
<ul>
<li><code class="prettyprint">SITE_URL</code>: Базовый URL сайта.</li>
<li><code class="prettyprint">GALLERY_DIR</code>: Директория для хранения изображений.</li>
<li><code class="prettyprint">THUMBNAIL_DIR</code>: Директория для хранения эскизов.
Массив содержит предопределённые значения для всех ключей, таких как <code class="prettyprint">'url'</code>, <code class="prettyprint">'thumbnail_url'</code>, <code class="prettyprint">'name'</code>,
<code class="prettyprint">'description'</code> и другие. Значения по умолчанию используются для отсутствующих данных.
Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная
логика метода вызывается через публичный метод <code class="prettyprint">no_photo()</code>.</li>
</ul>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__no_photo_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конастантах (<code class="prettyprint">SITE_URL</code>, <code class="prettyprint">GALLERY_DIR</code>, <code class="prettyprint">THUMBNAIL_DIR</code>). Если
эти параметры некорректны, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_no_photo"><abbr title="\PhotoRigma\Classes\Work_Image::no_photo()">Work_Image::no_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных об изображении или его отсутствии:</p>
<ul>
<li>'url'                  (string): URL полноразмерного изображения.</li>
<li>'thumbnail_url'        (string): URL эскиза изображения.</li>
<li>'name'                 (string): Название изображения. Значение по умолчанию: <code class="prettyprint">'No photo'</code>.</li>
<li>'description'          (string): Описание изображения. Значение по умолчанию: <code class="prettyprint">'No photo available'</code>.</li>
<li>'category_name'        (string): Название категории. Значение по умолчанию: <code class="prettyprint">'No category'</code>.</li>
<li>'category_description' (string): Описание категории. Значение по умолчанию: <code class="prettyprint">'No category available'</code>.</li>
<li>'rate'                 (string): Рейтинг изображения. Значение по умолчанию: <code class="prettyprint">'Rate: 0/0'</code>.</li>
<li>'url_user'             (string): URL пользователя. Значение по умолчанию: пустая строка (<code class="prettyprint">''</code>).</li>
<li>'real_name'            (string): Имя пользователя. Значение по умолчанию: <code class="prettyprint">'No user'</code>.</li>
<li>'full_path'            (string): Полный путь к изображению. Формируется на основе конфигурации.</li>
<li>'thumbnail_path'       (string): Полный путь к эскизу. Формируется на основе конфигурации.</li>
<li>'file'                 (string): Имя файла. Значение по умолчанию: <code class="prettyprint">'no_foto.png'</code>.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__remove_directory_internal">
        _remove_directory_internal()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__remove_directory_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1553</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет директорию и её содержимое, предварительно проверяя права доступа.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_remove_directory_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование указанной директории с помощью <code class="prettyprint">is_dir</code>.</li>
<li>Проверяет права доступа к директории (должна быть доступна для записи) с помощью <code class="prettyprint">is_writable</code>.</li>
<li>Рекурсивно удаляет все файлы внутри директории:
<ul>
<li>Получает список файлов с помощью <code class="prettyprint">glob</code>.</li>
<li>Удаляет каждый файл с помощью <code class="prettyprint">unlink</code>.</li>
</ul>
</li>
<li>Удаляет саму директорию с помощью <code class="prettyprint">rmdir</code>.
Метод вызывается через публичный метод-редирект <code class="prettyprint">\PhotoRigma\Classes\Work_Image::remove_directory()</code> и
предназначен для использования внутри класса или его наследников.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к директории.
Должен быть строкой, указывающей на существующую директорию.
Директория должна быть доступна для записи.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__remove_directory_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если директория не существует.</li>
<li>Если директория недоступна для записи.</li>
<li>Если не удалось удалить файл внутри директории.</li>
<li>Если не удалось удалить саму директорию.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод рекурсивно удаляет все файлы внутри директории.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как удаление директории необратимо.
Убедитесь, что переданная директория действительно должна быть удалена.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_remove_directory"><abbr title="\PhotoRigma\Classes\Work_Image::remove_directory()">Work_Image::remove_directory()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную
логику удаления.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директория успешно удалена.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__size_image_internal">
        _size_image_internal()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__size_image_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1651</span>

    </aside>

        <p class="phpdocumentor-summary">Вычисляет размеры для вывода эскиза изображения.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_size_image_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path_image</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Проверяет существование файла с помощью <code class="prettyprint">file_exists</code>.</li>
<li>Получает реальные размеры изображения с помощью <code class="prettyprint">getimagesize</code>.</li>
<li>Вычисляет ширину и высоту эскиза на основе реальных размеров изображения и конфигурационных параметров:
<ul>
<li><code class="prettyprint">temp_photo_w</code>: Целевая ширина эскиза (в пикселях).</li>
<li><code class="prettyprint">temp_photo_h</code>: Целевая высота эскиза (в пикселях).</li>
</ul>
</li>
<li>Если изображение меньше целевого размера, возвращаются оригинальные размеры.</li>
<li>В противном случае размеры масштабируются пропорционально.
Расчёт размеров выполняется с использованием метода <code class="prettyprint">_calculate_thumbnail_size</code>.
Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная
логика метода вызывается через публичный метод <code class="prettyprint">size_image()</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path_image</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к файлу изображения.
Путь должен быть абсолютным, и файл должен существовать и быть доступным для чтения.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__size_image_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если файл не существует.</li>
<li>Если не удалось получить размеры изображения.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code> и <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__calculate_thumbnail_size"><abbr title="\PhotoRigma\Classes\Work_Image::_calculate_thumbnail_size()">Work_Image::_calculate_thumbnail_size()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для расчёта размера эскиза.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_size_image"><abbr title="\PhotoRigma\Classes\Work_Image::size_image()">Work_Image::size_image()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, выполняющий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с шириной и высотой эскиза:</p>
<ul>
<li>Ключ <code class="prettyprint">'width'</code> (int): Ширина эскиза (целое число ≥ 0).</li>
<li>Ключ <code class="prettyprint">'height'</code> (int): Высота эскиза (целое число ≥ 0).
Размеры могут совпадать с оригинальными размерами изображения, если оно меньше целевого размера.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__calculate_thumbnail_size">
        _calculate_thumbnail_size()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__calculate_thumbnail_size" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">862</span>

    </aside>

        <p class="phpdocumentor-summary">Расчёт пропорциональных размеров эскиза на основе реальных размеров изображения и конфигурации.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">_calculate_thumbnail_size</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$size</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Проверяет входной массив <code class="prettyprint">$size</code>, содержащий реальные размеры изображения:
<ul>
<li>Ширина и высота должны быть положительными целыми числами.</li>
</ul>
</li>
<li>Проверяет конфигурацию (<code class="prettyprint">temp_photo_w</code> и <code class="prettyprint">temp_photo_h</code>):
<ul>
<li>Значения должны быть числами ≥ 0.</li>
</ul>
</li>
<li>Вычисляет коэффициенты масштабирования через оператор <code class="prettyprint">match</code>:
<ul>
<li>Коэффициенты рассчитываются на основе реальных размеров и целевых размеров.</li>
</ul>
</li>
<li>Сохраняет пропорции изображения при масштабировании:
<ul>
<li>Если исходное изображение меньше целевого размера, возвращаются оригинальные размеры.</li>
<li>Иначе изображение масштабируется пропорционально до целевого размера.
Этот метод является приватным и предназначен только для использования внутри класса.</li>
</ul>
</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$size</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Массив с реальными размерами изображения.</p>
<ul>
<li>Индекс 0: int — Ширина изображения (должна быть положительным целым числом).</li>
<li>Индекс 1: int — Высота изображения (должна быть положительным целым числом).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__calculate_thumbnail_size#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">internal</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если массив <code class="prettyprint">$size</code> не содержит двух положительных целых чисел.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если значения <code class="prettyprint">temp_photo_w</code> или <code class="prettyprint">temp_photo_h</code> в конфигурации некорректны.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Image::$config">Work_Image::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Массив с конфигурацией приложения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_image_resize_internal()">Work_Image::_image_resize_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для расчёта размеров эскиза.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__size_image_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_size_image_internal()">Work_Image::_size_image_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для расчёта размера эскиза.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с шириной и высотой эскиза.</p>
<ul>
<li>Ключ 'width': int — Ширина эскиза (целое число ≥ 0).</li>
<li>Ключ 'height': int — Высота эскиза (целое число ≥ 0).</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__process_image_resize_gd">
        _process_image_resize_gd()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gd" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1250</span>

    </aside>

        <p class="phpdocumentor-summary">Создаёт эскиз изображения с использованием библиотеки GD, включая резервное копирование старого эскиза и
восстановление при ошибках.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">_process_image_resize_gd</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$original_data</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$thumbnail_data</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие шаги:</p>
<ol>
<li>Проверяет поддержку MIME-типа через массив разрешённых форматов.</li>
<li>Преобразует MIME-тип в константу IMAGETYPE_*.</li>
<li>Проверяет поддержку формата через функцию imagetypes().</li>
<li>Ограничивает использование памяти до 25% от доступной.</li>
<li>Создаёт резервную копию старого эскиза (если он существует).</li>
<li>Загружает исходное изображение и создаёт новый эскиз заданных размеров:
<ul>
<li>Для форматов PNG и WebP настраивается прозрачность.</li>
<li>Используется функция imagecopyresampled для высококачественного масштабирования.</li>
</ul>
</li>
<li>Сохраняет новый эскиз в указанный файл.</li>
<li>Восстанавливает старый эскиз в случае ошибки.</li>
<li>Освобождает ресурсы в блоке finally через imagedestroy().
Этот метод является приватным и предназначен только для использования внутри класса.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$original_data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Данные об оригинальном изображении:</p>
<ul>
<li>'path' (string): Абсолютный путь к исходному файлу.</li>
<li>'type' (string): MIME-тип изображения (например, 'image/jpeg'). Должен быть
одним из разрешённых MIME-типов.</li>
<li>'width' (int):   Ширина исходного изображения (положительное число).</li>
<li>'height' (int):  Высота исходного изображения (положительное число).</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$thumbnail_data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Данные об эскизе:</p>
<ul>
<li>'path' (string): Абсолютный путь для сохранения эскиза.</li>
<li>'width' (int):   Желаемая ширина эскиза (положительное число).</li>
<li>'height' (int):  Желаемая высота эскиза (положительное число).</li>
<li>'exists' (bool): Существует ли файл эскиза (<code class="prettyprint">true</code> или <code class="prettyprint">false</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gd#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">internal</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если MIME-тип или тип изображения не поддерживаются.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при работе с GD (например, при загрузке, обработке или
сохранении изображения).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Может быть выброшено вызываемой функцией <code class="prettyprint">log_in_file</code> при записи ошибок в лог.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа при работе с файлами (например, при переименовании или удалении
файлов). Убедитесь, что скрипт имеет необходимые права на запись и чтение.
Ограничение памяти (25% от доступной) может быть недостаточным для больших изображений.
Поддержка форматов зависит от текущей версии GD. Например, WebP может быть недоступен.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_image_resize_internal()">Work_Image::_image_resize_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Обработка через GD.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если эскиз создан успешно.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__process_image_resize_gmagick">
        _process_image_resize_gmagick()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gmagick" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">963</span>

    </aside>

        <p class="phpdocumentor-summary">Создаёт эскиз изображения с использованием библиотеки GraphicsMagick, включая резервное копирование старого
эскиза и восстановление при ошибках.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">_process_image_resize_gmagick</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$original_data</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$thumbnail_data</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие шаги:</p>
<ol>
<li>Проверяет поддержку MIME-типа через массив разрешённых форматов.</li>
<li>Преобразует MIME-тип в формат GraphicsMagick.</li>
<li>Проверяет поддержку формата через <code class="prettyprint">Gmagick::queryFormats()</code>.</li>
<li>Ограничивает использование памяти до 25% от доступной.</li>
<li>Создаёт резервную копию старого эскиза (если он существует).</li>
<li>Загружает исходное изображение и создаёт новый эскиз заданных размеров:
<ul>
<li>Для форматов PNG и WebP настраивается прозрачность.</li>
<li>Используется фильтр <code class="prettyprint">FILTER_LANCZOS</code> для высококачественного масштабирования.</li>
</ul>
</li>
<li>Сохраняет новый эскиз в указанный файл.</li>
<li>Восстанавливает старый эскиз в случае ошибки.</li>
<li>Освобождает ресурсы в блоке <code class="prettyprint">finally</code>.
Этот метод является приватным и предназначен только для использования внутри класса.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$original_data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Данные об оригинальном изображении:</p>
<ul>
<li>'path' (string): Абсолютный путь к исходному файлу.</li>
<li>'type' (string): MIME-тип изображения (например, 'image/jpeg'). Должен быть
одним из разрешённых MIME-типов.</li>
<li>'width' (int):   Ширина исходного изображения (положительное число).</li>
<li>'height' (int):  Высота исходного изображения (положительное число).</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$thumbnail_data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Данные об эскизе:</p>
<ul>
<li>'path' (string): Абсолютный путь для сохранения эскиза.</li>
<li>'width' (int):   Желаемая ширина эскиза (положительное число).</li>
<li>'height' (int):  Желаемая высота эскиза (положительное число).</li>
<li>'exists' (bool): Существует ли файл эскиза (<code class="prettyprint">true</code> или <code class="prettyprint">false</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gmagick#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">internal</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\GmagickException">GmagickException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при работе с GraphicsMagick (например, при загрузке или обработке
изображения).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Может быть выброшено вызываемой функцией <code class="prettyprint">log_in_file</code> при записи ошибок в лог.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа при работе с файлами (например, при переименовании или удалении
файлов). Убедитесь, что скрипт имеет необходимые права на запись и чтение.
Ограничение памяти (25% от доступной) может быть недостаточным для больших изображений.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_image_resize_internal()">Work_Image::_image_resize_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Обработка через GraphicsMagick.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если эскиз создан успешно.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__process_image_resize_imagick">
        _process_image_resize_imagick()
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_imagick" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_Image.php"><a href="files/src-classes-work-image.html"><abbr title="src/Classes/Work_Image.php">Work_Image.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1104</span>

    </aside>

        <p class="phpdocumentor-summary">Создаёт эскиз изображения с использованием библиотеки ImageMagick, включая резервное копирование старого
эскиза и восстановление при ошибках.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">_process_image_resize_imagick</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$original_data</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$thumbnail_data</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие шаги:</p>
<ol>
<li>Проверяет поддержку MIME-типа через массив разрешённых форматов.</li>
<li>Преобразует MIME-тип в формат ImageMagick.</li>
<li>Проверяет поддержку формата через <code class="prettyprint">Imagick::queryFormats()</code>.</li>
<li>Ограничивает использование памяти до 25% от доступной.</li>
<li>Создаёт резервную копию старого эскиза (если он существует).</li>
<li>Загружает исходное изображение и создаёт новый эскиз заданных размеров:
<ul>
<li>Используется фильтр <code class="prettyprint">FILTER_LANCZOS</code> для высококачественного масштабирования.</li>
</ul>
</li>
<li>Сохраняет новый эскиз в указанный файл.</li>
<li>Восстанавливает старый эскиз в случае ошибки.</li>
<li>Освобождает ресурсы в блоке <code class="prettyprint">finally</code> через <code class="prettyprint">$image-&gt;clear()</code>.
Этот метод является приватным и предназначен только для использования внутри класса.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$original_data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Данные об оригинальном изображении:</p>
<ul>
<li>'path' (string): Абсолютный путь к исходному файлу.</li>
<li>'type' (string): MIME-тип изображения (например, 'image/jpeg'). Должен быть
одним из разрешённых MIME-типов.</li>
<li>'width' (int):   Ширина исходного изображения (положительное число).</li>
<li>'height' (int): Высота исходного изображения (положительное число).</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$thumbnail_data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Данные об эскизе:</p>
<ul>
<li>'path' (string): Абсолютный путь для сохранения эскиза.</li>
<li>'width' (int): Желаемая ширина эскиза (положительное число).</li>
<li>'height' (int): Желаемая высота эскиза (положительное число).</li>
<li>'exists' (bool): Существует ли файл эскиза (<code class="prettyprint">true</code> или <code class="prettyprint">false</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_imagick#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">internal</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Может быть выброшено вызываемой функцией <code class="prettyprint">log_in_file</code> при записи ошибок в лог.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа при работе с файлами (например, при переименовании или удалении
файлов). Убедитесь, что скрипт имеет необходимые права на запись и чтение.
Ограничение памяти (25% от доступной) может быть недостаточным для больших изображений.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_image_resize_internal()">Work_Image::_image_resize_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Обработка через ImageMagick.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если эскиз создан успешно.</p>
</section>

            </section>

</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="files/src/Classes/Work_Image.php.txt" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                                
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                                            <li><a href="classes/PhotoRigma-Classes-Work-Image.html#toc-properties">Properties</a></li>
                                                            <li><a href="classes/PhotoRigma-Classes-Work-Image.html#toc-methods">Methods</a></li>
                                    </ul>
            </li>
            
                            <li class="phpdocumentor-on-this-page-section__title">Properties</li>
                <li>
                    <ul class="phpdocumentor-list -clean">
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#property_config">$config</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#property_config">$config</a></li>
                                            </ul>
                </li>
            
                        <li class="phpdocumentor-on-this-page-section__title">Methods</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method___construct">__construct()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method___get">__get()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method___isset">__isset()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method___set">__set()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method_create_directory">create_directory()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method_fix_file_extension">fix_file_extension()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_attach">image_attach()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_resize">image_resize()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method_no_photo">no_photo()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method_remove_directory">remove_directory()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method_size_image">size_image()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__create_directory_internal">_create_directory_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__fix_file_extension_internal">_fix_file_extension_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_attach_internal">_image_attach_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_resize_internal">_image_resize_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__no_photo_internal">_no_photo_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__remove_directory_internal">_remove_directory_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__size_image_internal">_size_image_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__calculate_thumbnail_size">_calculate_thumbnail_size()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gd">_process_image_resize_gd()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_gmagick">_process_image_resize_gmagick()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-Image.html#method__process_image_resize_imagick">_process_image_resize_imagick()</a></li>
                                    </ul>
            </li>
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="classes/PhotoRigma-Classes-Work-Image.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
