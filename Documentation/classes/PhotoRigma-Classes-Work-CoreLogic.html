<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Photo-Rigma-BiZ</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Photo-Rigma-BiZ</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category -namespaces">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/photorigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/photorigma-classes.html" class="">Classes</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-include.html" class="">Include</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-interfaces.html" class="">Interfaces</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category -packages">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/PhotoRigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="packages/PhotoRigma-Action.html" class="">Action</a>
                
            </li>
                    <li>
                <a href="packages/PhotoRigma-Language.html" class="">Language</a>
                
            </li>
            </ul>

                        </section>
            
    <section class="phpdocumentor-sidebar__category -reports">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category -indices">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma.html">PhotoRigma</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma-classes.html">Classes</a></li>
    </ul>

    <article class="phpdocumentor-element -class">
        <h2 class="phpdocumentor-content__title">
    Work_CoreLogic

    
            <div class="phpdocumentor-element__package">
            in package
            <ul class="phpdocumentor-breadcrumbs">
                                    <li class="phpdocumentor-breadcrumb"><a href="packages/PhotoRigma.html">PhotoRigma</a></li>
                            </ul>
        </div>
    
            <span class="phpdocumentor-element__implements">
            implements
                            <a href="classes/PhotoRigma-Interfaces-Work-CoreLogic-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_CoreLogic_Interface">Work_CoreLogic_Interface</abbr></a>                    </span>
    
    </h2>

<div class="phpdocumentor-label-line">


</div>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">86</span>

    </aside>

            <p class="phpdocumentor-summary">Класс для выполнения базовой логики приложения.</p>


    <section class="phpdocumentor-description"><p>Этот класс реализует интерфейс <code class="prettyprint">Work_CoreLogic_Interface</code> и предоставляет функционал для выполнения базовой логики
приложения. Он является дочерним классом для <code class="prettyprint">\PhotoRigma\Classes\Work</code> и наследует его методы. Все методы данного
класса рекомендуется вызывать через родительский класс <code class="prettyprint">Work</code>, так как их поведение может быть непредсказуемым при
прямом вызове.
Основные возможности:</p>
<ul>
<li>Формирование информационных строк для категорий и пользовательских альбомов.</li>
<li>Удаление изображений и связанных данных.</li>
<li>Получение данных о новостях, языках и темах.</li>
<li>Генерация блоков вывода изображений для различных типов запросов.</li>
<li>Обработка оценок и расчёт средней оценки.
Все ошибки, возникающие при работе с данными, обрабатываются через исключения.</li>
</ul>
</section>


    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-CoreLogic-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_CoreLogic_Interface">Work_CoreLogic_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, который реализует данный класс.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html"><abbr title="\PhotoRigma\Classes\Work">Work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для реализации основной логики приложения.</p>
</section>

                                    </dd>
                        </dl>





<h3 id="toc">
    Table of Contents
    <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>



    <h4 id="toc-interfaces">
        Interfaces
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#toc-interfaces" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <dl class="phpdocumentor-table-of-contents">
                    <dt class="phpdocumentor-table-of-contents__entry -interface"><a href="classes/PhotoRigma-Interfaces-Work-CoreLogic-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_CoreLogic_Interface">Work_CoreLogic_Interface</abbr></a></dt><dd>Интерфейс, определяющий контракт для классов, реализующих базовую логику приложения.</dd>    </dl>






<h4 id="toc-properties">
    Properties
    <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#toc-properties" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -property -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db">$db</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a>            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_lang">$lang</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;|null            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_user">$user</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>|null            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_work">$work</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Interfaces-Work-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Interface">Work_Interface</abbr></a>            </span>
</dt>

    </dl>

<h4 id="toc-methods">
    Methods
    <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#toc-methods" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct">__construct()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>Конструктор класса.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___get">__get()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Получает значение приватного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___isset">__isset()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет существование недоступного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___set">__set()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Устанавливает значение приватного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_category">category()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует информационную строку для категории или пользовательского альбома через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_create_photo">create_photo()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует блок данных для вывода изображений различных типов через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_del_photo">del_photo()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет изображение с указанным идентификатором через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_find_action_file">find_action_file()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Публичный редирект для поиска файла действия.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_languages">get_languages()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные языки из директории `/language/` через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_themes">get_themes()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные темы из директории `/themes/` через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_news">news()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Получает данные о новостях в зависимости от типа запроса через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_process_rating">process_rating()</a>
    <span>
                                &nbsp;: float    </span>
</dt>
<dd>Добавляет новую оценку и возвращает среднюю оценку через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_lang">set_lang()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Установка языковых данных через сеттер.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_user">set_user()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Установка объекта, реализующего интерфейс User_Interface, через сеттер.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal">_category_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует информационную строку для категории или пользовательского альбома.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal">_create_photo_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует блок данных для вывода изображений различных типов.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__del_photo_internal">_del_photo_internal()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет изображение с указанным идентификатором, а также все упоминания об этом изображении в таблицах сайта.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__find_action_file_internal">_find_action_file_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Ищет файл действия по имени $action во всех директориях из $this-&gt;config[&#039;action_dir&#039;].</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_languages_internal">_get_languages_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные языки из директории /language/.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_themes_internal">_get_themes_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные темы из директории /themes/.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__news_internal">_news_internal()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Получает данные о новостях в зависимости от типа запроса.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__process_rating_internal">_process_rating_internal()</a>
    <span>
                                &nbsp;: float    </span>
</dt>
<dd>Добавляет новую оценку в таблицу, проверяет успешность вставки и возвращает среднюю оценку.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__generate_photo_data">_generate_photo_data()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует массив данных для вывода изображения, используя значения по умолчанию или данные, переданные в
параметре `$photo_data`.</dd>

    </dl>



        

        
    <section class="phpdocumentor-properties">
        <h3 class="phpdocumentor-elements__header" id="properties">
            Properties
            <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#properties" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="
            phpdocumentor-element
            -property
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">0</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

        <section class="phpdocumentor-description"><p>Конфигурация приложения.</p>
</section>

    
    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">89</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Конфигурация приложения.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___set"><abbr title="\PhotoRigma\Classes\Work::__set()">Work::__set()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство дочернего класса Work_CoreLogic.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::__construct()">Work_CoreLogic::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___get"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::__get()">Work_CoreLogic::__get()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, к которому обращается метод.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___set"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::__set()">Work_CoreLogic::__set()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, которое изменяет метод.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_create_photo_internal()">Work_CoreLogic::_create_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_languages_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_get_languages_internal()">Work_CoreLogic::_get_languages_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения, включая путь к
директории (<code class="prettyprint">language_dirs</code>).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_themes_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_get_themes_internal()">Work_CoreLogic::_get_themes_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения, включая путь к
директории (<code class="prettyprint">template_dirs</code>).</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_db">
        $db
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">93</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a></span>
    <span class="phpdocumentor-signature__name">$db</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Объект для работы с базой данных (обязательный).</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::__construct()">Work_CoreLogic::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_category_internal()">Work_CoreLogic::_category_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__del_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_del_photo_internal()">Work_CoreLogic::_del_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__news_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_news_internal()">Work_CoreLogic::_news_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__process_rating_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_process_rating_internal()">Work_CoreLogic::_process_rating_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_lang">
        $lang
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_lang" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">91</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;|null</span>
    <span class="phpdocumentor-signature__name">$lang</span>
     = <span class="phpdocumentor-signature__default-value">null</span></code>

    
        <section class="phpdocumentor-description"><p>Языковые данные (могут быть null при инициализации).</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_lang#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_category_internal()">Work_CoreLogic::_category_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__generate_photo_data"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_generate_photo_data()">Work_CoreLogic::_generate_photo_data()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые переменные.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_user">
        $user
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_user" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">97</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>|null</span>
    <span class="phpdocumentor-signature__name">$user</span>
     = <span class="phpdocumentor-signature__default-value">null</span></code>

    
        <section class="phpdocumentor-description"><p>Объект пользователя (может быть null при инициализации).</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_category_internal()">Work_CoreLogic::_category_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_create_photo_internal()">Work_CoreLogic::_create_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_work">
        $work
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_work" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">95</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Interfaces-Work-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Interface">Work_Interface</abbr></a></span>
    <span class="phpdocumentor-signature__name">$work</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Основной объект приложения (обязательный).</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_work#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::__construct()">Work_CoreLogic::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее основной объект приложения.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
            </section>

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#methods" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___construct">
        __construct()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">135</span>

    </aside>

        <p class="phpdocumentor-summary">Конструктор класса.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__construct</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$db</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$config</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Work-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Interface">Work_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$work</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Инициализирует зависимости: конфигурацию, базу данных и объект класса Work. Этот класс является дочерним для
<code class="prettyprint">\PhotoRigma\Classes\Work</code>. Все параметры обязательны для корректной работы класса.
Алгоритм работы:</p>
<ol>
<li>Сохраняет переданные зависимости в соответствующие свойства:
<ul>
<li><code class="prettyprint">$config</code>: массив конфигурации приложения.</li>
<li><code class="prettyprint">$db</code>: объект для работы с базой данных.</li>
<li><code class="prettyprint">$work</code>: основной объект приложения.</li>
</ul>
</li>
<li>Проверяет, что все зависимости корректно инициализированы.
Метод вызывается автоматически при создании нового объекта класса.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$db</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект для работы с базой данных.
Должен реализовывать интерфейс <code class="prettyprint">Database_Interface</code>.
Пример: <code class="prettyprint">$db = new Database();</code>.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$config</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Конфигурация приложения.
Должен быть ассоциативным массивом.
Пример: <code class="prettyprint">['temp_photo_w' =&gt; 800]</code>.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$work</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Work-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Interface">Work_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Основной объект приложения.
Должен реализовывать интерфейс <code class="prettyprint">Work_Interface</code>.
Пример: <code class="prettyprint">$work = new Work();</code>.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Важно: все зависимости должны быть корректно инициализированы перед использованием класса.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li><code class="prettyprint">$config</code> является ассоциативным массивом.</li>
<li><code class="prettyprint">$db</code> реализует интерфейс <code class="prettyprint">Database_Interface</code>.</li>
<li><code class="prettyprint">$work</code> реализуеет интерфейс <code class="prettyprint">Work_Interface</code>.
Несоблюдение этих условий может привести к ошибкам инициализации.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html"><abbr title="\PhotoRigma\Classes\Work">Work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Родительский класс, через который передаются зависимости.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$config">Work_CoreLogic::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$db">Work_CoreLogic::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_work"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$work">Work_CoreLogic::$work</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее основной объект приложения.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___get">
        __get()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___get" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">173</span>

    </aside>

        <p class="phpdocumentor-summary">Получает значение приватного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__get</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет получить доступ к приватному свойству <code class="prettyprint">$config</code>.
Алгоритм работы:</p>
<ol>
<li>Проверяет, соответствует ли имя свойства допустимому значению (<code class="prettyprint">config</code>).</li>
<li>Если имя свойства корректно, возвращает значение свойства <code class="prettyprint">$config</code>.</li>
<li>Если имя свойства некорректно, выбрасывается исключение.
Метод является публичным и предназначен для получения доступа к свойству <code class="prettyprint">$config</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимое значение: 'config'.</li>
<li>Если указано другое имя, выбрасывается исключение.
Пример: 'config'.
Ограничения: только одно допустимое значение.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___get#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если запрашиваемое свойство не существует.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для доступа к свойству <code class="prettyprint">$config</code>.
Любые другие запросы будут игнорироваться с выбросом исключения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что вы запрашиваете только допустимое свойство:</p>
<ul>
<li>'config'
Некорректные имена свойств вызовут исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$config">Work_CoreLogic::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, к которому обращается метод.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Значение свойства <code class="prettyprint">$config</code>.
Пример:</p>
<ul>
<li><code class="prettyprint">['temp_photo_w' =&gt; 800]</code>.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___isset">
        __isset()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___isset" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">241</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет существование недоступного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__isset</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод вызывается автоматически при использовании оператора <code class="prettyprint">isset()</code> для проверки существования
недоступного свойства. Метод возвращает <code class="prettyprint">true</code>, если свойство существует, и <code class="prettyprint">false</code> в противном случае.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Проверяется на существование.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___isset#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для проверки существования свойств.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если свойство не определено или является недоступным, результат будет <code class="prettyprint">false</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Результат проверки:</p>
<ul>
<li><code class="prettyprint">true</code>, если свойство существует.</li>
<li><code class="prettyprint">false</code>, если свойство не существует.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___set">
        __set()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___set" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">213</span>

    </aside>

        <p class="phpdocumentor-summary">Устанавливает значение приватного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__set</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет изменить значение приватного свойства <code class="prettyprint">$config</code>.
Алгоритм работы:</p>
<ol>
<li>Проверяет, соответствует ли имя свойства допустимому значению (<code class="prettyprint">config</code>).</li>
<li>Если имя свойства корректно, обновляет значение свойства <code class="prettyprint">$config</code>.</li>
<li>Если имя свойства некорректно, выбрасывается исключение.
Метод является публичным и предназначен для изменения свойства <code class="prettyprint">$config</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимое значение: 'config'.</li>
<li>Если указано другое имя, выбрасывается исключение.
Пример: 'config'.
Ограничения: только одно допустимое значение.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$value</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Новое значение свойства:</p>
<ul>
<li>Должен быть ассоциативным массивом.
Пример: <code class="prettyprint">['temp_photo_w' =&gt; 1024]</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___set#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если переданное имя свойства не соответствует <code class="prettyprint">$config</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для изменения свойства <code class="prettyprint">$config</code>.
Любые другие запросы будут игнорироваться с выбросом исключения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что вы запрашиваете только допустимое свойство:</p>
<ul>
<li>'config'
Некорректные имена свойств вызовут исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$config">Work_CoreLogic::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, которое изменяет метод.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_category">
        category()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_category" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">299</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует информационную строку для категории или пользовательского альбома через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">category</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cat_id</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_flag</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _category_internal().
Он выполняет запросы к базе данных для получения информации о категории или пользовательском альбоме, включая
подсчёт фотографий, получение данных о последней и лучшей фотографии, а также формирование результирующего
массива с информацией.
Метод также доступен через метод-фасад <code class="prettyprint">category()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым, так как он зависит от внутренней логики и настроек
родительского класса.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cat_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор категории или пользователя (если <code class="prettyprint">$user_flag = 1</code>):</p>
<ul>
<li>Должен быть целым числом &gt;= <code class="prettyprint">0</code>.</li>
<li>Пример: <code class="prettyprint">5</code> (для категории) или <code class="prettyprint">123</code> (для пользовательского альбома).</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_flag</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Флаг, указывающий формировать ли информацию о категории (<code class="prettyprint">0</code>) или пользовательском альбоме
(<code class="prettyprint">1</code>):</p>
<ul>
<li>По умолчанию: <code class="prettyprint">0</code>.</li>
<li>Допустимые значения: <code class="prettyprint">0</code> или <code class="prettyprint">1</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_category#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если входные параметры имеют некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\PDOException">PDOException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникают ошибки при получении данных из базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
<li>TBL_USERS:    Таблица для хранения данных о пользователях (<code class="prettyprint">users</code>).</li>
<li>TBL_PHOTO:    Таблица для хранения данных о фотографиях (<code class="prettyprint">photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Входные параметры <code class="prettyprint">$cat_id</code> и <code class="prettyprint">$user_flag</code> корректны.</li>
<li>База данных содержит необходимые данные для выполнения запросов.</li>
<li>Пользователь имеет права на просмотр фотографий (если это требуется).
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.
В противном случае поведение метода может быть непредсказуемым, так как он зависит от внутренней логики
и настроек родительского класса.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_category_internal()">Work_CoreLogic::_category_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
формирования информационной строки.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_category"><abbr title="\PhotoRigma\Classes\Work::category()">Work::category()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Информационная строка для категории или пользовательского альбома:</p>
<ul>
<li>'name'           (string): Название категории или альбома.</li>
<li>'description'    (string): Описание категории или альбома.</li>
<li>'count_photo'    (int):    Количество фотографий.</li>
<li>'last_photo'     (string): Форматированное название последней фотографии (например, &quot;Название
(Описание)&quot;).</li>
<li>'top_photo'      (string): Форматированное название лучшей фотографии (например, &quot;Название
(Описание)&quot;).</li>
<li>'url_cat'        (string): Ссылка на категорию или альбом.</li>
<li>'url_last_photo' (string): Ссылка на последнюю фотографию.</li>
<li>'url_top_photo'  (string): Ссылка на лучшую фотографию.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_photo">
        create_photo()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_create_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">620</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует блок данных для вывода изображений различных типов через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_photo</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$type</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$id_photo</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _create_photo_internal().
Он формирует массив данных для вывода изображения на основе типа (<code class="prettyprint">$type</code>) и идентификатора категории или фото
(<code class="prettyprint">$id_photo</code>). Метод также доступен через метод-фасад <code class="prettyprint">create_photo()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$type</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип изображения:</p>
<ul>
<li>'top':  Лучшее изображение (по рейтингу).</li>
<li>'last': Последнее загруженное изображение.</li>
<li>'cat':  Изображение из конкретной категории (требует указания <code class="prettyprint">$id_photo</code>).</li>
<li>'rand': Любое случайное изображение.
По умолчанию: 'top'.
Допустимые значения: 'top', 'last', 'cat', 'rand'.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$id_photo</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор фото. Используется только при <code class="prettyprint">$type == 'cat'</code>.
Должен быть целым числом &gt;= <code class="prettyprint">0</code>.
По умолчанию: <code class="prettyprint">0</code>.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_create_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан недопустимый <code class="prettyprint">$type</code> или <code class="prettyprint">$id_photo &lt; 0</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\PDOException">PDOException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выборке данных из базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если файл изображения недоступен или не существует.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются следующие константы:</p>
<ul>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
<li>TBL_PHOTO: Таблица для хранения данных об изображениях (<code class="prettyprint">photo</code>).</li>
<li>TBL_USERS: Таблица для хранения данных о пользователях (<code class="prettyprint">users</code>).</li>
<li>VIEW_RANDOM_PHOTO: Представление для выбора случайных изображений (<code class="prettyprint">random_photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа пользователя (<code class="prettyprint">$this-&gt;user-&gt;user['pic_view']</code>).
Убедитесь, что пользователь имеет право на просмотр изображений.
Если файл изображения недоступен или не существует, метод возвращает данные по умолчанию через
<code class="prettyprint">_generate_photo_data()</code>.
Проверка пути к файлу изображения гарантирует, что доступ возможен только к файлам внутри
<code class="prettyprint">$this-&gt;config['gallery_dir']</code>.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.
В противном случае поведение метода может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_create_photo_internal()">Work_CoreLogic::_create_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную
логику генерации блока данных для вывода
изображений.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_create_photo"><abbr title="\PhotoRigma\Classes\Work::create_photo()">Work::create_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода изображения:</p>
<ul>
<li>'name_block'           (string):      Название блока изображения (например, &quot;Лучшее фото&quot;).</li>
<li>'url'                  (string):      URL для просмотра полного изображения.</li>
<li>'thumbnail_url'        (string):      URL для миниатюры изображения.</li>
<li>'name'                 (string):      Название изображения.</li>
<li>'description'          (string):      Описание изображения.</li>
<li>'category_name'        (string):      Название категории.</li>
<li>'category_description' (string):      Описание категории.</li>
<li>'rate'                 (string):      Рейтинг изображения (например, &quot;Рейтинг: 5/10&quot;).</li>
<li>'url_user'             (string|null): URL профиля пользователя, добавившего изображение.</li>
<li>'real_name'            (string):      Реальное имя пользователя.</li>
<li>'category_url'         (string):      URL категории или пользовательского альбома.</li>
<li>'width'                (int):         Ширина изображения после масштабирования.</li>
<li>'height'               (int):         Высота изображения после масштабирования.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_del_photo">
        del_photo()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_del_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">964</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет изображение с указанным идентификатором через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">del_photo</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _del_photo_internal().
Он удаляет файлы изображения, связанные записи из базы данных и логирует ошибки. Метод также доступен через
метод-фасад <code class="prettyprint">del_photo()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор удаляемого изображения:</p>
<ul>
<li>Должен быть положительным целым числом.
Пример: <code class="prettyprint">42</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_del_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если параметр <code class="prettyprint">$photo_id</code> имеет некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при выполнении запросов к базе данных или удалении файлов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_PHOTO: Таблица для хранения данных об изображениях (<code class="prettyprint">photo</code>).</li>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа при удалении файлов. Убедитесь, что скрипт имеет необходимые права
на запись и чтение.
Удаление файлов и записей из базы данных необратимо. Убедитесь, что передан корректный идентификатор
изображения.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.
В противном случае поведение метода может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__del_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_del_photo_internal()">Work_CoreLogic::_del_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
удаления изображения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_del_photo"><abbr title="\PhotoRigma\Classes\Work::del_photo()">Work::del_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если удаление успешно, иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_find_action_file">
        find_action_file()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_find_action_file" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1603</span>

    </aside>

        <p class="phpdocumentor-summary">Публичный редирект для поиска файла действия.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">find_action_file</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод передаёт управление внутреннему <code class="prettyprint">_find_action_file_internal()</code>.
Используется для получения:</p>
<ul>
<li>Имени действия</li>
<li>Полного пути к .php-файлу в директории $this-&gt;config['action_dir']</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|null</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя действия из $_GET или NULL (для CLI)
Пример: 'admin', 'profile'</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_find_action_file#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если файл действия не найден</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках проверки входных данных через check_input()</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Реализация находится в <code class="prettyprint">_find_action_file_internal()</code>
Поддерживает вызов как через веб, так и через CLI</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Не используйте недопустимые символы в $action — это может привести к ошибкам</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__find_action_file_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_find_action_file_internal()">Work_CoreLogic::_find_action_file_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Для основной логики поиска файла</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_find_action_file"><abbr title="\PhotoRigma\Classes\Work::find_action_file()">Work::find_action_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод логики поиска файла из дочерного класса.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>[
'action_name' =&gt; string,
'full_path'   =&gt; string
]
Возвращает имя действия и путь к найденному файлу</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_get_languages">
        get_languages()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_languages" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1091</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные языки из директории `/language/` через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">get_languages</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _get_languages_internal(). Он загружает
доступные языки, проверяя структуру директории <code class="prettyprint">/language/</code> и содержимое файлов <code class="prettyprint">main.php</code>.
Метод также доступен через метод-фасад <code class="prettyprint">get_languages()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_languages#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если:</p>
<ul>
<li>Директория <code class="prettyprint">/language/</code> недоступна или не существует.</li>
<li>Ни один язык не найден в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к структуре директории <code class="prettyprint">/language/</code> и содержимому файла <code class="prettyprint">main.php</code>.
Убедитесь, что:</p>
<ul>
<li>Файл <code class="prettyprint">main.php</code> содержит корректную переменную <code class="prettyprint">lang_name</code> (строка, не пустая).</li>
<li>Поддиректории находятся внутри директории <code class="prettyprint">/language/</code>.
Если директория <code class="prettyprint">/language/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_languages_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_get_languages_internal()">Work_CoreLogic::_get_languages_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную
логику загрузки доступных языков.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_get_languages"><abbr title="\PhotoRigma\Classes\Work::get_languages()">Work::get_languages()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о доступных языках. Каждый элемент массива содержит:</p>
<ul>
<li><code class="prettyprint">value</code>: Имя директории языка (строка).</li>
<li><code class="prettyprint">name</code>: Название языка из файла <code class="prettyprint">main.php</code> (строка).</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_get_themes">
        get_themes()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_themes" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1243</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные темы из директории `/themes/` через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">get_themes</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _get_themes_internal(). Он загружает доступные
темы, проверяя структуру директории <code class="prettyprint">/themes/</code> и её поддиректории.
Метод также доступен через метод-фасад <code class="prettyprint">get_themes()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_themes#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> не существует или недоступна для чтения.</li>
<li>Ни одна тема не найдена в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к структуре директории <code class="prettyprint">/themes/</code>.
Убедитесь, что:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> существует и доступна для чтения.</li>
<li>Поддиректории находятся внутри директории <code class="prettyprint">/themes/</code>.
Если директория <code class="prettyprint">/themes/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_themes_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_get_themes_internal()">Work_CoreLogic::_get_themes_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
загрузки доступных тем.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_get_themes"><abbr title="\PhotoRigma\Classes\Work::get_themes()">Work::get_themes()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с именами доступных тем (строки).</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_news">
        news()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_news" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1372</span>

    </aside>

        <p class="phpdocumentor-summary">Получает данные о новостях в зависимости от типа запроса через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">news</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$act</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _news_internal().
Он выполняет запросы к базе данных для получения данных о новостях:</p>
<ul>
<li>Для <code class="prettyprint">$act = 'id'</code>: Возвращает новость по её ID.</li>
<li>Для <code class="prettyprint">$act = 'last'</code>: Возвращает список новостей с сортировкой по дате последнего редактирования.
Метод также доступен через метод-фасад <code class="prettyprint">news()</code> в родительском классе.</li>
</ul>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество новостей или ID новости (в зависимости от параметра <code class="prettyprint">$act</code>):</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$act</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип запроса:</p>
<ul>
<li>'id':   Получение новости по её ID.</li>
<li>'last': Получение списка новостей с сортировкой по дате последнего
редактирования.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_news#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный <code class="prettyprint">$act</code> или <code class="prettyprint">$news_id_or_limit</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_NEWS: Таблица для хранения данных о новостях (<code class="prettyprint">news</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к корректности входных параметров <code class="prettyprint">$news_id_or_limit</code> и <code class="prettyprint">$act</code>.
Убедитесь, что передаются допустимые значения.
Если новости не найдены, метод возвращает пустой массив.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.
В противном случае поведение метода может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__news_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_news_internal()">Work_CoreLogic::_news_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
получения данных о новостях.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_news"><abbr title="\PhotoRigma\Classes\Work::news()">Work::news()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о новостях. Если новостей нет, возвращается пустой массив.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_process_rating">
        process_rating()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_process_rating" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1509</span>

    </aside>

        <p class="phpdocumentor-summary">Добавляет новую оценку и возвращает среднюю оценку через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">process_rating</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$table</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$rate_value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">float</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода _process_rating_internal().
Он добавляет оценку в таблицу и возвращает среднюю оценку. Метод также доступен через метод-фасад
<code class="prettyprint">process_rating()</code> в родительском классе.</p>
<p>Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется. В противном
случае поведение метода может быть непредсказуемым.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$table</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя таблицы для вставки оценки:</p>
<ul>
<li>'rate_user':  Таблица с оценками фотографий от пользователей.</li>
<li>'rate_moder': Таблица с оценками фотографий от модераторов.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID фотографии:</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID пользователя:</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$rate_value</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Значение оценки:</p>
<ul>
<li>Должен быть целым числом в диапазоне допустимых значений (например, 1–5).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_process_rating#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если не удалось добавить оценку. Причина: <code class="prettyprint">get_last_insert_id()</code> возвращает <code class="prettyprint">0</code>, что
указывает на неудачную вставку.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_PHOTO: Таблица для хранения данных о фотографиях (<code class="prettyprint">photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Параметр <code class="prettyprint">$table</code> соответствует одной из допустимых таблиц ('rate_user' или 'rate_moder').</li>
<li>В СУБД настроены триггеры и функции для перерасчета средней оценки.
Вызывать этот метод напрямую, минуя метод-фасад родительского класса, крайне не рекомендуется.
В противном случае поведение метода может быть непредсказуемым.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__process_rating_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_process_rating_internal()">Work_CoreLogic::_process_rating_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную
логику добавления оценки и расчёта
средней оценки.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_process_rating"><abbr title="\PhotoRigma\Classes\Work::process_rating()">Work::process_rating()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">float</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает число с плавающей точкой, представляющее среднюю оценку.
Если оценок нет, возвращается <code class="prettyprint">0</code>.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_lang">
        set_lang()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_lang" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1713</span>

    </aside>

        <p class="phpdocumentor-summary">Установка языковых данных через сеттер.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_lang</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$lang</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет установить массив языковых данных для использования в системе. Присваивает массив
свойству текущего класса для дальнейшего использования.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$lang</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Языковые данные:</p>
<ul>
<li>Должен быть ассоциативным массивом.</li>
<li>Каждый ключ должен быть строкой, представляющей собой уникальный идентификатор языковой
переменной.</li>
<li>Каждое значение должно быть строкой или другим допустимым типом данных для языковых
значений.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_lang#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод проверяет тип переданных данных.
Языковые данные используются для локализации интерфейса и других текстовых элементов системы.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Передавайте только корректные языковые данные. Пустой массив или некорректные значения могут привести к
ошибкам при использовании.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal"><abbr title="\PhotoRigma\Classes\Work::_set_lang_internal()">Work::_set_lang_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод дочернего класса Work_CoreLogic.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_user">
        set_user()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1736</span>

    </aside>

        <p class="phpdocumentor-summary">Установка объекта, реализующего интерфейс User_Interface, через сеттер.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_user</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет установить объект пользователя, реализующий интерфейс <code class="prettyprint">User_Interface</code>. Присваивает
объект свойству текущего класса для дальнейшего использования.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект, реализующий интерфейс <code class="prettyprint">User_Interface</code>:</p>
<ul>
<li>Должен быть экземпляром класса, реализующего интерфейс <code class="prettyprint">User_Interface</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод проверяет тип переданного объекта.
Объект пользователя используется для взаимодействия с другими компонентами системы.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Некорректный объект (не реализует интерфейс <code class="prettyprint">User_Interface</code>) вызывает исключение.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><abbr title="\PhotoRigma\Classes\User_Interface">User_Interface</abbr></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, которому должен соответствовать объект пользователя.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_set_user"><abbr title="\PhotoRigma\Classes\Work::set_user()">Work::set_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, использующий объект пользователя.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__category_internal">
        _category_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">363</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует информационную строку для категории или пользовательского альбома.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_category_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cat_id</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_flag</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет запросы к базе данных для получения информации о категории или пользовательском альбоме.
Алгоритм работы:</p>
<ol>
<li>Проверяет корректность входных параметров:
<ul>
<li><code class="prettyprint">$cat_id</code> должен быть целым числом &gt;= <code class="prettyprint">0</code>.</li>
<li><code class="prettyprint">$user_flag</code> должен принимать значения <code class="prettyprint">0</code> (категория) или <code class="prettyprint">1</code> (пользовательский альбом).</li>
</ul>
</li>
<li>Получает данные о категории из таблицы <code class="prettyprint">TBL_CATEGORY</code> или данные пользователя из таблицы <code class="prettyprint">TBL_USERS</code> (если
<code class="prettyprint">$user_flag = 1</code>).</li>
<li>Подсчитывает количество фотографий в таблице <code class="prettyprint">TBL_PHOTO</code> с использованием JOIN-запросов.</li>
<li>Получает данные о последней и лучшей фотографии (если разрешено отображение фотографий).</li>
<li>Для корневой категории (<code class="prettyprint">$cat_id = 0</code>) подсчитывает количество уникальных пользователей, загрузивших
фотографии.</li>
<li>Формирует результирующий массив с информацией о категории или альбоме, включая название, описание,
количество фотографий, данные о последней и лучшей фотографии, а также ссылки на них.
Метод является защищенным и вызывается через публичный метод <code class="prettyprint">category()</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cat_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор категории или пользователя (если <code class="prettyprint">$user_flag = 1</code>).
Должен быть целым числом &gt;= <code class="prettyprint">0</code>.
Пример: <code class="prettyprint">5</code> (для категории) или <code class="prettyprint">123</code> (для пользовательского альбома).</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_flag</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Флаг, указывающий формировать ли информацию о категории (<code class="prettyprint">0</code>) или пользовательском
альбоме (<code class="prettyprint">1</code>).
По умолчанию: <code class="prettyprint">0</code>.
Допустимые значения: <code class="prettyprint">0</code> или <code class="prettyprint">1</code>.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если входные параметры имеют некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\PDOException">PDOException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникают ошибки при получении данных из базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
<li>TBL_USERS:    Таблица для хранения данных о пользователях (<code class="prettyprint">users</code>).</li>
<li>TBL_PHOTO:    Таблица для хранения данных о фотографиях (<code class="prettyprint">photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Входные параметры <code class="prettyprint">$cat_id</code> и <code class="prettyprint">$user_flag</code> корректны.</li>
<li>База данных содержит необходимые данные для выполнения запросов.</li>
<li>Пользователь имеет права на просмотр фотографий (если это требуется).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$db">Work_CoreLogic::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_lang"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$lang">Work_CoreLogic::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые строки.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_user"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$user">Work_CoreLogic::$user</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_category"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::category()">Work_CoreLogic::category()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
формирования информационной строки.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Информационная строка для категории или пользовательского альбома:</p>
<ul>
<li>'name'           (string): Название категории или альбома.</li>
<li>'description'    (string): Описание категории или альбома.</li>
<li>'count_photo'    (int):    Количество фотографий.</li>
<li>'last_photo'     (string): Форматированное название последней фотографии (например, &quot;Название
(Описание)&quot;).</li>
<li>'top_photo'      (string): Форматированное название лучшей фотографии (например, &quot;Название
(Описание)&quot;).</li>
<li>'url_cat'        (string): Ссылка на категорию или альбом.</li>
<li>'url_last_photo' (string): Ссылка на последнюю фотографию.</li>
<li>'url_top_photo'  (string): Ссылка на лучшую фотографию.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__create_photo_internal">
        _create_photo_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">698</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует блок данных для вывода изображений различных типов.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_create_photo_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$type</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$id_photo</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие шаги:</p>
<ol>
<li>Проверяет корректность входных параметров:
<ul>
<li><code class="prettyprint">$id_photo</code> должен быть целым числом &gt;= <code class="prettyprint">0</code>.</li>
<li><code class="prettyprint">$type</code> должен принимать одно из значений: 'top', 'last', 'cat', 'rand'.</li>
</ul>
</li>
<li>Проверяет права пользователя на просмотр изображений (<code class="prettyprint">$this-&gt;user-&gt;user['pic_view']</code>).</li>
<li>Формирует SQL-запрос для получения данных изображения и категории через JOIN:
<ul>
<li>Для типа 'top':  Выбирает лучшее изображение с учетом рейтинга.</li>
<li>Для типа 'last': Выбирает последнее загруженное изображение.</li>
<li>Для типа 'cat':  Выбирает изображение из конкретной категории по <code class="prettyprint">$id_photo</code>.</li>
<li>Для типа 'rand': Выбирает любое случайное изображение (использует представление <code class="prettyprint">VIEW_RANDOM_PHOTO</code>).</li>
</ul>
</li>
<li>Проверяет существование файла изображения и его доступность.</li>
<li>Ограничивает доступ к файлам внутри директории <code class="prettyprint">$this-&gt;config['gallery_dir']</code>.</li>
<li>Вычисляет размеры изображения через метод <code class="prettyprint">size_image()</code>.</li>
<li>Формирует массив данных для вывода изображения или вызывает <code class="prettyprint">_generate_photo_data()</code> в случае ошибки.
Метод является защищенным и вызывается через публичный метод <code class="prettyprint">create_photo()</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$type</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип изображения:</p>
<ul>
<li>'top':  Лучшее изображение (по рейтингу).</li>
<li>'last': Последнее загруженное изображение.</li>
<li>'cat':  Изображение из конкретной категории (требует указания <code class="prettyprint">$id_photo</code>).</li>
<li>'rand': Любое случайное изображение.
По умолчанию: 'top'.
Допустимые значения: 'top', 'last', 'cat', 'rand'.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$id_photo</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор фото. Используется только при <code class="prettyprint">$type == 'cat'</code>.
Должен быть целым числом &gt;= <code class="prettyprint">0</code>.
По умолчанию: <code class="prettyprint">0</code>.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан недопустимый <code class="prettyprint">$type</code> или <code class="prettyprint">$id_photo &lt; 0</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\PDOException">PDOException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выборке данных из базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если файл изображения недоступен или не существует.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются следующие константы:</p>
<ul>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
<li>TBL_PHOTO: Таблица для хранения данных об изображениях (<code class="prettyprint">photo</code>).</li>
<li>TBL_USERS: Таблица для хранения данных о пользователях (<code class="prettyprint">users</code>).</li>
<li>VIEW_RANDOM_PHOTO: Представление для выбора случайных изображений (<code class="prettyprint">random_photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа пользователя (<code class="prettyprint">$this-&gt;user-&gt;user['pic_view']</code>).
Убедитесь, что пользователь имеет право на просмотр изображений.
Если файл изображения недоступен или не существует, метод возвращает данные по умолчанию через
<code class="prettyprint">_generate_photo_data()</code>.
Проверка пути к файлу изображения гарантирует, что доступ возможен только к файлам внутри
<code class="prettyprint">$this-&gt;config['gallery_dir']</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$config">Work_CoreLogic::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_user"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$user">Work_CoreLogic::$user</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее данные текущего пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__generate_photo_data"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_generate_photo_data()">Work_CoreLogic::_generate_photo_data()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Приватный метод для формирования массива
данных по умолчанию.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_size_image"><abbr title="\PhotoRigma\Classes\Work::size_image()">Work::size_image()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для вычисления размеров изображения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_create_photo"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::create_photo()">Work_CoreLogic::create_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную
логику генерации блока данных для вывода
изображений.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода изображения:</p>
<ul>
<li>'name_block'           (string):      Название блока изображения (например, &quot;Лучшее фото&quot;).</li>
<li>'url'                  (string):      URL для просмотра полного изображения.</li>
<li>'thumbnail_url'        (string):      URL для миниатюры изображения.</li>
<li>'name'                 (string):      Название изображения.</li>
<li>'description'          (string):      Описание изображения.</li>
<li>'category_name'        (string):      Название категории.</li>
<li>'category_description' (string):      Описание категории.</li>
<li>'rate'                 (string):      Рейтинг изображения (например, &quot;Рейтинг: 5/10&quot;).</li>
<li>'url_user'             (string|null): URL профиля пользователя, добавившего изображение.</li>
<li>'real_name'            (string):      Реальное имя пользователя.</li>
<li>'category_url'         (string):      URL категории или пользовательского альбома.</li>
<li>'width'                (int):         Ширина изображения после масштабирования.</li>
<li>'height'               (int):         Высота изображения после масштабирования.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__del_photo_internal">
        _del_photo_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__del_photo_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1008</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет изображение с указанным идентификатором, а также все упоминания об этом изображении в таблицах сайта.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_del_photo_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод выполняет удаление изображения с указанным идентификатором, включая следующие шаги:</p>
<ol>
<li>Проверяет корректность входного параметра photo_id.</li>
<li>Получает данные об изображении и категории через JOIN запрос к таблицам TBL_PHOTO и TBL_CATEGORY.</li>
<li>Удаляет файлы из каталогов полноразмерных изображений и эскизов, используя пути, заданные в константах
(GALLERY_DIR, THUMBNAIL_DIR). Перед удалением проверяется существование файлов.</li>
<li>Удаляет запись об изображении из таблицы TBL_PHOTO.</li>
<li>Связанные записи в таблицах TBL_RATE_USER и TBL_RATE_MODER удаляются автоматически благодаря внешним ключам
с правилом ON DELETE CASCADE.</li>
<li>Логирует ошибки, возникающие при удалении файлов или выполнении запросов к базе данных, с помощью функции
log_in_file().
Этот метод содержит основную логику, вызываемую через публичный метод del_photo().</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор удаляемого изображения (обязательное поле).
Должен быть положительным целым числом.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__del_photo_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если параметр photo_id имеет некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при выполнении запросов к базе данных или удалении
файлов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через log_in_file().</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_PHOTO: Таблица для хранения данных об изображениях (photo).</li>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (category).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа при удалении файлов. Убедитесь, что скрипт имеет необходимые права
на запись и чтение.
Удаление файлов и записей из базы данных необратимо. Убедитесь, что передан корректный идентификатор
изображения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$db">Work_CoreLogic::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_del_photo"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::del_photo()">Work_CoreLogic::del_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
удаления изображения.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если удаление успешно, иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__find_action_file_internal">
        _find_action_file_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__find_action_file_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1643</span>

    </aside>

        <p class="phpdocumentor-summary">Ищет файл действия по имени $action во всех директориях из $this-&gt;config[&#039;action_dir&#039;].</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_find_action_file_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод:</p>
<ul>
<li>Проверяет, установлено ли действие (из CLI или $_GET)</li>
<li>Определяет имя файла действия с учётом безопасности</li>
<li>Ищет первый доступный файл в указанных директориях</li>
<li>Если файл не найден — ищет main.php как резервный вариант</li>
<li>Если ничего не найдено — выбрасывает исключение</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|null</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя действия из <code class="prettyprint">$_GET['action']</code> или <code class="prettyprint">CLI</code>
Может быть NULL → тогда используется 'main'</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__find_action_file_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если файл действия не найден ни в одной директории</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках check_input()</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует следующие свойства класса:</p>
<ul>
<li>$this-&gt;config['action_dir']: массив путей к папкам действий</li>
<li>$this-&gt;work-&gt;check_input(): проверка входных данных</li>
<li>$this-&gt;work-&gt;url_check(): проверка URL на безопасность</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Не передавайте небезопасные значения $action — это может привести к некорректной работе
Убедитесь, что хотя бы одна директория action_dir содержит файл main.php</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_check_input"><abbr title="\PhotoRigma\Classes\Work::check_input()">Work::check_input()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Для проверки входного параметра 'action'</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_url_check"><abbr title="\PhotoRigma\Classes\Work::url_check()">Work::url_check()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Для проверки URL при вызове из веба</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_find_action_file"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::find_action_file()">Work_CoreLogic::find_action_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Для основной логики поиска файла</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>[
'action_name' =&gt; string,
'full_path'   =&gt; string
]
Возвращает имя действия и полный путь к найденному файлу</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__get_languages_internal">
        _get_languages_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_languages_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1131</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные языки из директории /language/.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_get_languages_internal</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод выполняет загрузку доступных языков, включая следующие шаги:</p>
<ol>
<li>Нормализует путь к директории <code class="prettyprint">/language/</code> и проверяет её существование и доступность для чтения.</li>
<li>Перебирает все поддиректории в <code class="prettyprint">/language/</code> с использованием <code class="prettyprint">DirectoryIterator</code>.</li>
<li>Для каждой поддиректории:
<ul>
<li>Проверяет наличие файла <code class="prettyprint">main.php</code>.</li>
<li>Безопасно подключает файл <code class="prettyprint">main.php</code> и проверяет наличие переменной <code class="prettyprint">lang_name</code>.</li>
<li>Если переменная <code class="prettyprint">lang_name</code> определена, является строкой и не пустой, добавляет язык в список.</li>
</ul>
</li>
<li>Возвращает массив с данными о доступных языках или выбрасывает исключение, если языки не найдены.
Этот метод является защищенным и предназначен для использования внутри класса или его наследников.
Основная логика метода вызывается через публичный метод <code class="prettyprint">get_languages()</code>.</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_languages_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если:</p>
<ul>
<li>Директория <code class="prettyprint">/language/</code> недоступна или не существует.</li>
<li>Ни один язык не найден в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к структуре директории <code class="prettyprint">/language/</code> и содержимому файла <code class="prettyprint">main.php</code>.
Убедитесь, что:</p>
<ul>
<li>Файл <code class="prettyprint">main.php</code> содержит корректную переменную <code class="prettyprint">lang_name</code> (строка, не пустая).</li>
<li>Поддиректории находятся внутри директории <code class="prettyprint">/language/</code>.
Если директория <code class="prettyprint">/language/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$config">Work_CoreLogic::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения, включая путь к
директории (<code class="prettyprint">language_dirs</code>).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_languages"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::get_languages()">Work_CoreLogic::get_languages()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную
логику загрузки доступных языков.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о доступных языках. Каждый элемент массива содержит:</p>
<ul>
<li><code class="prettyprint">value</code>: Имя директории языка (строка).</li>
<li><code class="prettyprint">name</code>: Название языка из файла <code class="prettyprint">main.php</code> (строка).</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__get_themes_internal">
        _get_themes_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_themes_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1282</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные темы из директории /themes/.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_get_themes_internal</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод выполняет загрузку доступных тем, включая следующие шаги:</p>
<ol>
<li>Нормализует путь к директории <code class="prettyprint">/themes/</code> и проверяет её существование и доступность для чтения.</li>
<li>Проверяет, что директория <code class="prettyprint">/themes/</code> содержит хотя бы одну поддиректорию.</li>
<li>Перебирает все поддиректории в <code class="prettyprint">/themes/</code> с использованием <code class="prettyprint">DirectoryIterator</code>.</li>
<li>Для каждой поддиректории:
<ul>
<li>Проверяет её доступность для чтения.</li>
<li>Убеждается, что поддиректория находится внутри разрешенной директории <code class="prettyprint">/themes/</code>.</li>
<li>Добавляет имя поддиректории в список доступных тем.</li>
</ul>
</li>
<li>Возвращает массив с именами доступных тем или выбрасывает исключение, если темы не найдены.
Этот метод является защищенным и предназначен для использования внутри класса или его наследников.
Основная логика метода вызывается через публичный метод <code class="prettyprint">get_themes()</code>.</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_themes_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> не существует или недоступна для чтения.</li>
<li>Ни одна тема не найдена в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к структуре директории <code class="prettyprint">/themes/</code>.
Убедитесь, что:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> существует и доступна для чтения.</li>
<li>Поддиректории находятся внутри директории <code class="prettyprint">/themes/</code>.
Если директория <code class="prettyprint">/themes/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$config">Work_CoreLogic::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения, включая путь к
директории (<code class="prettyprint">template_dirs</code>).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_themes"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::get_themes()">Work_CoreLogic::get_themes()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
загрузки доступных тем.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с именами доступных тем (строки).</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__news_internal">
        _news_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__news_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1416</span>

    </aside>

        <p class="phpdocumentor-summary">Получает данные о новостях в зависимости от типа запроса.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_news_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$act</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод выполняет запросы к базе данных для получения данных о новостях, включая следующие шаги:</p>
<ol>
<li>Проверяет корректность входных параметров <code class="prettyprint">$news_id_or_limit</code> и <code class="prettyprint">$act</code>:
<ul>
<li>Для <code class="prettyprint">$act = 'id'</code>: <code class="prettyprint">$news_id_or_limit</code> должен быть положительным целым числом (ID новости).</li>
<li>Для <code class="prettyprint">$act = 'last'</code>: <code class="prettyprint">$news_id_or_limit</code> должен быть положительным целым числом (количество новостей).</li>
</ul>
</li>
<li>Формирует параметры запроса через <code class="prettyprint">match()</code>:
<ul>
<li>Для <code class="prettyprint">$act = 'id'</code>: Выполняется выборка новости по её ID.</li>
<li>Для <code class="prettyprint">$act = 'last'</code>: Выполняется выборка списка новостей с сортировкой по дате последнего редактирования.</li>
</ul>
</li>
<li>Выполняет запрос к таблице <code class="prettyprint">TBL_NEWS</code> с использованием сформированных параметров.</li>
<li>Возвращает массив с данными о новостях или пустой массив, если новости не найдены.
Этот метод является защищенным и предназначен для использования внутри класса или его наследников.
Основная логика метода вызывается через публичный метод <code class="prettyprint">news()</code>.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество новостей или ID новости (в зависимости от параметра <code class="prettyprint">$act</code>).
Должен быть положительным целым числом.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$act</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип запроса:</p>
<ul>
<li>'id':   Получение новости по её ID.</li>
<li>'last': Получение списка новостей с сортировкой по дате последнего
редактирования.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__news_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный <code class="prettyprint">$act</code> или <code class="prettyprint">$news_id_or_limit</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_NEWS: Таблица для хранения данных о новостях (<code class="prettyprint">news</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к корректности входных параметров <code class="prettyprint">$news_id_or_limit</code> и <code class="prettyprint">$act</code>.
Убедитесь, что передаются допустимые значения.
Если новости не найдены, метод возвращает пустой массив.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$db">Work_CoreLogic::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_news"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::news()">Work_CoreLogic::news()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную логику
получения данных о новостях.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о новостях. Если новостей нет, возвращается пустой массив.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__process_rating_internal">
        _process_rating_internal()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__process_rating_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1555</span>

    </aside>

        <p class="phpdocumentor-summary">Добавляет новую оценку в таблицу, проверяет успешность вставки и возвращает среднюю оценку.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_process_rating_internal</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$table</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$rate_value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">float</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищенный метод выполняет следующие действия:</p>
<ol>
<li>Вставляет новую оценку в указанную таблицу через <code class="prettyprint">$this-&gt;db-&gt;insert()</code>.</li>
<li>Проверяет успешность вставки по значению <code class="prettyprint">get_last_insert_id()</code>.</li>
<li>Пересчитывает среднюю оценку для фотографии автоматически через триггеры и функции в СУБД.</li>
<li>Выполняет выборку средней оценки из таблицы <code class="prettyprint">TBL_PHOTO</code> для указанной фотографии. В таблице <code class="prettyprint">TBL_PHOTO</code>
есть столбцы, имена которых совпадают с именем таблицы <code class="prettyprint">$table</code>.
Метод вызывается через публичный метод-редирект <code class="prettyprint">process_rating()</code> и предназначен для использования внутри
класса или его наследников.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$table</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя таблицы для вставки оценки.
Должен быть строкой, соответствующей одной из двух допустимых таблиц:</p>
<ul>
<li>'rate_user':  Таблица с оценками фотографий от пользователей.</li>
<li>'rate_moder': Таблица с оценками фотографий от модераторов.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID фотографии.
Должен быть положительным целым числом.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID пользователя.
Должен быть положительным целым числом.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$rate_value</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Значение оценки.
Должен быть целым числом в диапазоне допустимых значений (например, 1–5).</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__process_rating_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение, если не удалось добавить оценку. Причина:
<code class="prettyprint">get_last_insert_id()</code> возвращает <code class="prettyprint">0</code>, что указывает на неудачную вставку.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_PHOTO: Таблица для хранения данных о фотографиях (<code class="prettyprint">photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Параметр <code class="prettyprint">$table</code> соответствует одной из допустимых таблиц ('rate_user' или 'rate_moder').</li>
<li>В СУБД настроены триггеры и функции для перерасчета средней оценки.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$db">Work_CoreLogic::$db</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект для работы с базой данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_process_rating"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::process_rating()">Work_CoreLogic::process_rating()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, реализующий основную
логику добавления оценки и расчёта
средней оценки.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">float</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает число с плавающей точкой, представляющее среднюю оценку.
Если оценок нет, возвращается <code class="prettyprint">0</code>.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__generate_photo_data">
        _generate_photo_data()
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__generate_photo_data" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work_CoreLogic.php"><a href="files/src-classes-work-corelogic.html"><abbr title="src/Classes/Work_CoreLogic.php">Work_CoreLogic.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">901</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует массив данных для вывода изображения, используя значения по умолчанию или данные, переданные в
параметре `$photo_data`.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">_generate_photo_data</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_data</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">[]</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$type</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие шаги:</p>
<ol>
<li>Формирует массив данных для вывода изображения, используя значения по умолчанию из константы (<code class="prettyprint">SITE_URL</code>) и
языковых переменных (<code class="prettyprint">$this-&gt;lang</code>).</li>
<li>Если параметр <code class="prettyprint">$photo_data</code> содержит данные, обновляет значения по умолчанию только для существующих ключей.</li>
<li>Возвращает массив данных для вывода изображения.
Метод является приватным и предназначен только для использования внутри класса.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_data</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                 = <span class="phpdocumentor-signature__argument__default-value">[]</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Массив данных изображения, полученных из базы данных.
Может быть пустым, если требуется сгенерировать массив только со значениями по
умолчанию. Пример: <code class="prettyprint">['name' =&gt; 'Лучшее фото', 'description' =&gt; 'Описание лучшего фото']</code>.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$type</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип изображения: 'top', 'last', 'cat' или 'rand'.
По умолчанию: 'top'.
Пример: 'top'.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__generate_photo_data#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">internal</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Значения по умолчанию берутся из константы (<code class="prettyprint">SITE_URL</code>) и языковых переменных (<code class="prettyprint">$this-&gt;lang</code>).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Константа <code class="prettyprint">SITE_URL</code> и свойство <code class="prettyprint">$this-&gt;lang</code> правильно инициализированы перед вызовом метода.</li>
<li>Параметр <code class="prettyprint">$photo_data</code> содержит корректные ключи, соответствующие массиву значений по умолчанию.
Несоблюдение этих условий может привести к некорректному формированию массива данных.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_lang"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$lang">Work_CoreLogic::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые переменные.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_create_photo_internal()">Work_CoreLogic::_create_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Приватный метод для формирования массива
данных по умолчанию.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода изображения:</p>
<ul>
<li>'name_block'           (string):      Название блока изображения (например, &quot;Лучшее фото&quot;).</li>
<li>'url'                  (string):      URL для просмотра полного изображения.</li>
<li>'thumbnail_url'        (string):      URL для миниатюры изображения.</li>
<li>'name'                 (string):      Название изображения.</li>
<li>'description'          (string):      Описание изображения.</li>
<li>'category_name'        (string):      Название категории.</li>
<li>'category_description' (string):      Описание категории.</li>
<li>'rate'                 (string):      Рейтинг изображения (например, &quot;Рейтинг: 5/10&quot;).</li>
<li>'url_user'             (string|null): URL профиля пользователя, добавившего изображение.</li>
<li>'real_name'            (string):      Реальное имя пользователя.</li>
<li>'category_url'         (string):      URL категории или пользовательского альбома.</li>
<li>'width'                (int):         Ширина изображения после масштабирования.</li>
<li>'height'               (int):         Высота изображения после масштабирования.</li>
</ul>
</section>

            </section>

</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="files/src/Classes/Work_CoreLogic.php.txt" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                                
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                                            <li><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#toc-properties">Properties</a></li>
                                                            <li><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#toc-methods">Methods</a></li>
                                    </ul>
            </li>
            
                            <li class="phpdocumentor-on-this-page-section__title">Properties</li>
                <li>
                    <ul class="phpdocumentor-list -clean">
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config">$config</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config">$config</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_db">$db</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_lang">$lang</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_user">$user</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_work">$work</a></li>
                                            </ul>
                </li>
            
                        <li class="phpdocumentor-on-this-page-section__title">Methods</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct">__construct()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___get">__get()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___isset">__isset()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___set">__set()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_category">category()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_create_photo">create_photo()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_del_photo">del_photo()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_find_action_file">find_action_file()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_languages">get_languages()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_themes">get_themes()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_news">news()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_process_rating">process_rating()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_lang">set_lang()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_user">set_user()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal">_category_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal">_create_photo_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__del_photo_internal">_del_photo_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__find_action_file_internal">_find_action_file_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_languages_internal">_get_languages_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__get_themes_internal">_get_themes_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__news_internal">_news_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__process_rating_internal">_process_rating_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__generate_photo_data">_generate_photo_data()</a></li>
                                    </ul>
            </li>
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
