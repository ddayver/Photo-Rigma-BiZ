<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Photo-Rigma-BiZ</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Photo-Rigma-BiZ</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category -namespaces">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/photorigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/photorigma-classes.html" class="">Classes</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-include.html" class="">Include</a>
                
            </li>
                    <li>
                <a href="namespaces/photorigma-interfaces.html" class="">Interfaces</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category -packages">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/PhotoRigma.html" class="">PhotoRigma</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="packages/PhotoRigma-Action.html" class="">Action</a>
                
            </li>
                    <li>
                <a href="packages/PhotoRigma-Language.html" class="">Language</a>
                
            </li>
            </ul>

                        </section>
            
    <section class="phpdocumentor-sidebar__category -reports">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category -indices">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                <section>
                                        <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma.html">PhotoRigma</a></li>
            <li class="phpdocumentor-breadcrumb"><a href="namespaces/photorigma-classes.html">Classes</a></li>
    </ul>

    <article class="phpdocumentor-element -class">
        <h2 class="phpdocumentor-content__title">
    Work

    
            <div class="phpdocumentor-element__package">
            in package
            <ul class="phpdocumentor-breadcrumbs">
                                    <li class="phpdocumentor-breadcrumb"><a href="packages/PhotoRigma.html">PhotoRigma</a></li>
                            </ul>
        </div>
    
            <span class="phpdocumentor-element__implements">
            implements
                            <a href="classes/PhotoRigma-Interfaces-Work-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Interface">Work_Interface</abbr></a>                    </span>
    
    </h2>

<div class="phpdocumentor-label-line">


</div>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">109</span>

    </aside>

            <p class="phpdocumentor-summary">Основной класс приложения.</p>


    <section class="phpdocumentor-description"><p>Класс <code class="prettyprint">Work</code> является центральной точкой приложения и предоставляет единый интерфейс для работы с различными
компонентами системы. Он реализует интерфейс <code class="prettyprint">Work_Interface</code> и интегрирует функционал следующих классов:</p>
<ul>
<li><code class="prettyprint">Work_Security</code>: Механизмы для работы с безопасностью (проверка входных данных, защита от спам-ботов).</li>
<li><code class="prettyprint">Work_Image</code>: Работа с изображениями (загрузка, обработка, изменение размеров).</li>
<li><code class="prettyprint">Work_Template</code>: Формирование данных для шаблонов (меню, статистика, блок пользователя).</li>
<li><code class="prettyprint">Work_CoreLogic</code>: Реализация основной логики приложения (работа с категориями, новостями, рейтингами).</li>
<li><code class="prettyprint">Work_Helper</code>: Вспомогательные методы (очистка строк, преобразование размеров, проверка MIME-типов).</li>
<li><code class="prettyprint">Cache_Handler_Interface</code>: Система кеширования для оптимизации работы приложения.
Все методы данного класса являются фасадами, которые перенаправляют вызовы на соответствующие методы дочерних
классов.</li>
</ul>
</section>


    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Work-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Interface">Work_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, который реализует данный класс.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html"><abbr title="\PhotoRigma\Classes\Work_Security">Work_Security</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для работы с безопасностью.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html"><abbr title="\PhotoRigma\Classes\Work_Image">Work_Image</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для работы с изображениями.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html"><abbr title="\PhotoRigma\Classes\Work_Template">Work_Template</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для работы с шаблонами.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html"><abbr title="\PhotoRigma\Classes\Work_CoreLogic">Work_CoreLogic</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для реализации основной логики приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Helper.html"><abbr title="\PhotoRigma\Classes\Work_Helper">Work_Helper</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Класс для вспомогательных методов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Cache-Handler-Interface.html"><abbr title="\PhotoRigma\Interfaces\Cache_Handler_Interface">Cache_Handler_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для работы с кешем.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::__construct()">Work_CoreLogic::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Родительский класс, через который передаются зависимости.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_Image::__construct()">Work_Image::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Родительский класс, который создаёт объект класса Work_Image.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_Security::__construct()">Work_Security::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Родительский класс.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method___construct"><abbr title="\PhotoRigma\Classes\Work_Template::__construct()">Work_Template::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Родительский класс, через который передаются зависимости.</p>
</section>

                                    </dd>
                        </dl>





<h3 id="toc">
    Table of Contents
    <a href="classes/PhotoRigma-Classes-Work.html#toc" class="headerlink"><i class="fas fa-link"></i></a>

</h3>



    <h4 id="toc-interfaces">
        Interfaces
        <a href="classes/PhotoRigma-Classes-Work.html#toc-interfaces" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <dl class="phpdocumentor-table-of-contents">
                    <dt class="phpdocumentor-table-of-contents__entry -interface"><a href="classes/PhotoRigma-Interfaces-Work-Interface.html"><abbr title="\PhotoRigma\Interfaces\Work_Interface">Work_Interface</abbr></a></dt><dd>Интерфейс для центральной точки приложения.</dd>    </dl>






<h4 id="toc-properties">
    Properties
    <a href="classes/PhotoRigma-Classes-Work.html#toc-properties" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -property -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_lang">$lang</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_cache">$cache</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Interfaces-Cache-Handler-Interface.html"><abbr title="\PhotoRigma\Interfaces\Cache_Handler_Interface">Cache_Handler_Interface</abbr></a>            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_config">$config</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_core_logic">$core_logic</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Classes-Work-CoreLogic.html"><abbr title="\PhotoRigma\Classes\Work_CoreLogic">Work_CoreLogic</abbr></a>            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_image">$image</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Classes-Work-Image.html"><abbr title="\PhotoRigma\Classes\Work_Image">Work_Image</abbr></a>            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_lang">$lang</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_security">$security</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Classes-Work-Security.html"><abbr title="\PhotoRigma\Classes\Work_Security">Work_Security</abbr></a>            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_session">$session</a>
    <span>
                        &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#property_template">$template</a>
    <span>
                        &nbsp;: <a href="classes/PhotoRigma-Classes-Work-Template.html"><abbr title="\PhotoRigma\Classes\Work_Template">Work_Template</abbr></a>            </span>
</dt>

    </dl>

<h4 id="toc-methods">
    Methods
    <a href="classes/PhotoRigma-Classes-Work.html#toc-methods" class="headerlink"><i class="fas fa-link"></i></a>

</h4>
<dl class="phpdocumentor-table-of-contents">
            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method___construct">__construct()</a>
    <span>
                                &nbsp;: mixed    </span>
</dt>
<dd>Конструктор класса.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method___get">__get()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Магический метод для получения значений свойств `$config` и `$lang`.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method___isset">__isset()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет существование недоступного свойства.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method___set">__set()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Устанавливает значение свойства `$config`.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_category">category()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует информационную строку для категории или пользовательского альбома через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_check_field">check_field()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет содержимое поля на соответствие условиям через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_check_input">check_input()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет входные данные через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_clean_field">clean_field()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Очищает строку от HTML-тегов и специальных символов через вызов публичного метода в дочернем классе.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_create_directory">create_directory()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Создает директории для категории через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_create_menu">create_menu()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует массив данных для меню через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_create_photo">create_photo()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует блок данных для вывода изображений различных типов через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_del_photo">del_photo()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет изображение с указанным идентификатором через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_encodename">encodename()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Транслитерация строки и замена знаков пунктуации на &quot;_&quot; через вызов публичного метода в дочернем классе.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_filt_email">filt_email()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Заменяет символы в email-адресах через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_find_action_file">find_action_file()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Поиск файла действия.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_fix_file_extension">fix_file_extension()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Корректировка расширения файла в соответствии с его MIME-типом через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_gen_captcha">gen_captcha()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует математический CAPTCHA-вопрос и ответ через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_get_languages">get_languages()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные языки из директории /language/ через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_get_themes">get_themes()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Загружает доступные темы из директории /themes/ через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_image_attach">image_attach()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Вывод изображения через HTTP через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_image_resize">image_resize()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Изменяет размер изображения через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_news">news()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Получает данные о новостях в зависимости от типа запроса через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_no_photo">no_photo()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Возвращает данные для отсутствующего изображения через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_process_rating">process_rating()</a>
    <span>
                                &nbsp;: float    </span>
</dt>
<dd>Добавляет новую оценку в таблицу и возвращает среднюю оценку через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_remove_directory">remove_directory()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Удаляет директорию и её содержимое через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_return_bytes">return_bytes()</a>
    <span>
                                &nbsp;: int    </span>
</dt>
<dd>Преобразует размер в байты через вызов публичного метода в дочернем классе.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_set_lang">set_lang()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Устанавливает языковые данные через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_set_user">set_user()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Установка объекта пользователя через сеттер.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_size_image">size_image()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Вычисляет размеры для вывода эскиза изображения через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_template_best_user">template_best_user()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует список пользователей, загрузивших наибольшее количество изображений, через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_template_stat">template_stat()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Генерирует массив статистических данных для шаблона через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_template_user">template_user()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Формирует блок пользователя через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_ubb">ubb()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Преобразует BBCode в HTML через вызов публичного метода в дочернем классе.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_url_check">url_check()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет URL на наличие вредоносного кода через вызов внутреннего метода.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_utf8_wordwrap">utf8_wordwrap()</a>
    <span>
                                &nbsp;: string    </span>
</dt>
<dd>Разбивает строку на несколько строк ограниченной длины через вызов публичного метода в дочернем классе.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method_validate_mime_type">validate_mime_type()</a>
    <span>
                                &nbsp;: bool    </span>
</dt>
<dd>Проверяет MIME-тип файла через вызов публичного метода в дочернем классе.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal">_set_lang_internal()</a>
    <span>
                                &nbsp;: void    </span>
</dt>
<dd>Загружает и обрабатывает файлы языковых данных, обновляя их в текущем классе и дочерних компонентах.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method__load_cached_config">_load_cached_config()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Проверяет актуальность кеша конфигурации и обновляет его при необходимости.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a class="" href="classes/PhotoRigma-Classes-Work.html#method__process_lang_array">_process_lang_array()</a>
    <span>
                                &nbsp;: array&lt;string|int, mixed&gt;    </span>
</dt>
<dd>Обрабатывает массив языковых переменных, проверяя его структуру и очищая значения. Возвращает массив с
информацией об ошибках, изменениях и обработанном массиве.</dd>

    </dl>



        

        
    <section class="phpdocumentor-properties">
        <h3 class="phpdocumentor-elements__header" id="properties">
            Properties
            <a href="classes/PhotoRigma-Classes-Work.html#properties" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="
            phpdocumentor-element
            -property
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">0</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

        <section class="phpdocumentor-description"><p>Массив, хранящий конфигурацию приложения.</p>
</section>

    
    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -public
                                                -read-only        "
>
    <h4 class="phpdocumentor-element__name" id="property_lang">
        $lang
        <a href="classes/PhotoRigma-Classes-Work.html#property_lang" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                        <small class="phpdocumentor-element__modifier">read-only</small>        </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">0</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$lang</span>
    </code>

        <section class="phpdocumentor-description"><p>Массив с языковыми переменными.</p>
</section>

    
    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_cache">
        $cache
        <a href="classes/PhotoRigma-Classes-Work.html#property_cache" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">122</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Interfaces-Cache-Handler-Interface.html"><abbr title="\PhotoRigma\Interfaces\Cache_Handler_Interface">Cache_Handler_Interface</abbr></a></span>
    <span class="phpdocumentor-signature__name">$cache</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Объект для работы с кешем.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#property_cache#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___construct"><abbr title="\PhotoRigma\Classes\Work::__construct()">Work::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Cache_Handler_Interface</code> для работы с кешем.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_config">
        $config
        <a href="classes/PhotoRigma-Classes-Work.html#property_config" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">112</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$config</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Массив, хранящий конфигурацию приложения.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#property_config#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___construct"><abbr title="\PhotoRigma\Classes\Work::__construct()">Work::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__load_cached_config"><abbr title="\PhotoRigma\Classes\Work::_load_cached_config()">Work::_load_cached_config()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___get"><abbr title="\PhotoRigma\Classes\Work::__get()">Work::__get()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___set"><abbr title="\PhotoRigma\Classes\Work::__set()">Work::__set()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_core_logic">
        $core_logic
        <a href="classes/PhotoRigma-Classes-Work.html#property_core_logic" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">120</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html"><abbr title="\PhotoRigma\Classes\Work_CoreLogic">Work_CoreLogic</abbr></a></span>
    <span class="phpdocumentor-signature__name">$core_logic</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Объект для основной логики приложения.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#property_core_logic#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___construct"><abbr title="\PhotoRigma\Classes\Work::__construct()">Work::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_CoreLogic</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_image">
        $image
        <a href="classes/PhotoRigma-Classes-Work.html#property_image" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">116</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Classes-Work-Image.html"><abbr title="\PhotoRigma\Classes\Work_Image">Work_Image</abbr></a></span>
    <span class="phpdocumentor-signature__name">$image</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Объект класса <code class="prettyprint">Work_Image</code> для работы с изображениями.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#property_image#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___construct"><abbr title="\PhotoRigma\Classes\Work::__construct()">Work::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_Image</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_lang">
        $lang
        <a href="classes/PhotoRigma-Classes-Work.html#property_lang" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">124</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$lang</span>
     = <span class="phpdocumentor-signature__default-value">[]</span></code>

    
        <section class="phpdocumentor-description"><p>Массив с языковыми переменными.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#property_lang#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___get"><abbr title="\PhotoRigma\Classes\Work::__get()">Work::__get()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые данные.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal"><abbr title="\PhotoRigma\Classes\Work::_set_lang_internal()">Work::_set_lang_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство класса Work, которое изменяется.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_security">
        $security
        <a href="classes/PhotoRigma-Classes-Work.html#property_security" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">114</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Classes-Work-Security.html"><abbr title="\PhotoRigma\Classes\Work_Security">Work_Security</abbr></a></span>
    <span class="phpdocumentor-signature__name">$security</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Объект для работы с безопасностью.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#property_security#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___construct"><abbr title="\PhotoRigma\Classes\Work::__construct()">Work::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_Security</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_session">
        $session
        <a href="classes/PhotoRigma-Classes-Work.html#property_session" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">126</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$session</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Массив, привязанный к глобальному массиву $_SESSION.</p>
</section>

    

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="property_template">
        $template
        <a href="classes/PhotoRigma-Classes-Work.html#property_template" class="headerlink"><i class="fas fa-link"></i></a>

        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">118</span>

    </aside>

    
    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
        <span class="phpdocumentor-signature__type"><a href="classes/PhotoRigma-Classes-Work-Template.html"><abbr title="\PhotoRigma\Classes\Work_Template">Work_Template</abbr></a></span>
    <span class="phpdocumentor-signature__name">$template</span>
    </code>

    
        <section class="phpdocumentor-description"><p>Объект для работы с шаблонами.</p>
</section>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#property_template#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___construct"><abbr title="\PhotoRigma\Classes\Work::__construct()">Work::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_Template</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

</article>
            </section>

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="classes/PhotoRigma-Classes-Work.html#methods" class="headerlink"><i class="fas fa-link"></i></a>

        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___construct">
        __construct()
        <a href="classes/PhotoRigma-Classes-Work.html#method___construct" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">174</span>

    </aside>

        <p class="phpdocumentor-summary">Конструктор класса.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__construct</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$db</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$config</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__reference-operator">&amp;</span><span class="phpdocumentor-signature__argument__name">$session</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Cache-Handler-Interface.html"><abbr title="\PhotoRigma\Interfaces\Cache_Handler_Interface">Cache_Handler_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cache</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод вызывается автоматически при создании нового объекта класса. Используется для инициализации
основных компонентов приложения:</p>
<ul>
<li>Загрузка конфигурации через кеш (метод <code class="prettyprint">_load_cached_config</code>).</li>
<li>Инициализация дочерних классов: Work_Security, Work_Image, Work_Template, Work_CoreLogic.</li>
<li>Подключение сессии для хранения пользовательских данных.</li>
<li>Инициализация системы кеширования через интерфейс <code class="prettyprint">Cache_Handler_Interface</code>.</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$db</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект для работы с базой данных.
Должен быть экземпляром класса, реализующего интерфейс
<code class="prettyprint">Database_Interface</code>.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$config</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Конфигурация приложения.
Должна содержать ключи, такие как 'app_name', 'debug_mode' и другие
настройки.
Пример: ['app_name' =&gt; 'PhotoRigma', 'debug_mode' =&gt; true].</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$session</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Ссылка на массив сессии для хранения пользовательских данных.
Массив должен быть доступен для записи и чтения.</p>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cache</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Cache-Handler-Interface.html"><abbr title="\PhotoRigma\Interfaces\Cache_Handler_Interface">Cache_Handler_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект для работы с системами кеширования.
Должен быть экземпляром класса, реализующего интерфейс
<code class="prettyprint">Cache_Handler_Interface</code>. Используется для загрузки конфигурации из
кеша и других операций с кешем.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method___construct#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается в случае ошибок при загрузке конфигурации или инициализации компонентов.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>В конструкторе инициализируются следующие дочерние классы:</p>
<ul>
<li><code class="prettyprint">Work_Security</code>: Для работы с безопасностью.</li>
<li><code class="prettyprint">Work_Image</code>: Для работы с изображениями.</li>
<li><code class="prettyprint">Work_Template</code>: Для работы с шаблонами.</li>
<li><code class="prettyprint">Work_CoreLogic</code>: Для реализации бизнес-логики приложения.
Также используются:</li>
<li>Константа <code class="prettyprint">KEY_SESSION</code> для хранения пользовательских данных в сессии.</li>
<li>Метод <code class="prettyprint">_load_cached_config</code> для загрузки конфигурации из кеша.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если файл кеша недоступен или данные в нём некорректны, это может привести к ошибкам инициализации.
Ошибки обрабатываются через исключения и не записываются в лог напрямую.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_config"><abbr title="\PhotoRigma\Classes\Work::$config">Work::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_security"><abbr title="\PhotoRigma\Classes\Work::$security">Work::$security</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_Security</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_image"><abbr title="\PhotoRigma\Classes\Work::$image">Work::$image</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_Image</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_template"><abbr title="\PhotoRigma\Classes\Work::$template">Work::$template</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_Template</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_core_logic"><abbr title="\PhotoRigma\Classes\Work::$core_logic">Work::$core_logic</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Work_CoreLogic</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_cache"><abbr title="\PhotoRigma\Classes\Work::$cache">Work::$cache</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее объект <code class="prettyprint">Cache_Handler_Interface</code> для работы с кешем.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__load_cached_config"><abbr title="\PhotoRigma\Classes\Work::_load_cached_config()">Work::_load_cached_config()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для загрузки конфигурации через кеш.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___get">
        __get()
        <a href="classes/PhotoRigma-Classes-Work.html#method___get" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">367</span>

    </aside>

        <p class="phpdocumentor-summary">Магический метод для получения значений свойств `$config` и `$lang`.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__get</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод вызывается автоматически при попытке получить значение недоступного свойства.
Доступ разрешён только к свойствам <code class="prettyprint">$config</code> и <code class="prettyprint">$lang</code>. Если запрашивается другое свойство, выбрасывается
исключение InvalidArgumentException.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимые значения: 'config', 'lang'.</li>
<li>Если указано другое имя, выбрасывается исключение.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method___get#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если запрашиваемое свойство не существует или недоступно.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для доступа к свойствам <code class="prettyprint">$config</code> и <code class="prettyprint">$lang</code>.
Любые другие запросы будут игнорироваться с выбросом исключения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Попытка доступа к несуществующему свойству вызовет исключение.
Убедитесь, что вы запрашиваете только допустимые свойства.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_lang"><abbr title="\PhotoRigma\Classes\Work::$lang">Work::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее языковые данные.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_config"><abbr title="\PhotoRigma\Classes\Work::$config">Work::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Значение свойства <code class="prettyprint">$config</code> или <code class="prettyprint">$lang</code> (оба являются массивами).</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___isset">
        __isset()
        <a href="classes/PhotoRigma-Classes-Work.html#method___isset" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">493</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет существование недоступного свойства.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__isset</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод вызывается автоматически при использовании оператора <code class="prettyprint">isset()</code> для проверки существования
недоступного свойства. Метод возвращает <code class="prettyprint">true</code>, если свойство существует, и <code class="prettyprint">false</code> в противном случае.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Проверяется на существование.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method___isset#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для проверки существования свойств.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если свойство не определено или является недоступным, результат будет <code class="prettyprint">false</code>.</p>
</section>

                                    </dd>
                                            </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Результат проверки:</p>
<ul>
<li><code class="prettyprint">true</code>, если свойство существует.</li>
<li><code class="prettyprint">false</code>, если свойство не существует.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method___set">
        __set()
        <a href="classes/PhotoRigma-Classes-Work.html#method___set" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">412</span>

    </aside>

        <p class="phpdocumentor-summary">Устанавливает значение свойства `$config`.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">__set</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод вызывается автоматически при попытке установить значение недоступного свойства.
Доступ разрешён только к свойству <code class="prettyprint">$config</code>. Если запрашивается другое свойство, выбрасывается исключение
Exception.
Значение <code class="prettyprint">$config</code> должно быть массивом, где ключи и значения являются строками.
При успешном обновлении конфигурации:</p>
<ul>
<li>Изменения логируются с помощью функции log_in_file (за исключением ключей из списка $exclude_from_logging).</li>
<li>Обновлённая конфигурация передаётся в дочерние классы ($this-&gt;image, $this-&gt;template, $this-&gt;core_logic)
через их свойства config.</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя свойства:</p>
<ul>
<li>Допустимое значение: 'config'.</li>
<li>Если указано другое имя, выбрасывается исключение.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$value</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Значение свойства:</p>
<ul>
<li>Должен быть массивом, где ключи и значения являются строками.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method___set#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если значение некорректно (не массив или содержатся некорректные
ключи/значения).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если запрашивается несуществующее свойство.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод предназначен только для изменения свойства <code class="prettyprint">$config</code>.
Логирование изменений выполняется только для определённых ключей.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Некорректные данные (не массив, нестроковые ключи или значения) вызывают исключение.
Попытка установки значения для несуществующего свойства также вызывает исключение.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_config"><abbr title="\PhotoRigma\Classes\Work::$config">Work::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#property_config"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::$config">Work_CoreLogic::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство дочернего класса Work_CoreLogic.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Image::$config">Work_Image::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство дочернего класса Work_Image.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#property_config"><abbr title="\PhotoRigma\Classes\Work_Template::$config">Work_Template::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство дочернего класса Work_Template.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_category">
        category()
        <a href="classes/PhotoRigma-Classes-Work.html#method_category" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">566</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует информационную строку для категории или пользовательского альбома через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">category</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$cat_id</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_flag</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода category() в классе Work_CoreLogic. Он
выполняет запросы к базе данных для получения информации о категории или пользовательском альбоме, включая
количество фотографий, данные о последней и лучшей фотографии, а также ссылки на них.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$cat_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор категории или пользователя (если <code class="prettyprint">$user_flag = 1</code>):</p>
<ul>
<li>Должен быть целым числом &gt;= <code class="prettyprint">0</code>.</li>
<li>Пример: <code class="prettyprint">5</code> (для категории) или <code class="prettyprint">123</code> (для пользовательского альбома).</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_flag</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Флаг, указывающий формировать ли информацию о категории (<code class="prettyprint">0</code>) или пользовательском
альбоме (<code class="prettyprint">1</code>):</p>
<ul>
<li>По умолчанию: <code class="prettyprint">0</code>.</li>
<li>Допустимые значения: <code class="prettyprint">0</code> или <code class="prettyprint">1</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_category#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если входные параметры имеют некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\PDOException">PDOException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникают ошибки при получении данных из базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
<li>TBL_USERS:    Таблица для хранения данных о пользователях (<code class="prettyprint">users</code>).</li>
<li>TBL_PHOTO:    Таблица для хранения данных о фотографиях (<code class="prettyprint">photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Входные параметры <code class="prettyprint">$cat_id</code> и <code class="prettyprint">$user_flag</code> корректны.</li>
<li>База данных содержит необходимые данные для выполнения запросов.</li>
<li>Пользователь имеет права на просмотр фотографий (если это требуется).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_category"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::category()">Work_CoreLogic::category()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Информационная строка для категории или пользовательского альбома:</p>
<ul>
<li>'name'           (string): Название категории или альбома.</li>
<li>'description'    (string): Описание категории или альбома.</li>
<li>'count_photo'    (int):    Количество фотографий.</li>
<li>'last_photo'     (string): Форматированное название последней фотографии (например, &quot;Название
(Описание)&quot;).</li>
<li>'top_photo'      (string): Форматированное название лучшей фотографии (например, &quot;Название
(Описание)&quot;).</li>
<li>'url_cat'        (string): Ссылка на категорию или альбом.</li>
<li>'url_last_photo' (string): Ссылка на последнюю фотографию.</li>
<li>'url_top_photo'  (string): Ссылка на лучшую фотографию.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_check_field">
        check_field()
        <a href="classes/PhotoRigma-Classes-Work.html#method_check_field" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">604</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет содержимое поля на соответствие условиям через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">check_field</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$field</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string|false&nbsp;</span><span class="phpdocumentor-signature__argument__name">$regexp</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">false</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">bool&nbsp;</span><span class="phpdocumentor-signature__argument__name">$not_zero</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">false</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода check_field() в классе Work_Security. Он
выполняет проверку значения поля на соответствие регулярному выражению, условию &quot;не ноль&quot; ($not_zero) и
отсутствие запрещённых паттернов из свойства \PhotoRigma\Classes\Work_Security::$compiled_rules.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$field</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Значение поля для проверки:</p>
<ul>
<li>Указывается строковое значение, которое необходимо проверить.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$regexp</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|false</span>
                 = <span class="phpdocumentor-signature__argument__default-value">false</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Регулярное выражение (необязательно):</p>
<ul>
<li>Если задано, значение должно соответствовать этому выражению.</li>
<li>Если регулярное выражение некорректно (например, содержит ошибки компиляции),
метод завершает выполнение с ошибкой.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$not_zero</span>
                : <span class="phpdocumentor-signature__argument__return-type">bool</span>
                 = <span class="phpdocumentor-signature__argument__default-value">false</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Флаг, указывающий, что значение не должно быть числом 0:</p>
<ul>
<li>Если флаг установлен, а значение равно '0', проверка завершается с ошибкой.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_check_field#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует свойство\PhotoRigma\Classes\Work_Security::$compiled_rules
для проверки на наличие запрещённых паттернов.
Свойство должно содержать массив скомпилированных регулярных выражений.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в свойстве\PhotoRigma\Classes\Work_Security::$compiled_rules.
Если правила некорректны, результат может быть непредсказуемым.
Также важно убедиться, что регулярное выражение ($regexp) корректно перед использованием.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html#method_check_field"><abbr title="\PhotoRigma\Classes\Work_Security::check_field()">Work_Security::check_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если поле прошло все проверки, иначе False.
Проверки включают соответствие регулярному выражению, отсутствие запрещённых паттернов
и выполнение условия $not_zero (если оно задано).</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_check_input">
        check_input()
        <a href="classes/PhotoRigma-Classes-Work.html#method_check_input" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">646</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет входные данные через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">check_input</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$source_name</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$field</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$options</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">[]</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода check_input() в классе Work_Security. Он
выполняет проверку данных из различных источников ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES) на
соответствие заданным условиям.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$source_name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Источник данных ($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES):</p>
<ul>
<li>Должен быть одним из допустимых значений: '_GET', '_POST', '_SESSION', '_COOKIE',
'_FILES'.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$field</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Поле для проверки (имя ключа в массиве источника данных):</p>
<ul>
<li>Указывается имя ключа, которое необходимо проверить.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$options</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                 = <span class="phpdocumentor-signature__argument__default-value">[]</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Дополнительные параметры проверки:</p>
<ul>
<li>Ключ 'isset' (bool, опционально): Проверять наличие поля в источнике данных.</li>
<li>Ключ 'empty' (bool, опционально): Проверять, что значение поля не пустое.</li>
<li>Ключ 'regexp' (string|false, опционально): Регулярное выражение для проверки
значения поля.</li>
<li>Ключ 'not_zero' (bool, опционально): Проверять, что значение поля не равно нулю.</li>
<li>Ключ 'max_size' (int, опционально): Максимальный размер файла (в байтах) для
$_FILES.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_check_input#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если MIME-тип загруженного файла не поддерживается.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Для источника данных <code class="prettyprint">_SESSION</code> используется свойство класса
\PhotoRigma\Classes\Work_Security::$session. Метод зависит от корректности данных в источниках
($_GET, $_POST, $_SESSION, $_COOKIE, $_FILES). Если источник данных повреждён или содержит
некорректные значения, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что переданные параметры проверки ($options) корректны и соответствуют требованиям.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html#method_check_input"><abbr title="\PhotoRigma\Classes\Work_Security::check_input()">Work_Security::check_input()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__add_new_user_internal"><abbr title="\PhotoRigma\Classes\User::_add_new_user_internal()">User::_add_new_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки правильности входных данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__login_user_internal"><abbr title="\PhotoRigma\Classes\User::_login_user_internal()">User::_login_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки правильности входных данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__update_user_data_internal"><abbr title="\PhotoRigma\Classes\User::_update_user_data_internal()">User::_update_user_data_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки корректности входных данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__edit_avatar"><abbr title="\PhotoRigma\Classes\User::_edit_avatar()">User::_edit_avatar()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки корректности входных данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__update_user_rights_internal"><abbr title="\PhotoRigma\Classes\User::_update_user_rights_internal()">User::_update_user_rights_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки правильности входных данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__find_action_file_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_find_action_file_internal()">Work_CoreLogic::_find_action_file_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Для проверки входного параметра 'action'</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если данные прошли проверку, иначе False.
Для $_FILES также учитывается корректность MIME-типа и размера файла.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_clean_field">
        clean_field()
        <a href="classes/PhotoRigma-Classes-Work.html#method_clean_field" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1122</span>

    </aside>

        <p class="phpdocumentor-summary">Очищает строку от HTML-тегов и специальных символов через вызов публичного метода в дочернем классе.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">clean_field</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$field</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот статический метод является фасадом для вызова публичного метода clean_field() в дочернем классе
Work_Helper. Он выполняет очистку строки от HTML-тегов и экранирует специальные символы для защиты от XSS-атак
и других проблем, связанных с некорректными данными.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$field</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Строка или данные, которые могут быть преобразованы в строку:</p>
<ul>
<li>Если входные данные пусты (<code class="prettyprint">null</code> или пустая строка), метод вернёт пустую строку (<code class="prettyprint">''</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_clean_field#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод не обрабатывает вложенные структуры данных (например, массивы).
Убедитесь, что входные данные могут быть преобразованы в строку.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Helper.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work_Helper::clean_field()">Work_Helper::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_header_internal"><abbr title="\PhotoRigma\Classes\Template::_page_header_internal()">Template::_page_header_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Функция, используемая для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__create_template_internal"><abbr title="\PhotoRigma\Classes\Template::_create_template_internal()">Template::_create_template_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Внешняя функция, используемая для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_footer_internal"><abbr title="\PhotoRigma\Classes\Template::_page_footer_internal()">Template::_page_footer_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Функция, используемая для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__process_lang_array"><abbr title="\PhotoRigma\Classes\Work::_process_lang_array()">Work::_process_lang_array()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки и экранирования полей (защита от XSS).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__category_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_category_internal()">Work_CoreLogic::_category_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_create_photo_internal()">Work_CoreLogic::_create_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method__image_attach_internal"><abbr title="\PhotoRigma\Classes\Work_Image::_image_attach_internal()">Work_Image::_image_attach_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки имени файла.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__create_menu_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_create_menu_internal()">Work_Template::_create_menu_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Статический метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_best_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_best_user_internal()">Work_Template::_template_best_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_stat_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_stat_internal()">Work_Template::_template_stat_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_user_internal()">Work_Template::_template_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки данных.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Очищенная строка или пустая строка (<code class="prettyprint">''</code>), если входные данные пусты.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_directory">
        create_directory()
        <a href="classes/PhotoRigma-Classes-Work.html#method_create_directory" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1889</span>

    </aside>

        <p class="phpdocumentor-summary">Создает директории для категории через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_directory</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$directory_name</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода create_directory() в классе Work_Image.
Он создаёт директории для галереи и миниатюр.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$directory_name</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя директории:</p>
<ul>
<li>Должен быть строкой, содержащей только допустимые символы для имён директорий.</li>
<li>Не должен содержать запрещённых символов (например, <code class="prettyprint">\/:*?&quot;&lt;&gt;|</code>).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_create_directory#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если родительская директория недоступна для записи.</li>
<li>Если не удалось создать директории.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как он создаёт директории.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_create_directory"><abbr title="\PhotoRigma\Classes\Work_Image::create_directory()">Work_Image::create_directory()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директории успешно созданы.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_menu">
        create_menu()
        <a href="classes/PhotoRigma-Classes-Work.html#method_create_menu" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1532</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует массив данных для меню через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_menu</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$menu</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода create_menu() в классе Work_Template. Он
формирует массив данных для меню в зависимости от типа и активного пункта, выполняя запросы к базе данных и
проверяя права доступа пользователя.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Активный пункт меню:</p>
<ul>
<li>Указывается строка, соответствующая активному пункту меню (например, 'home', 'profile').</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$menu</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип меню:</p>
<ul>
<li>SHORT_MENU (0): Краткое горизонтальное меню.</li>
<li>LONG_MENU (1): Полное вертикальное меню.
Другие значения недопустимы и приведут к выбросу исключения InvalidArgumentException.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_create_menu#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный $menu или $action.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Данные для меню берутся из таблицы TBL_MENU.
Для получения дополнительной информации см. структуру таблицы.
Константы SHORT_MENU и LONG_MENU определяют тип меню:</p>
<ul>
<li>SHORT_MENU: Краткое горизонтальное меню.</li>
<li>LONG_MENU: Полное вертикальное меню.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что передаваемые параметры корректны, так как это может привести к ошибкам.
Также убедитесь, что права доступа пользователя настроены правильно.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_create_menu"><abbr title="\PhotoRigma\Classes\Work_Template::create_menu()">Work_Template::create_menu()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_header_internal"><abbr title="\PhotoRigma\Classes\Template::_page_header_internal()">Template::_page_header_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для генерации данных меню.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для меню.
Каждый элемент массива содержит:</p>
<ul>
<li>Ключ 'url': URL пункта меню (null, если пункт активен).</li>
<li>Ключ 'name': Название пункта меню (локализованное или дефолтное значение).
Если меню пустое, возвращается пустой массив.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_create_photo">
        create_photo()
        <a href="classes/PhotoRigma-Classes-Work.html#method_create_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1420</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует блок данных для вывода изображений различных типов через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">create_photo</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$type</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$id_photo</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">0</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода create_photo() в классе Work_CoreLogic.
Он генерирует данные для вывода изображений различных типов:</p>
<ul>
<li>'top':  Лучшее изображение (по рейтингу).</li>
<li>'last': Последнее загруженное изображение.</li>
<li>'cat':  Изображение из конкретной категории (требует указания <code class="prettyprint">$id_photo</code>).</li>
<li>'rand': Любое случайное изображение.</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$type</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">&#039;top&#039;</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип изображения:</p>
<ul>
<li>'top':  Лучшее изображение (по рейтингу).</li>
<li>'last': Последнее загруженное изображение.</li>
<li>'cat':  Изображение из конкретной категории (требует указания <code class="prettyprint">$id_photo</code>).</li>
<li>'rand': Любое случайное изображение.
По умолчанию: 'top'.
Допустимые значения: 'top', 'last', 'cat', 'rand'.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$id_photo</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">0</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор фото. Используется только при <code class="prettyprint">$type == 'cat'</code>.
Должен быть целым числом &gt;= <code class="prettyprint">0</code>.
По умолчанию: <code class="prettyprint">0</code>.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_create_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан недопустимый <code class="prettyprint">$type</code> или <code class="prettyprint">$id_photo &lt; 0</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\PDOException">PDOException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выборке данных из базы данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если файл изображения недоступен или не существует.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются следующие константы:</p>
<ul>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (<code class="prettyprint">category</code>).</li>
<li>TBL_PHOTO: Таблица для хранения данных об изображениях (<code class="prettyprint">photo</code>).</li>
<li>TBL_USERS: Таблица для хранения данных о пользователях (<code class="prettyprint">users</code>).</li>
<li>VIEW_RANDOM_PHOTO: Представление для выбора случайных изображений (<code class="prettyprint">random_photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа пользователя.
Убедитесь, что пользователь имеет право на просмотр изображений.
Если файл изображения недоступен или не существует, метод возвращает данные по умолчанию.
Проверка пути к файлу изображения гарантирует, что доступ возможен только к файлам внутри
директории, указанной в конфигурации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_create_photo"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::create_photo()">Work_CoreLogic::create_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_header_internal"><abbr title="\PhotoRigma\Classes\Template::_page_header_internal()">Template::_page_header_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для генерации данных фотографий.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_footer_internal"><abbr title="\PhotoRigma\Classes\Template::_page_footer_internal()">Template::_page_footer_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для генерации данных случайной фотографии.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода изображения:</p>
<ul>
<li>'name_block'           (string):      Название блока изображения (например, &quot;Лучшее фото&quot;).</li>
<li>'url'                  (string):      URL для просмотра полного изображения.</li>
<li>'thumbnail_url'        (string):      URL для миниатюры изображения.</li>
<li>'name'                 (string):      Название изображения.</li>
<li>'description'          (string):      Описание изображения.</li>
<li>'category_name'        (string):      Название категории.</li>
<li>'category_description' (string):      Описание категории.</li>
<li>'rate'                 (string):      Рейтинг изображения (например, &quot;Рейтинг: 5/10&quot;).</li>
<li>'url_user'             (string|null): URL профиля пользователя, добавившего изображение.</li>
<li>'real_name'            (string):      Реальное имя пользователя.</li>
<li>'category_url'         (string):      URL категории или пользовательского альбома.</li>
<li>'width'                (int):         Ширина изображения после масштабирования.</li>
<li>'height'               (int):         Высота изображения после масштабирования.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_del_photo">
        del_photo()
        <a href="classes/PhotoRigma-Classes-Work.html#method_del_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1267</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет изображение с указанным идентификатором через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">del_photo</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода del_photo() в классе Work_CoreLogic. Он
выполняет удаление изображения с указанным идентификатором, а также все упоминания об этом изображении в
таблицах сайта.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Идентификатор удаляемого изображения:</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_del_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если параметр photo_id имеет некорректный тип или значение.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при выполнении запросов к базе данных или удалении
файлов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через log_in_file().</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_PHOTO: Таблица для хранения данных об изображениях (photo).</li>
<li>TBL_CATEGORY: Таблица для хранения данных о категориях (category).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к правам доступа при удалении файлов. Убедитесь, что скрипт имеет необходимые права
на запись и чтение.
Удаление файлов и записей из базы данных необратимо. Убедитесь, что передан корректный идентификатор
изображения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_del_photo"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::del_photo()">Work_CoreLogic::del_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__delete_personal_content"><abbr title="\PhotoRigma\Classes\User::_delete_personal_content()">User::_delete_personal_content()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Внешний метод, реализующий окончательное удаление одного фото.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если удаление успешно, иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_encodename">
        encodename()
        <a href="classes/PhotoRigma-Classes-Work.html#method_encodename" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">672</span>

    </aside>

        <p class="phpdocumentor-summary">Транслитерация строки и замена знаков пунктуации на &quot;_&quot; через вызов публичного метода в дочернем классе.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">encodename</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$string</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот статический метод является фасадом для вызова публичного метода encodename() в дочернем классе
Work_Helper. Он выполняет транслитерацию не латинских символов в латиницу и заменяет все символы, кроме букв и
цифр, на <code class="prettyprint">&quot;_&quot;</code>.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$string</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Исходная строка:</p>
<ul>
<li>Если строка пустая, то она возвращается без обработки.</li>
<li>Рекомендуется использовать строки в кодировке UTF-8.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_encodename#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если расширение <code class="prettyprint">intl</code> недоступно, используется резервная таблица транслитерации.
Метод не гарантирует сохранение исходного формата строки, так как все специальные символы заменяются на
<code class="prettyprint">&quot;_&quot;</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Helper.html#method_encodename"><abbr title="\PhotoRigma\Classes\Work_Helper::encodename()">Work_Helper::encodename()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__edit_avatar"><abbr title="\PhotoRigma\Classes\User::_edit_avatar()">User::_edit_avatar()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для генерации уникального имени файла.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Строка после транслитерации и замены символов:</p>
<ul>
<li>Если после обработки строка становится пустой, генерируется уникальная последовательность.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_filt_email">
        filt_email()
        <a href="classes/PhotoRigma-Classes-Work.html#method_filt_email" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1233</span>

    </aside>

        <p class="phpdocumentor-summary">Заменяет символы в email-адресах через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">filt_email</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$email</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода filt_email() в классе Work_Security. Он
проверяет корректность формата email и заменяет символы '@' и '.' на '[at]' и '[dot]' соответственно для
затруднения автоматического парсинга email-адресов ботами.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$email</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Email-адрес для обработки:</p>
<ul>
<li>Должен быть непустым и соответствовать формату email (например, &quot;example@local.com&quot;).</li>
<li>Если email некорректен или пуст, метод возвращает пустую строку.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_filt_email#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует функцию <code class="prettyprint">filter_var()</code> для проверки формата email.
Это базовая проверка, и если требуется более строгая валидация, следует учитывать дополнительные
правила.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что входной email соответствует формату перед вызовом метода.
Если email некорректен или пуст, метод вернёт пустую строку.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html#method_filt_email"><abbr title="\PhotoRigma\Classes\Work_Security::filt_email()">Work_Security::filt_email()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Обработанный email-адрес, где символы '@' и '.' заменены на '[at]' и '[dot]'.
Если входной email некорректен или пуст, возвращается пустая строка.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_find_action_file">
        find_action_file()
        <a href="classes/PhotoRigma-Classes-Work.html#method_find_action_file" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1491</span>

    </aside>

        <p class="phpdocumentor-summary">Поиск файла действия.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">find_action_file</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string|null&nbsp;</span><span class="phpdocumentor-signature__argument__name">$action</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Метод передаёт управление внутреннему методу <code class="prettyprint">find_action_file()</code> из дочерного класса <code class="prettyprint">Work_CoreLogic</code>.
Используется для получения:</p>
<ul>
<li>Имени действия</li>
<li>Полного пути к .php-файлу в директории $this-&gt;config['action_dir']</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$action</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|null</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя действия из $_GET или NULL (для CLI)
Пример: 'admin', 'profile'</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_find_action_file#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается, если файл действия не найден</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках проверки входных данных через check_input()</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Реализация находится в <code class="prettyprint">_find_action_file_internal()</code>
Поддерживает вызов как через веб, так и через CLI</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Не используйте недопустимые символы в $action — это может привести к ошибкам</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_find_action_file"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::find_action_file()">Work_CoreLogic::find_action_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод логики поиска файла из дочерного класса.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>[
'action_name' =&gt; string,
'full_path'   =&gt; string
]
Возвращает имя действия и путь к найденному файлу</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_fix_file_extension">
        fix_file_extension()
        <a href="classes/PhotoRigma-Classes-Work.html#method_fix_file_extension" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1832</span>

    </aside>

        <p class="phpdocumentor-summary">Корректировка расширения файла в соответствии с его MIME-типом через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">fix_file_extension</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода fix_file_extension() в классе Work_Image.
Он проверяет MIME-тип файла и корректирует или добавляет расширение, соответствующее типу файла.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу:</p>
<ul>
<li>Путь должен быть абсолютным, соответствовать регулярному выражению
<code class="prettyprint">/^[a-zA-Z0-9\/\.\-_]+$/</code>, и файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_fix_file_extension#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>В следующих случаях:</p>
<ul>
<li>Если путь к файлу имеет недопустимый формат.</li>
<li>Если файл не существует или недоступен.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>В следующих случаях:</p>
<ul>
<li>Если MIME-тип файла не поддерживается.</li>
<li>Если файл недоступен для чтения.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение с ошибкой, если MIME-тип файла не поддерживается.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_fix_file_extension"><abbr title="\PhotoRigma\Classes\Work_Image::fix_file_extension()">Work_Image::fix_file_extension()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-User.html#method__edit_avatar"><abbr title="\PhotoRigma\Classes\User::_edit_avatar()">User::_edit_avatar()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для корректировки расширения файла на основе его
MIME-типа.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Полный путь к файлу с правильным расширением:</p>
<ul>
<li>Если расширение было изменено или добавлено, возвращается новый путь.</li>
<li>Если расширение уже корректное, возвращается исходный путь.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_gen_captcha">
        gen_captcha()
        <a href="classes/PhotoRigma-Classes-Work.html#method_gen_captcha" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1202</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует математический CAPTCHA-вопрос и ответ через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">gen_captcha</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода gen_captcha() в классе Work_Security. Он
генерирует случайное математическое выражение и вычисляет его результат для защиты от спам-ботов.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_gen_captcha#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Random\RandomException">RandomException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при генерации случайных чисел с помощью <code class="prettyprint">random_int()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует <code class="prettyprint">random_int()</code> для генерации случайных чисел, что обеспечивает криптографическую
безопасность. Если требуется замена на менее безопасную функцию, можно использовать <code class="prettyprint">rand()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что PHP поддерживает функцию <code class="prettyprint">random_int()</code>, так как её отсутствие приведёт к ошибке.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html#method_gen_captcha"><abbr title="\PhotoRigma\Classes\Work_Security::gen_captcha()">Work_Security::gen_captcha()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с ключами 'question' и 'answer':</p>
<ul>
<li>Ключ 'question' содержит строку математического выражения (например, &quot;2 x (3 + 4)&quot;).</li>
<li>Ключ 'answer' содержит целочисленный результат вычисления (например, 14).</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_get_languages">
        get_languages()
        <a href="classes/PhotoRigma-Classes-Work.html#method_get_languages" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1332</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные языки из директории /language/ через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">get_languages</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода get_languages() в классе Work_CoreLogic.
Он выполняет загрузку доступных языков, проверяя поддиректории в <code class="prettyprint">/language/</code> и безопасно подключая файлы
<code class="prettyprint">main.php</code> для получения названий языков.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_get_languages#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если:</p>
<ul>
<li>Директория <code class="prettyprint">/language/</code> недоступна или не существует.</li>
<li>Ни один язык не найден в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к структуре директории <code class="prettyprint">/language/</code> и содержимому файла <code class="prettyprint">main.php</code>.
Убедитесь, что:</p>
<ul>
<li>Файл <code class="prettyprint">main.php</code> содержит корректную переменную <code class="prettyprint">lang_name</code> (строка, не пустая).</li>
<li>Поддиректории находятся внутри директории <code class="prettyprint">/language/</code>.
Если директория <code class="prettyprint">/language/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_languages"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::get_languages()">Work_CoreLogic::get_languages()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о доступных языках. Каждый элемент массива содержит:</p>
<ul>
<li><code class="prettyprint">value</code>: Имя директории языка (строка).</li>
<li><code class="prettyprint">name</code>: Название языка из файла <code class="prettyprint">main.php</code> (строка).</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_get_themes">
        get_themes()
        <a href="classes/PhotoRigma-Classes-Work.html#method_get_themes" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1359</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает доступные темы из директории /themes/ через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">get_themes</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода get_themes() в классе Work_CoreLogic. Он
выполняет загрузку доступных тем, проверяя поддиректории в <code class="prettyprint">/themes/</code> и добавляя их в список доступных тем.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_get_themes#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> не существует или недоступна для чтения.</li>
<li>Ни одна тема не найдена в указанной директории.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При записи ошибок в лог через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к структуре директории <code class="prettyprint">/themes/</code>.
Убедитесь, что:</p>
<ul>
<li>Директория <code class="prettyprint">/themes/</code> существует и доступна для чтения.</li>
<li>Поддиректории находятся внутри директории <code class="prettyprint">/themes/</code>.
Если директория <code class="prettyprint">/themes/</code> пуста или содержит недоступные поддиректории, метод выбрасывает исключение.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_get_themes"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::get_themes()">Work_CoreLogic::get_themes()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с именами доступных тем (строки).</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_image_attach">
        image_attach()
        <a href="classes/PhotoRigma-Classes-Work.html#method_image_attach" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1799</span>

    </aside>

        <p class="phpdocumentor-summary">Вывод изображения через HTTP через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">image_attach</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$name_file</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода image_attach() в классе Work_Image. Он
проверяет существование файла, определяет его MIME-тип, отправляет заголовки HTTP и выводит содержимое файла.
После завершения отправки скрипт завершает выполнение.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Полный путь к файлу:</p>
<ul>
<li>Путь должен быть абсолютным, и файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$name_file</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя файла для заголовка <code class="prettyprint">Content-Disposition</code>:</p>
<ul>
<li>Имя должно быть корректным (например, без запрещённых символов).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_image_attach#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение скрипта (<code class="prettyprint">exit</code>), отправляя заголовки и содержимое файла.
Дополнительные заголовки безопасности:</p>
<ul>
<li><code class="prettyprint">X-Content-Type-Options: nosniff</code></li>
<li><code class="prettyprint">X-Frame-Options: DENY</code></li>
<li><code class="prettyprint">X-XSS-Protection: 1; mode=block</code></li>
<li><code class="prettyprint">Referrer-Policy: no-referrer</code></li>
<li><code class="prettyprint">Content-Security-Policy: default-src 'self'; img-src 'self' data:;</code></li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод завершает выполнение скрипта (<code class="prettyprint">exit</code>), отправляя заголовки и содержимое файла.
Убедитесь, что файл существует и доступен для чтения перед вызовом метода.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_attach"><abbr title="\PhotoRigma\Classes\Work_Image::image_attach()">Work_Image::image_attach()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    
    <section class="phpdocumentor-attributes">
        <h5 class="phpdocumentor-elements__header" id="attributes">
            Attributes <a href="classes/PhotoRigma-Classes-Work.html#method_image_attach#attributes" class="headerlink"><i class="fas fa-link"></i></a>

        </h5>
                    <dl class="phpdocumentor-argument-list">
    <dt class="phpdocumentor-argument-list__entry">
        #[<abbr title="\JetBrains\PhpStorm\NoReturn">NoReturn</abbr>]
    </dt>
    </dl>
            </section>

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">void</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Метод ничего не возвращает. Завершает выполнение скрипта после отправки заголовков и содержимого
файла.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_image_resize">
        image_resize()
        <a href="classes/PhotoRigma-Classes-Work.html#method_image_resize" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1730</span>

    </aside>

        <p class="phpdocumentor-summary">Изменяет размер изображения через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">image_resize</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$full_path</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$thumbnail_path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода image_resize() в классе Work_Image. Он
изменяет размер исходного изображения и сохраняет результат как эскиз, проверяя корректность путей, размеры
изображения и доступность директорий.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$full_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к исходному изображению:</p>
<ul>
<li>Путь должен быть абсолютным, соответствовать регулярному выражению
<code class="prettyprint">/^[a-zA-Z0-9\/\.\-_]+$/</code>, и файл должен существовать и быть доступным для
чтения.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$thumbnail_path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь для сохранения эскиза:</p>
<ul>
<li>Путь должен быть абсолютным, и директория должна быть доступна для записи.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_image_resize#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если пути к файлам некорректны или имеют недопустимый формат.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникли ошибки при проверке файлов, директорий или размеров изображения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод использует следующие константы класса Work_Image для ограничения размеров исходного изображения:</p>
<ul>
<li><code class="prettyprint">MAX_IMAGE_WIDTH</code>:  Максимальная ширина исходного изображения (в пикселях). Значение: 5000.</li>
<li><code class="prettyprint">MAX_IMAGE_HEIGHT</code>: Максимальная высота исходного изображения (в пикселях). Значение: 5000.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code>, <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.
Убедитесь, что пути к файлам и директориям корректны перед вызовом метода.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_image_resize"><abbr title="\PhotoRigma\Classes\Work_Image::image_resize()">Work_Image::image_resize()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если операция выполнена успешно, иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_news">
        news()
        <a href="classes/PhotoRigma-Classes-Work.html#method_news" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1302</span>

    </aside>

        <p class="phpdocumentor-summary">Получает данные о новостях в зависимости от типа запроса через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">news</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$act</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода news() в классе Work_CoreLogic. Он
выполняет запросы к базе данных для получения данных о новостях:</p>
<ul>
<li>Для <code class="prettyprint">$act = 'id'</code>: Возвращает новость по её ID.</li>
<li>Для <code class="prettyprint">$act = 'last'</code>: Возвращает список новостей с сортировкой по дате последнего редактирования.</li>
</ul>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$news_id_or_limit</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество новостей или ID новости (в зависимости от параметра <code class="prettyprint">$act</code>):</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$act</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Тип запроса:</p>
<ul>
<li><code class="prettyprint">'id'</code>: Получение новости по её ID.</li>
<li><code class="prettyprint">'last'</code>: Получение списка новостей с сортировкой по дате последнего
редактирования.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_news#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный <code class="prettyprint">$act</code> или <code class="prettyprint">$news_id_or_limit</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при выполнении запроса к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_NEWS: Таблица для хранения данных о новостях (<code class="prettyprint">news</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к корректности входных параметров <code class="prettyprint">$news_id_or_limit</code> и <code class="prettyprint">$act</code>.
Убедитесь, что передаются допустимые значения.
Если новости не найдены, метод возвращает пустой массив.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_news"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::news()">Work_CoreLogic::news()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными о новостях. Если новостей нет, возвращается пустой массив.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_no_photo">
        no_photo()
        <a href="classes/PhotoRigma-Classes-Work.html#method_no_photo" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1763</span>

    </aside>

        <p class="phpdocumentor-summary">Возвращает данные для отсутствующего изображения через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">no_photo</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода no_photo() в классе Work_Image. Он
формирует массив данных, который используется для представления информации об отсутствующем изображении. Это
может быть полезно, например, если изображение не найдено или недоступно.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_no_photo#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">site_url</code>, <code class="prettyprint">site_dir</code>, <code class="prettyprint">gallery_folder</code>,
<code class="prettyprint">thumbnail_folder</code>). Если эти параметры некорректны, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_no_photo"><abbr title="\PhotoRigma\Classes\Work_Image::no_photo()">Work_Image::no_photo()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных об изображении или его отсутствии:</p>
<ul>
<li>'url'                  (string): URL полноразмерного изображения.</li>
<li>'thumbnail_url'        (string): URL эскиза изображения.</li>
<li>'name'                 (string): Название изображения. Значение по умолчанию: <code class="prettyprint">'No photo'</code>.</li>
<li>'description'          (string): Описание изображения. Значение по умолчанию: <code class="prettyprint">'No photo available'</code>.</li>
<li>'category_name'        (string): Название категории. Значение по умолчанию: <code class="prettyprint">'No category'</code>.</li>
<li>'category_description' (string): Описание категории. Значение по умолчанию: <code class="prettyprint">'No category available'</code>.</li>
<li>'rate'                 (string): Рейтинг изображения. Значение по умолчанию: <code class="prettyprint">'Rate: 0/0'</code>.</li>
<li>'url_user'             (string): URL пользователя. Значение по умолчанию: пустая строка (<code class="prettyprint">''</code>).</li>
<li>'real_name'            (string): Имя пользователя. Значение по умолчанию: <code class="prettyprint">'No user'</code>.</li>
<li>'full_path'            (string): Полный путь к изображению. Формируется на основе конфигурации.</li>
<li>'thumbnail_path'       (string): Полный путь к эскизу. Формируется на основе конфигурации.</li>
<li>'file'                 (string): Имя файла. Значение по умолчанию: <code class="prettyprint">'no_foto.png'</code>.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_process_rating">
        process_rating()
        <a href="classes/PhotoRigma-Classes-Work.html#method_process_rating" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1459</span>

    </aside>

        <p class="phpdocumentor-summary">Добавляет новую оценку в таблицу и возвращает среднюю оценку через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">process_rating</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$table</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$photo_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_id</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$rate_value</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">float</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода process_rating() в классе Work_CoreLogic.
Он выполняет добавление новой оценки в указанную таблицу, проверяет успешность вставки и возвращает среднюю
оценку для фотографии.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$table</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Имя таблицы для вставки оценки:</p>
<ul>
<li><code class="prettyprint">'rate_user'</code>: Таблица с оценками фотографий от пользователей.</li>
<li><code class="prettyprint">'rate_moder'</code>: Таблица с оценками фотографий от модераторов.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$photo_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID фотографии:</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>ID пользователя:</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$rate_value</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Значение оценки:</p>
<ul>
<li>Должен быть целым числом в диапазоне допустимых значений (например, 1–5).</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_process_rating#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение, если не удалось добавить оценку. Причина:
<code class="prettyprint">get_last_insert_id()</code> возвращает <code class="prettyprint">0</code>, что указывает на неудачную вставку.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используются константы:</p>
<ul>
<li>TBL_PHOTO: Таблица для хранения данных о фотографиях (<code class="prettyprint">photo</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Параметр <code class="prettyprint">$table</code> соответствует одной из допустимых таблиц (<code class="prettyprint">'rate_user'</code> или <code class="prettyprint">'rate_moder'</code>).</li>
<li>В СУБД настроены триггеры и функции для перерасчета средней оценки.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_process_rating"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::process_rating()">Work_CoreLogic::process_rating()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">float</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает число с плавающей точкой, представляющее среднюю оценку.
Если оценок нет, возвращается <code class="prettyprint">0</code>.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_remove_directory">
        remove_directory()
        <a href="classes/PhotoRigma-Classes-Work.html#method_remove_directory" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1863</span>

    </aside>

        <p class="phpdocumentor-summary">Удаляет директорию и её содержимое через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">remove_directory</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода remove_directory() в классе Work_Image.
Он удаляет указанную директорию и всё её содержимое, предварительно проверяя права доступа.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к директории:</p>
<ul>
<li>Должен быть строкой, указывающей на существующую директорию.</li>
<li>Директория должна быть доступна для записи.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_remove_directory#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если директория не существует.</li>
<li>Если директория недоступна для записи.</li>
<li>Если не удалось удалить файл внутри директории.</li>
<li>Если не удалось удалить саму директорию.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод рекурсивно удаляет все файлы внутри директории.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используйте этот метод с осторожностью, так как удаление директории необратимо.
Убедитесь, что переданная директория действительно должна быть удалена.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_remove_directory"><abbr title="\PhotoRigma\Classes\Work_Image::remove_directory()">Work_Image::remove_directory()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Возвращает <code class="prettyprint">true</code>, если директория успешно удалена.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_return_bytes">
        return_bytes()
        <a href="classes/PhotoRigma-Classes-Work.html#method_return_bytes" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">517</span>

    </aside>

        <p class="phpdocumentor-summary">Преобразует размер в байты через вызов публичного метода в дочернем классе.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">return_bytes</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string|int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$val</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">int</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот статический метод является фасадом для вызова публичного метода return_bytes() в дочернем классе
Work_Helper. Он преобразует размер, заданный в формате &quot;число[K|M|G]&quot;, в количество байт.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$val</span>
                : <span class="phpdocumentor-signature__argument__return-type">string|int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Размер в формате &quot;число[K|M|G]&quot; или число:</p>
<ul>
<li>Поддерживаются суффиксы: K (килобайты), M (мегабайты), G (гигабайты).</li>
<li>Если суффикс недопустим, значение считается в байтах.</li>
<li>Отрицательные числа преобразуются в положительные.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_return_bytes#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если суффикс недопустим, он игнорируется, и значение преобразуется в число.
Метод чувствителен к формату входных данных. Убедитесь, что они корректны.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Helper.html#method_return_bytes"><abbr title="\PhotoRigma\Classes\Work_Helper::return_bytes()">Work_Helper::return_bytes()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">int</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Размер в байтах. Возвращает <code class="prettyprint">0</code> для некорректных входных данных.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_lang">
        set_lang()
        <a href="classes/PhotoRigma-Classes-Work.html#method_set_lang" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">784</span>

    </aside>

        <p class="phpdocumentor-summary">Устанавливает языковые данные через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_lang</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для защищённого метода <code class="prettyprint">_set_lang_internal()</code>. Он выполняет загрузку и
обработку файлов языковых данных, передавая их в текущий класс и дочерние компоненты. Метод предназначен для
использования клиентским кодом как точка входа для установки языковых данных.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_set_lang#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если массив языковых данных некорректен (например, отсутствует ключ <code class="prettyprint">'lang'</code> или
содержатся ошибки).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникают проблемы с файлами языковых данных (например, файл отсутствует,
недоступен для чтения или не содержит обязательный файл <code class="prettyprint">main.php</code>).</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\JsonException">JsonException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках кодирования/декодирования JSON.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках логирования через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Этот метод является точкой входа для установки языковых данных. Все проверки и обработка выполняются в
защищённом методе <code class="prettyprint">_set_lang_internal()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если файлы языковых данных отсутствуют, содержат ошибки или недоступны для чтения, метод выбрасывает
исключение.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal"><abbr title="\PhotoRigma\Classes\Work::_set_lang_internal()">Work::_set_lang_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, который выполняет основную логику
установки языковых данных.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_set_user">
        set_user()
        <a href="classes/PhotoRigma-Classes-Work.html#method_set_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1151</span>

    </aside>

        <p class="phpdocumentor-summary">Установка объекта пользователя через сеттер.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">set_user</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод позволяет установить объект пользователя, реализующий интерфейс <code class="prettyprint">User_Interface</code>.
Метод выполняет следующие действия:</p>
<ol>
<li>Проверяет, что переданный объект является экземпляром класса, реализующего интерфейс <code class="prettyprint">User_Interface</code>.</li>
<li>Передаёт объект пользователя в связанные компоненты системы (<code class="prettyprint">Work_Template</code> и <code class="prettyprint">Work_CoreLogic</code>) для
дальнейшего использования.</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-User-Interface.html"><abbr title="\PhotoRigma\Interfaces\User_Interface">User_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект пользователя:</p>
<ul>
<li>Должен быть экземпляром класса, реализующего интерфейс <code class="prettyprint">User_Interface</code>.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_set_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если передан некорректный объект (не экземпляр интерфейса <code class="prettyprint">User_Interface</code>).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод проверяет тип переданного объекта.
Объект пользователя используется в связанных компонентах системы (например, для авторизации,
управления правами доступа и т.д.).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Некорректный объект (не экземпляр интерфейса <code class="prettyprint">User_Interface</code>) вызывает исключение.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><abbr title="\PhotoRigma\Classes\User_Interface">User_Interface</abbr></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс, которому должен соответствовать объект пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_user"><abbr title="\PhotoRigma\Classes\Work_Template::set_user()">Work_Template::set_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, использующий объект пользователя.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_user"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::set_user()">Work_CoreLogic::set_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, использующий объект пользователя.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_size_image">
        size_image()
        <a href="classes/PhotoRigma-Classes-Work.html#method_size_image" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1694</span>

    </aside>

        <p class="phpdocumentor-summary">Вычисляет размеры для вывода эскиза изображения через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">size_image</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$path_image</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода size_image() в классе Work_Image. Он
вычисляет ширину и высоту эскиза на основе реальных размеров изображения и конфигурационных параметров.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$path_image</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Путь к файлу изображения:</p>
<ul>
<li>Путь должен быть абсолютным, и файл должен существовать и быть доступным для чтения.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_size_image#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается исключение в следующих случаях:</p>
<ul>
<li>Если файл не существует.</li>
<li>Если не удалось получить размеры изображения.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в конфигурации (<code class="prettyprint">temp_photo_w</code> и <code class="prettyprint">temp_photo_h</code>).
Если эти параметры некорректны, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Image.html#method_size_image"><abbr title="\PhotoRigma\Classes\Work_Image::size_image()">Work_Image::size_image()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__create_photo_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_create_photo_internal()">Work_CoreLogic::_create_photo_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для вычисления размеров изображения.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с шириной и высотой эскиза:</p>
<ul>
<li>Ключ <code class="prettyprint">'width'</code> (int): Ширина эскиза (целое число ≥ 0).</li>
<li>Ключ <code class="prettyprint">'height'</code> (int): Высота эскиза (целое число ≥ 0).
Размеры могут совпадать с оригинальными размерами изображения,
если оно меньше целевого размера.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_best_user">
        template_best_user()
        <a href="classes/PhotoRigma-Classes-Work.html#method_template_best_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1664</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует список пользователей, загрузивших наибольшее количество изображений, через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_best_user</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$best_user</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">1</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода template_best_user() в классе
Work_Template. Он выполняет запросы к базе данных для получения списка пользователей, загрузивших наибольшее
количество изображений, и формирует массив данных для вывода в шаблон. Метод использует данные: только
активированных пользователей, с подтверждённой почтой и не удалённых. Помечает заблокированных пользователей
булевым полем.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$best_user</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">1</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Количество лучших пользователей для вывода:</p>
<ul>
<li>Должно быть положительным целым числом.
Если передано недопустимое значение, выбрасывается исключение InvalidArgumentException.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_template_best_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если параметр $best_user не является положительным целым числом.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если запрос к базе данных не возвращает данных, добавляется запись &quot;пустого&quot; пользователя:</p>
<ul>
<li>user_url: null.</li>
<li>user_name: '---'.</li>
<li>user_photo: '-'.</li>
<li>banned: false
Константы, которые определяют таблицы:</li>
<li>TBL_USERS: Таблица пользователей с их правами.</li>
<li>TBL_PHOTO: Таблица со списком фотографий на сервере.</li>
<li>TBL_USERS_BANS: Таблица определения заблокированных пользователей.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что таблицы базы данных (TBL_USERS, TBL_PHOTO, TBL_USERS_BANS)
содержат корректные данные. Ошибки в структуре таблиц могут привести к некорректному результату.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_best_user"><abbr title="\PhotoRigma\Classes\Work_Template::template_best_user()">Work_Template::template_best_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_footer_internal"><abbr title="\PhotoRigma\Classes\Template::_page_footer_internal()">Template::_page_footer_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для генерации данных о лучших
пользователях.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив данных для вывода в шаблон:</p>
<ul>
<li>NAME_BLOCK:   Название блока (локализованное).</li>
<li>L_USER_NAME:  Подпись для имени пользователя (локализованная строка).</li>
<li>L_USER_PHOTO: Подпись для количества фотографий (локализованная строка).</li>
<li>user_url:     Ссылка на профиль пользователя (null, если данных нет).</li>
<li>user_name:    Имя пользователя ('---', если данных нет).</li>
<li>user_photo:   Количество загруженных фотографий ('-', если данных нет).</li>
<li>banned:       Булево значение, указывающее, находится ли пользователь в бане.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_stat">
        template_stat()
        <a href="classes/PhotoRigma-Classes-Work.html#method_template_stat" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1618</span>

    </aside>

        <p class="phpdocumentor-summary">Генерирует массив статистических данных для шаблона через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_stat</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является фасадом и перенаправляет вызов на реализацию в дочернем классе
<code class="prettyprint">Work_Template::template_stat()</code>. Он обеспечивает единый интерфейс для получения общей статистики сайта,
независимо от конкретной реализации в подклассе.
Метод должен использоваться как основная точка входа для клиентского кода, минимизируя прямые зависимости от
дочерних реализаций.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_template_stat#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если возникает ошибка при выполнении запросов к базе данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При выполнении запросов к базам данных.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Реализация должна быть предоставлена в дочернем классе Work_Template.
Фасад гарантирует совместимость и единую сигнатуру вызова.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Не рекомендуется переопределять этот метод в дочерних классах. Для изменения логики
следует изменять реализацию в дочернем классе, сохраняя контракт метода.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_stat"><abbr title="\PhotoRigma\Classes\Work_Template::template_stat()">Work_Template::template_stat()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_footer_internal"><abbr title="\PhotoRigma\Classes\Template::_page_footer_internal()">Template::_page_footer_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для генерации статистики.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Ассоциативный массив данных для вывода статистики:</p>
<ul>
<li>NAME_BLOCK:        Название блока статистики (локализованное).</li>
<li>L_STAT_REGIST:     Подпись для количества зарегистрированных пользователей.</li>
<li>D_STAT_REGIST:     Количество зарегистрированных пользователей.</li>
<li>L_STAT_PHOTO:      Подпись для количества фотографий.</li>
<li>D_STAT_PHOTO:      Количество фотографий.</li>
<li>L_STAT_CATEGORY:   Подпись для количества категорий.</li>
<li>D_STAT_CATEGORY:   Количество категорий (включая пользовательские альбомы).</li>
<li>L_STAT_USER_ADMIN: Подпись для количества администраторов.</li>
<li>D_STAT_USER_ADMIN: Количество администраторов.</li>
<li>L_STAT_USER_MODER: Подпись для количества модераторов.</li>
<li>D_STAT_USER_MODER: Количество модераторов.</li>
<li>L_STAT_RATE_USER:  Подпись для количества пользовательских оценок.</li>
<li>D_STAT_RATE_USER:  Количество пользовательских оценок.</li>
<li>L_STAT_RATE_MODER: Подпись для количества модераторских оценок.</li>
<li>D_STAT_RATE_MODER: Количество модераторских оценок.</li>
<li>L_STAT_ONLINE:     Подпись для онлайн-пользователей.</li>
<li>D_STAT_ONLINE:     Список онлайн-пользователей (HTML-ссылки) или сообщение об отсутствии
онлайн-пользователей.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_template_user">
        template_user()
        <a href="classes/PhotoRigma-Classes-Work.html#method_template_user" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1572</span>

    </aside>

        <p class="phpdocumentor-summary">Формирует блок пользователя через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">template_user</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода template_user() в классе Work_Template.
Он формирует массив данных для блока пользователя, который используется для отображения в шаблоне. Блок
зависит от статуса авторизации пользователя:</p>
<ul>
<li>Для неавторизованных пользователей: ссылки на вход, восстановление пароля и регистрацию.</li>
<li>Для авторизованных пользователей: приветствие, группа и аватар.</li>
</ul>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_template_user#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если данные пользователя некорректны.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Random\RandomException">RandomException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибке генерации CSRF-токена.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При ошибках проверки MIME-типа файла или логирования.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Константа DEFAULT_AVATAR определяет значение аватара по умолчанию (например, 'no_avatar.jpg').</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что объект пользователя корректно установлен перед вызовом метода.
Также убедитесь, что конфигурация аватаров настроена правильно.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_template_user"><abbr title="\PhotoRigma\Classes\Work_Template::template_user()">Work_Template::template_user()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Template.html#method__page_footer_internal"><abbr title="\PhotoRigma\Classes\Template::_page_footer_internal()">Template::_page_footer_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод, используемый для генерации данных о пользователе.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с данными для блока пользователя:</p>
<ul>
<li>Для неавторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное).</li>
<li>'CSRF_TOKEN': CSRF-токен для защиты формы.</li>
<li>'L_LOGIN', 'L_PASSWORD', 'L_ENTER', 'L_FORGOT_PASSWORD', 'L_REGISTRATION': Локализованные
строки.</li>
<li>'U_LOGIN', 'U_FORGOT_PASSWORD', 'U_REGISTRATION': URL для входа, восстановления пароля и
регистрации.</li>
</ul>
</li>
<li>Для авторизованных пользователей:
<ul>
<li>'NAME_BLOCK': Название блока (локализованное).</li>
<li>'L_HI_USER': Приветствие с именем пользователя (локализованное).</li>
<li>'L_GROUP': Группа пользователя (локализованная строка).</li>
<li>'U_AVATAR': URL аватара (или дефолтного аватара, если файл недоступен или некорректен).</li>
</ul>
</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_ubb">
        ubb()
        <a href="classes/PhotoRigma-Classes-Work.html#method_ubb" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">697</span>

    </aside>

        <p class="phpdocumentor-summary">Преобразует BBCode в HTML через вызов публичного метода в дочернем классе.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">ubb</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$text</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот статический метод является фасадом для вызова публичного метода ubb() в дочернем классе Work_Helper. Он
преобразует BBCode-теги в соответствующие HTML-теги, учитывая рекурсивную обработку вложенных тегов.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$text</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Текст с BBCode:</p>
<ul>
<li>Рекомендуется использовать строки в кодировке UTF-8.</li>
<li>Если строка пустая, она возвращается без обработки.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_ubb#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Если произошла ошибка при рекурсивной обработке BBCode.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод ограничивает глубину рекурсии для вложенных тегов (максимум 10 уровней).
Некорректные URL или изображения заменяются на безопасные значения или удаляются.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Helper.html#method_ubb"><abbr title="\PhotoRigma\Classes\Work_Helper::ubb()">Work_Helper::ubb()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Текст с HTML-разметкой:</p>
<ul>
<li>Некорректные BBCode-теги игнорируются или преобразуются в текст.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method_url_check">
        url_check()
        <a href="classes/PhotoRigma-Classes-Work.html#method_url_check" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1177</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет URL на наличие вредоносного кода через вызов внутреннего метода.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
                    <span class="phpdocumentor-signature__name">url_check</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот публичный метод является обёрткой для вызова внутреннего метода url_check() в классе Work_Security. Он
проверяет строку запроса из глобального массива <code class="prettyprint">$_SERVER['QUERY_STRING']</code> на наличие запрещённых паттернов,
определённых в массиве \PhotoRigma\Classes\Work_Security::$compiled_rules.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_url_check#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод работает с глобальным массивом <code class="prettyprint">$_SERVER['QUERY_STRING']</code>.
Убедитесь, что этот массив доступен и содержит корректные данные.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от корректности данных в свойстве\PhotoRigma\Classes\Work_Security::$compiled_rules.
Если правила некорректны, результат может быть непредсказуемым.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html#method_url_check"><abbr title="\PhotoRigma\Classes\Work_Security::url_check()">Work_Security::url_check()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method__find_action_file_internal"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::_find_action_file_internal()">Work_CoreLogic::_find_action_file_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Для проверки URL при вызове из веба</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если URL безопасен (не содержит запрещённых паттернов), иначе False.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_utf8_wordwrap">
        utf8_wordwrap()
        <a href="classes/PhotoRigma-Classes-Work.html#method_utf8_wordwrap" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">729</span>

    </aside>

        <p class="phpdocumentor-summary">Разбивает строку на несколько строк ограниченной длины через вызов публичного метода в дочернем классе.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">utf8_wordwrap</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$str</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$width</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">70</span><span> ]</span></span><span class="phpdocumentor-signature__argument"><span>[</span><span>, </span><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$break</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">PHP_EOL</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот статический метод является фасадом для вызова публичного метода utf8_wordwrap() в дочернем классе
Work_Helper. Он разбивает строку на несколько строк, каждая из которых имеет длину не более указанной. Разрыв
строки выполняется только по пробелам, чтобы сохранить читаемость текста.</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$str</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Исходная строка:</p>
<ul>
<li>Рекомендуется использовать строки в кодировке UTF-8.</li>
<li>Если строка пустая или её длина меньше или равна $width, она возвращается без изменений.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$width</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                 = <span class="phpdocumentor-signature__argument__default-value">70</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Максимальная длина строки (по умолчанию 70):</p>
<ul>
<li>Должен быть положительным целым числом.</li>
</ul>
</section>

            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$break</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                 = <span class="phpdocumentor-signature__argument__default-value">PHP_EOL</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Символ разрыва строки (по умолчанию PHP_EOL):</p>
<ul>
<li>Не должен быть пустой строкой.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_utf8_wordwrap#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод корректно работает только с UTF-8 символами.
Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка.
Если строка содержит многобайтовые символы, выполняется дополнительная корректировка разбиения.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Helper.html#method_utf8_wordwrap"><abbr title="\PhotoRigma\Classes\Work_Helper::utf8_wordwrap()">Work_Helper::utf8_wordwrap()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий основную
логику.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">string</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Строка, разбитая на несколько строк:</p>
<ul>
<li>В случае некорректных параметров возвращается исходная строка.</li>
</ul>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_validate_mime_type">
        validate_mime_type()
        <a href="classes/PhotoRigma-Classes-Work.html#method_validate_mime_type" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">756</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет MIME-тип файла через вызов публичного метода в дочернем классе.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>        <span class="phpdocumentor-signature__name">validate_mime_type</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">string&nbsp;</span><span class="phpdocumentor-signature__argument__name">$real_mime_type</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот статический метод является фасадом для вызова публичного метода validate_mime_type() в дочернем классе
Work_Helper. Он проверяет, поддерживается ли указанный MIME-тип хотя бы одной из доступных библиотек: Imagick,
Gmagick или встроенных функций PHP (GD).</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$real_mime_type</span>
                : <span class="phpdocumentor-signature__argument__return-type">string</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Реальный MIME-тип файла:</p>
<ul>
<li>Должен быть корректным MIME-типом для изображений.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method_validate_mime_type#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>При возникновении ошибок логирования информации через <code class="prettyprint">log_in_file</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод зависит от доступности библиотек (Imagick, Gmagick) и встроенных функций PHP по работе с
изображениями (GD). Если ни одна из библиотек недоступна, метод может некорректно работать.
Проверка выполняется последовательно, начиная с Imagick. Если MIME-тип поддерживается одной из
библиотек, дальнейшие проверки не выполняются.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Helper.html#method_validate_mime_type"><abbr title="\PhotoRigma\Classes\Work_Helper::validate_mime_type()">Work_Helper::validate_mime_type()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Публичный метод в дочернем классе, реализующий
основную логику.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Security.html#method__check_input_internal"><abbr title="\PhotoRigma\Classes\Work_Security::_check_input_internal()">Work_Security::_check_input_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки поддерживаемых MIME-типов.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method__template_user_internal"><abbr title="\PhotoRigma\Classes\Work_Template::_template_user_internal()">Work_Template::_template_user_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки MIME-типа файла.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">bool</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>True, если MIME-тип поддерживается хотя бы одной библиотекой, иначе false.</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__set_lang_internal">
        _set_lang_internal()
        <a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">857</span>

    </aside>

        <p class="phpdocumentor-summary">Загружает и обрабатывает файлы языковых данных, обновляя их в текущем классе и дочерних компонентах.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
                    <span class="phpdocumentor-signature__name">_set_lang_internal</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот защищённый метод выполняет следующие действия:</p>
<ol>
<li>Формирует массив путей к директориям языковых данных на основе конфигурации
(<code class="prettyprint">$this-&gt;config['language_dirs']</code>).</li>
<li>Сканирует каждую директорию с помощью <code class="prettyprint">DirectoryIterator</code> и формирует список файлов для загрузки:
<ul>
<li>Пропускаются неподходящие файлы (не <code class="prettyprint">.php</code>, <code class="prettyprint">index.php</code>).</li>
<li>Для каждого файла вычисляется CRC32 контрольная сумма содержимого.</li>
<li>Формируется уникальный ключ кеша для каждого файла.</li>
</ul>
</li>
<li>Проверяет наличие обязательного файла <code class="prettyprint">main.php</code>. Если файл отсутствует, выбрасывается исключение.</li>
<li>Обрабатывает каждый файл:
<ul>
<li>Загружает данные из файла через <code class="prettyprint">include()</code>. Файл должен возвращать массив с ключом <code class="prettyprint">'lang'</code>.</li>
<li>Если данные некорректны, логируются ошибки или выбрасываются исключения (для <code class="prettyprint">main.php</code>).</li>
<li>Проверяет актуальность данных в кеше через <code class="prettyprint">$this-&gt;cache-&gt;is_valid()</code>. Если кеш актуален, данные
используются из кеша.</li>
<li>Если кеш устарел или отсутствует, данные обрабатываются через <code class="prettyprint">_process_lang_array()</code>:
<ul>
<li>Логируются изменения (<code class="prettyprint">changes</code>) и ошибки (<code class="prettyprint">errors</code>).</li>
<li>При наличии ошибок в <code class="prettyprint">main.php</code> выбрасывается исключение.</li>
</ul>
</li>
<li>Данные сохраняются в кеш через <code class="prettyprint">$this-&gt;cache-&gt;update_cache()</code>.</li>
</ul>
</li>
<li>Обновляет языковые данные в текущем классе (<code class="prettyprint">$this-&gt;lang</code>) и передаёт их в дочерние классы:
<ul>
<li><code class="prettyprint">Work_Template::$lang</code>.</li>
<li><code class="prettyprint">Work_CoreLogic::$lang</code>.
Метод является защищённым и предназначен для использования внутри класса или его наследников. Однако он может
быть вызван публично через фасад, например, через публичный метод <code class="prettyprint">set_lang</code>.</li>
</ul>
</li>
</ol>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">protected</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается в следующих случаях:</p>
<ul>
<li>Отсутствует хотя бы один подходящий файл языковых данных.</li>
<li>Отсутствует обязательный файл <code class="prettyprint">main.php</code>.</li>
<li>Файл языковых данных не возвращает массив с ключом <code class="prettyprint">'lang'</code>.</li>
<li>Некорректный или отсутствующий <code class="prettyprint">lang_id</code> в файле <code class="prettyprint">main.php</code>.</li>
<li>Не удалось сохранить данные в кеш.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\InvalidArgumentException">InvalidArgumentException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при обнаружении ошибок в массиве языковых данных в файле <code class="prettyprint">main.php</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\JsonException">JsonException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при ошибках кодирования JSON.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при ошибках логирования через <code class="prettyprint">log_in_file()</code>.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>(из Cache_Handler::is_valid) Выбрасывается в следующих случаях:</p>
<ul>
<li>Клиент хранилища Redis/Memcached не инициализирован или имеет неправильный тип (из
подметода <code class="prettyprint">_is_valid_storage</code>).</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\JsonException">JsonException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>(из Cache_Handler::is_valid) Выбрасывается при ошибках декодирования JSON:</p>
<ul>
<li>Для файлового кеширования: из подметода <code class="prettyprint">_is_valid_file</code>.</li>
<li>Для Redis/Memcached: из подметода <code class="prettyprint">_is_valid_storage</code>.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>(из Cache_Handler::update_cache) Выбрасывается в следующих случаях:</p>
<ul>
<li>Для файлового кеширования:
<ul>
<li>Если директория для кеша не существует или недоступна для записи.</li>
<li>Если файл кеша недоступен для записи.</li>
</ul>
</li>
<li>Для Redis/Memcached:
<ul>
<li>Если клиент хранилища не инициализирован или имеет неправильный тип.</li>
</ul>
</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\JsonException">JsonException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>(из Cache_Handler::update_cache) Выбрасывается при ошибках кодирования JSON.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Файлы языковых данных должны быть доступны для чтения и возвращать массив с ключом <code class="prettyprint">'lang'</code>.
Обязательный файл <code class="prettyprint">main.php</code> должен содержать корректный <code class="prettyprint">lang_id</code> в виде строки.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Если файлы языковых данных отсутствуют, содержат ошибки или недоступны для чтения, метод выбрасывает
исключение.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="namespaces/photorigma-include.html#function_log_in_file"><abbr title="\PhotoRigma\Include\log_in_file()">log_in_file()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Записывает сообщение об ошибке в лог-файл.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__process_lang_array"><abbr title="\PhotoRigma\Classes\Work::_process_lang_array()">Work::_process_lang_array()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки и обработки массива языковых данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_lang"><abbr title="\PhotoRigma\Classes\Work::$lang">Work::$lang</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство класса Work, которое изменяется.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-CoreLogic.html#method_set_lang"><abbr title="\PhotoRigma\Classes\Work_CoreLogic::set_lang()">Work_CoreLogic::set_lang()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод дочернего класса Work_CoreLogic.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work-Template.html#method_set_lang"><abbr title="\PhotoRigma\Classes\Work_Template::set_lang()">Work_Template::set_lang()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод дочернего класса Work_Template.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Cache-Handler-Interface.html"><abbr title="\PhotoRigma\Interfaces\Cache_Handler_Interface">Cache_Handler_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для работы с кешем.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Cache-Handler.html#method_is_valid"><abbr title="\PhotoRigma\Classes\Cache_Handler::is_valid()">Cache_Handler::is_valid()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки актуальности данных в кеше.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Cache-Handler.html#method_update_cache"><abbr title="\PhotoRigma\Classes\Cache_Handler::update_cache()">Cache_Handler::update_cache()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для записи данных в кеш.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_set_lang"><abbr title="\PhotoRigma\Classes\Work::set_lang()">Work::set_lang()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Защищённый метод, который выполняет основную логику
установки языковых данных.</p>
</section>

                                    </dd>
                        </dl>

    

    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__load_cached_config">
        _load_cached_config()
        <a href="classes/PhotoRigma-Classes-Work.html#method__load_cached_config" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">250</span>

    </aside>

        <p class="phpdocumentor-summary">Проверяет актуальность кеша конфигурации и обновляет его при необходимости.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">_load_cached_config</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a>&nbsp;</span><span class="phpdocumentor-signature__argument__name">$db</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие действия:</p>
<ol>
<li>Получает дату последнего изменения таблицы конфигурации (<code class="prettyprint">TBL_CONFIG</code>) из таблицы временных меток
(<code class="prettyprint">TBL_CHANGE_TIMESTAMP</code>).</li>
<li>Использует систему кеширования через <code class="prettyprint">$this-&gt;cache</code> для проверки актуальности данных:
<ul>
<li>Если кеш актуален, данные загружаются из кеша.</li>
<li>Если кеш устарел или отсутствует, данные загружаются из базы данных и записываются в кеш.</li>
</ul>
</li>
<li>Загружает версию базы данных из таблицы <code class="prettyprint">db_version</code>.</li>
<li>Читает версию приложения из файла по пути: <code class="prettyprint">WORK_DIR . '/config/ver.php'</code> (без использования <code class="prettyprint">eval()</code> или
<code class="prettyprint">include()</code> — только парсинг строки <code class="prettyprint">$ver = '...'</code>).</li>
<li>Возвращает ассоциативный массив с данными конфигурации, включая поля:
<ul>
<li><code class="prettyprint">'db_version'</code> — версия БД,</li>
<li><code class="prettyprint">'code_version'</code> — версия приложения.</li>
</ul>
</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$db</span>
                : <span class="phpdocumentor-signature__argument__return-type"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a></span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Объект базы данных для выполнения запросов.
Должен быть экземпляром класса, реализующего интерфейс <code class="prettyprint">Database_Interface</code>.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method__load_cached_config#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">internal</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\RuntimeException">RuntimeException</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается в следующих случаях:</p>
<ul>
<li>Не удалось получить дату последнего изменения таблицы <code class="prettyprint">TBL_CONFIG</code> из таблицы
<code class="prettyprint">TBL_CHANGE_TIMESTAMP</code>.</li>
<li>Не удалось загрузить данные из таблицы <code class="prettyprint">TBL_CONFIG</code>.</li>
<li>Не удалось записать данные в кеш.</li>
<li>Не удалось получить версию из таблицы <code class="prettyprint">db_version</code>.</li>
<li>Не удалось прочитать файл версии <code class="prettyprint">ver.php</code>.</li>
<li>Файл <code class="prettyprint">ver.php</code> не содержит корректную строку <code class="prettyprint">$ver = '...'</code>.</li>
<li>Значение <code class="prettyprint">$ver</code> не является непустой строкой.</li>
</ul>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">throws</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                <span class="phpdocumentor-tag-link"><abbr title="\Exception">Exception</abbr></span>
                                                            
                                                 <section class="phpdocumentor-description"><p>Выбрасывается при ошибках выполнения SQL-запроса через <code class="prettyprint">$db-&gt;select()</code>.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Для указания таблиц базы данных используются константы:</p>
<ul>
<li><code class="prettyprint">TBL_CONFIG</code>: Таблица с настройками сервера. Например: '<code class="prettyprint">config</code>'.</li>
<li><code class="prettyprint">TBL_CHANGE_TIMESTAMP</code>: Таблица с временными метками изменений. Например: '<code class="prettyprint">change_timestamp</code>'.
Метод использует систему кеширования через объект <code class="prettyprint">$this-&gt;cache</code> (реализующий интерфейс
<code class="prettyprint">Cache_Handler_Interface</code>) для проверки актуальности данных (<code class="prettyprint">is_valid</code>) и записи новых данных в кеш
(<code class="prettyprint">update_cache</code>).</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Убедитесь, что:</p>
<ul>
<li>Таблица <code class="prettyprint">TBL_CHANGE_TIMESTAMP</code> содержит актуальные временные метки изменений для таблицы <code class="prettyprint">TBL_CONFIG</code>.</li>
<li>Система кеширования настроена и доступна для чтения/записи.</li>
<li>Файл <code class="prettyprint">ver.php</code> существует по указанному пути и содержит строго одну строку вида:
$ver = 'x.x.x';
Несоблюдение этих условий может привести к ошибкам при работе с кешем.</li>
</ul>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#property_config"><abbr title="\PhotoRigma\Classes\Work::$config">Work::$config</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Свойство, содержащее конфигурацию приложения.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Database-Interface.html"><abbr title="\PhotoRigma\Interfaces\Database_Interface">Database_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для работы с базой данных.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Interfaces-Cache-Handler-Interface.html"><abbr title="\PhotoRigma\Interfaces\Cache_Handler_Interface">Cache_Handler_Interface</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Интерфейс для работы с кешем.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Cache-Handler.html#method_is_valid"><abbr title="\PhotoRigma\Classes\Cache_Handler::is_valid()">Cache_Handler::is_valid()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки актуальности данных в кеше.</p>
</section>

                                    </dd>
                            <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Cache-Handler.html#method_update_cache"><abbr title="\PhotoRigma\Classes\Cache_Handler::update_cache()">Cache_Handler::update_cache()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для записи данных в кеш.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method___construct"><abbr title="\PhotoRigma\Classes\Work::__construct()">Work::__construct()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для загрузки конфигурации через кеш.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Ассоциативный массив с данными конфигурации.
Например: ['site_name' =&gt; 'PhotoRigma', 'theme' =&gt; 'dark', 'db_version' =&gt; '0.4.4',
'code_version' =&gt; '0.4.3'].</p>
</section>

            </section>

</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                                        "
>
    <h4 class="phpdocumentor-element__name" id="method__process_lang_array">
        _process_lang_array()
        <a href="classes/PhotoRigma-Classes-Work.html#method__process_lang_array" class="headerlink"><i class="fas fa-link"></i></a>

    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="src/Classes/Work.php"><a href="files/src-classes-work.html"><abbr title="src/Classes/Work.php">Work.php</abbr></a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">1042</span>

    </aside>

        <p class="phpdocumentor-summary">Обрабатывает массив языковых переменных, проверяя его структуру и очищая значения. Возвращает массив с
информацией об ошибках, изменениях и обработанном массиве.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
                    <span class="phpdocumentor-signature__name">_process_lang_array</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;&nbsp;</span><span class="phpdocumentor-signature__argument__name">$lang</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span></code>

    <div class="phpdocumentor-label-line">
        </div>
    
        <section class="phpdocumentor-description"><p>Этот метод выполняет следующие шаги:</p>
<ol>
<li>Проверяет, что ключи первого уровня массива являются строками.</li>
<li>Проверяет, что значения первого уровня являются массивами.</li>
<li>Проверяет, что ключи второго уровня являются строками:
<ul>
<li>Если ключ не является строкой, он преобразуется в строку.</li>
<li>Старый ключ удаляется, а новый добавляется в массив.</li>
</ul>
</li>
<li>Проверяет, что значения второго уровня являются строками.</li>
<li>Очищает значения второго уровня через метод <code class="prettyprint">clean_field()</code> для защиты от XSS:
<ul>
<li>Если значение было изменено при очистке, сохраняется информация об оригинальном и очищенном значениях.</li>
</ul>
</li>
<li>Возвращает массив с результатами обработки:
<ul>
<li><code class="prettyprint">'errors'</code>: Массив ошибок, если они есть (например, некорректные ключи или значения).</li>
<li><code class="prettyprint">'changes'</code>: Массив изменений, если значения были очищены (содержит оригинальные и очищенные значения).</li>
<li><code class="prettyprint">'result'</code>: Обработанный массив языковых переменных.
Этот метод является приватным и предназначен только для использования внутри класса.</li>
</ul>
</li>
</ol>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$lang</span>
                : <span class="phpdocumentor-signature__argument__return-type">array&lt;string|int, mixed&gt;</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>Массив языковых переменных для обработки:</p>
<ul>
<li>Ключи первого уровня должны быть строками.</li>
<li>Значения первого уровня должны быть массивами.</li>
<li>Ключи второго уровня должны быть строками.</li>
<li>Значения второго уровня должны быть строками.</li>
</ul>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="classes/PhotoRigma-Classes-Work.html#method__process_lang_array#tags" class="headerlink"><i class="fas fa-link"></i></a>

    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">internal</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                             
                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">note</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Используется метод <code class="prettyprint">clean_field()</code> для очистки значений (защита от XSS).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">warning</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                
                                                 <section class="phpdocumentor-description"><p>Метод чувствителен к структуре входного массива. Некорректная структура может привести к ошибкам.</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">uses</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field"><abbr title="\PhotoRigma\Classes\Work::clean_field()">Work::clean_field()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для очистки и экранирования полей (защита от XSS).</p>
</section>

                                    </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">used-by</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal"><abbr title="\PhotoRigma\Classes\Work::_set_lang_internal()">Work::_set_lang_internal()</abbr></a></span>
                                        
                                                 <section class="phpdocumentor-description"><p>Метод для проверки и обработки массива языковых данных.</p>
</section>

                                    </dd>
                        </dl>

    

            <section>
        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
        <span class="phpdocumentor-signature__response_type">array&lt;string|int, mixed&gt;</span>
                    &mdash;
                <section class="phpdocumentor-description"><p>Массив с результатами обработки:</p>
<ul>
<li><code class="prettyprint">'errors'</code> (array): Массив ошибок, если они есть (например, некорректные ключи или значения).</li>
<li><code class="prettyprint">'changes'</code> (array): Массив изменений, если значения были очищены (содержит оригинальные и
очищенные значения).</li>
<li><code class="prettyprint">'result'</code> (array): Обработанный массив языковых переменных.</li>
</ul>
</section>

            </section>

</article>
            </section>

        <div class="phpdocumentor-modal" id="source-view">
    <div class="phpdocumentor-modal-bg" data-exit-button></div>
    <div class="phpdocumentor-modal-container">
        <div class="phpdocumentor-modal-content">
            <pre style="max-height: 500px; overflow-y: scroll" data-src="files/src/Classes/Work.php.txt" class="language-php line-numbers linkable-line-numbers"></pre>
        </div>
        <button data-exit-button class="phpdocumentor-modal__close">&times;</button>
    </div>
</div>

    <script type="text/javascript">
        (function () {
            function loadExternalCodeSnippet(el, url, line) {
                Array.prototype.slice.call(el.querySelectorAll('pre[data-src]')).forEach((pre) => {
                    const src = url || pre.getAttribute('data-src').replace(/\\/g, '/');
                    const language = 'php';

                    const code = document.createElement('code');
                    code.className = 'language-' + language;
                    pre.textContent = '';
                    pre.setAttribute('data-line', line)
                    code.textContent = 'Loading…';
                    pre.appendChild(code);

                    var xhr = new XMLHttpRequest();

                    xhr.open('GET', src, true);

                    xhr.onreadystatechange = function () {
                        if (xhr.readyState !== 4) {
                            return;
                        }

                        if (xhr.status < 400 && xhr.responseText) {
                            code.textContent = xhr.responseText;
                            Prism.highlightElement(code);
                            return;
                        }

                        if (xhr.status === 404) {
                            code.textContent = '✖ Error: File could not be found';
                            return;
                        }

                        if (xhr.status >= 400) {
                            code.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;
                            return;
                        }

                        code.textContent = '✖ Error: An unknown error occurred';
                    };

                    xhr.send(null);
                });
            }

            const modalButtons = document.querySelectorAll("[data-modal]");
            const openedAsLocalFile = window.location.protocol === 'file:';
            if (modalButtons.length > 0 && openedAsLocalFile) {
                console.warn(
                    'Viewing the source code is unavailable because you are opening this page from the file:// scheme; ' +
                    'browsers block XHR requests when a page is opened this way'
                );
            }

            modalButtons.forEach(function (trigger) {
                if (openedAsLocalFile) {
                    trigger.setAttribute("hidden", "hidden");
                }

                trigger.addEventListener("click", function (event) {
                    event.preventDefault();
                    const modal = document.getElementById(trigger.dataset.modal);
                    if (!modal) {
                        console.error(`Modal with id "${trigger.dataset.modal}" could not be found`);
                        return;
                    }
                    modal.classList.add("phpdocumentor-modal__open");

                    loadExternalCodeSnippet(modal, trigger.dataset.src || null, trigger.dataset.line)
                    const exits = modal.querySelectorAll("[data-exit-button]");
                    exits.forEach(function (exit) {
                        exit.addEventListener("click", function (event) {
                            event.preventDefault();
                            modal.classList.remove("phpdocumentor-modal__open");
                        });
                    });
                });
            });
        })();
    </script>

    </article>
                                </section>
                <section class="phpdocumentor-on-this-page__sidebar">
                                
    <section class="phpdocumentor-on-this-page__content">
        <strong class="phpdocumentor-on-this-page__title">On this page</strong>

        <ul class="phpdocumentor-list -clean">
            <li class="phpdocumentor-on-this-page-section__title">Table Of Contents</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                                            <li><a href="classes/PhotoRigma-Classes-Work.html#toc-properties">Properties</a></li>
                                                            <li><a href="classes/PhotoRigma-Classes-Work.html#toc-methods">Methods</a></li>
                                    </ul>
            </li>
            
                            <li class="phpdocumentor-on-this-page-section__title">Properties</li>
                <li>
                    <ul class="phpdocumentor-list -clean">
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_config">$config</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_lang">$lang</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_cache">$cache</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_config">$config</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_core_logic">$core_logic</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_image">$image</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_lang">$lang</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_security">$security</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_session">$session</a></li>
                                                    <li class=""><a href="classes/PhotoRigma-Classes-Work.html#property_template">$template</a></li>
                                            </ul>
                </li>
            
                        <li class="phpdocumentor-on-this-page-section__title">Methods</li>
            <li>
                <ul class="phpdocumentor-list -clean">
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method___construct">__construct()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method___get">__get()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method___isset">__isset()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method___set">__set()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_category">category()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_check_field">check_field()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_check_input">check_input()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_clean_field">clean_field()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_create_directory">create_directory()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_create_menu">create_menu()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_create_photo">create_photo()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_del_photo">del_photo()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_encodename">encodename()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_filt_email">filt_email()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_find_action_file">find_action_file()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_fix_file_extension">fix_file_extension()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_gen_captcha">gen_captcha()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_get_languages">get_languages()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_get_themes">get_themes()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_image_attach">image_attach()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_image_resize">image_resize()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_news">news()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_no_photo">no_photo()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_process_rating">process_rating()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_remove_directory">remove_directory()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_return_bytes">return_bytes()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_set_lang">set_lang()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_set_user">set_user()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_size_image">size_image()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_template_best_user">template_best_user()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_template_stat">template_stat()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_template_user">template_user()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_ubb">ubb()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_url_check">url_check()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_utf8_wordwrap">utf8_wordwrap()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method_validate_mime_type">validate_mime_type()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method__set_lang_internal">_set_lang_internal()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method__load_cached_config">_load_cached_config()</a></li>
                                            <li class=""><a href="classes/PhotoRigma-Classes-Work.html#method__process_lang_array">_process_lang_array()</a></li>
                                    </ul>
            </li>
                    </ul>
    </section>

                </section>
                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="classes/PhotoRigma-Classes-Work.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
