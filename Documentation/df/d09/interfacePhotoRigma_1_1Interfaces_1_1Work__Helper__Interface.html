<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Photo-Rigma-BiZ: Интерфейс Work_Helper_Interface</title>
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo-1.png"/></td>
  <td id="projectalign">
   <div id="projectname">Photo-Rigma-BiZ<span id="projectnumber">&#160;0.4.4</span>
   </div>
   <div id="projectbrief">Gallery_Photo-Rigma-BiZ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('df/d09/interfacePhotoRigma_1_1Interfaces_1_1Work__Helper__Interface.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Открытые статические члены</a> &#124;
<a href="../../d2/dcf/interfacePhotoRigma_1_1Interfaces_1_1Work__Helper__Interface-members.html">Полный список членов класса</a>  </div>
  <div class="headertitle"><div class="title">Интерфейс Work_Helper_Interface</div></div>
</div><!--header-->
<div class="contents">

<p>Интерфейс для вспомогательных методов.  
 <a href="#details">Подробнее...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Граф наследования:Work_Helper_Interface:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d4/da5/interfacePhotoRigma_1_1Interfaces_1_1Work__Helper__Interface__inherit__graph.png" border="0" usemap="#aWork__Helper__Interface_inherit__map" alt="Inheritance graph"/></div>
<map name="aWork__Helper__Interface_inherit__map" id="aWork__Helper__Interface_inherit__map">
<area shape="rect" title="Интерфейс для вспомогательных методов." alt="" coords="5,5,160,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html" title="Класс для выполнения вспомогательных задач." alt="" coords="34,78,131,103"/>
<area shape="poly" title=" " alt="" coords="85,46,85,78,80,78,80,46"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">см. легенду</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Открытые статические члены</h2></td></tr>
<tr class="memitem:a8ecb9d3a6cba675b7a2d72ddc14b53f3" id="r_a8ecb9d3a6cba675b7a2d72ddc14b53f3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ecb9d3a6cba675b7a2d72ddc14b53f3">clean_field</a> (string $field)</td></tr>
<tr class="memdesc:a8ecb9d3a6cba675b7a2d72ddc14b53f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Очищает строку от HTML-тегов и специальных символов.  <br /></td></tr>
<tr class="separator:a8ecb9d3a6cba675b7a2d72ddc14b53f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28b2ada9c4f3a71f7a2df9bb1387413" id="r_ac28b2ada9c4f3a71f7a2df9bb1387413"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac28b2ada9c4f3a71f7a2df9bb1387413">return_bytes</a> (string|int $val)</td></tr>
<tr class="memdesc:ac28b2ada9c4f3a71f7a2df9bb1387413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразует размер в формате "число[K|M|G]" в количество байт.  <br /></td></tr>
<tr class="separator:ac28b2ada9c4f3a71f7a2df9bb1387413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ac814e0001840a4cdbf826d0d6e53e" id="r_ad9ac814e0001840a4cdbf826d0d6e53e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9ac814e0001840a4cdbf826d0d6e53e">encodename</a> (string $string)</td></tr>
<tr class="memdesc:ad9ac814e0001840a4cdbf826d0d6e53e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Транслитерирует строку и заменяет знаки пунктуации на "_".  <br /></td></tr>
<tr class="separator:ad9ac814e0001840a4cdbf826d0d6e53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3163f8e7d71cad9003bf5b3efe644712" id="r_a3163f8e7d71cad9003bf5b3efe644712"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3163f8e7d71cad9003bf5b3efe644712">ubb</a> (string $text)</td></tr>
<tr class="memdesc:a3163f8e7d71cad9003bf5b3efe644712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразует BBCode в HTML.  <br /></td></tr>
<tr class="separator:a3163f8e7d71cad9003bf5b3efe644712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76be87bb05ca60ff16f6d47f5a44c32" id="r_aa76be87bb05ca60ff16f6d47f5a44c32"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa76be87bb05ca60ff16f6d47f5a44c32">utf8_wordwrap</a> (string $str, int $width=70, string $break=PHP_EOL)</td></tr>
<tr class="memdesc:aa76be87bb05ca60ff16f6d47f5a44c32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Разбивает строку на несколько строк ограниченной длины.  <br /></td></tr>
<tr class="separator:aa76be87bb05ca60ff16f6d47f5a44c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41518918c225073130bc7a73983d72ff" id="r_a41518918c225073130bc7a73983d72ff"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41518918c225073130bc7a73983d72ff">validate_mime_type</a> (string $real_mime_type)</td></tr>
<tr class="memdesc:a41518918c225073130bc7a73983d72ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Проверяет, поддерживается ли указанный MIME-тип изображения.  <br /></td></tr>
<tr class="separator:a41518918c225073130bc7a73983d72ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>Интерфейс для вспомогательных методов. </p>
<p>Этот интерфейс определяет контракт для класса <code>Work_Helper</code>, который предоставляет статические методы для выполнения различных вспомогательных задач:</p><ul>
<li>Очистка строк от HTML-тегов и специальных символов (<code>clean_field</code>).</li>
<li>Преобразование размеров в байты (<code>return_bytes</code>).</li>
<li>Транслитерация строк и замена знаков пунктуации (<code>encodename</code>).</li>
<li>Преобразование BBCode в HTML (<code>ubb</code>).</li>
<li>Разбиение строк на несколько строк ограниченной длины (<code>utf8_wordwrap</code>).</li>
<li>Проверка MIME-типов файлов через доступные библиотеки (<code>validate_mime_type</code>). Методы интерфейса предназначены для использования в различных частях приложения, таких как обработка пользовательского ввода, работа с файлами, генерация безопасного вывода и т.д.</li>
</ul>
<dl class="section note"><dt>Заметки</dt><dd>Методы интерфейса реализуются как статические, что позволяет использовать их без создания экземпляра класса.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Некорректная реализация методов может привести к ошибкам при работе с данными, особенно при обработке пользовательского ввода или файлов. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d3/ddb/Work__Helper__Interface_8php_source.html">Work_Helper_Interface.php</a> строка <a class="el" href="../../d3/ddb/Work__Helper__Interface_8php_source.html#l00080">80</a></p>
</div><h2 class="groupheader">Методы</h2>
<a id="a8ecb9d3a6cba675b7a2d72ddc14b53f3" name="a8ecb9d3a6cba675b7a2d72ddc14b53f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ecb9d3a6cba675b7a2d72ddc14b53f3">&#9670;&#160;</a></span>clean_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static clean_field </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Очищает строку от HTML-тегов и специальных символов. </p>
<p>Этот метод выполняет следующие действия:</p><ol type="1">
<li>Проверяет, что входные данные не являются пустыми (<code>null</code> или пустая строка). Если данные пусты, возвращает пустую строку (&lsquo;&rsquo;'<code>).</code></li>
<li><code>Преобразует входные данные в кодировку UTF-8.</code></li>
<li><code>Удаляет все HTML-теги из строки.</code></li>
<li><code>Экранирует специальные символы (например,</code>&lt;<code>,</code>&gt;<code>,</code>&amp;<code>,</code>"&lt;tt&gt;,&lt;/tt&gt;'`) для защиты от XSS-атак.
         Метод используется для безопасной обработки пользовательского ввода.

@param string $field Строка или данные, которые могут быть преобразованы в строку:
                     - Если входные данные пусты (&lt;tt&gt;null&lt;/tt&gt; или пустая строка), метод вернёт пустую строку (&amp;lsquo;&amp;rsquo;'`).

@return string Очищенная строка или пустая строка (&amp;lsquo;&amp;rsquo;'`), если входные данные пусты.

@warning Метод не обрабатывает вложенные структуры данных (например, массивы).
         Убедитесь, что входные данные могут быть преобразованы в строку.

Пример использования:
@code 
// Очистка строки от HTML-тегов и специальных символов
$dirty_input = '&lt;script&gt;alert("XSS")</li>
</ol>
<p>&lt;/script&gt;'; $cleaned = Work_Helper::clean_field($dirty_input); echo $cleaned; // Выведет: &lt;script&gt;alert(&quot;XSS&quot;)&lt;/script&gt;  </p>

</div>
</div>
<a id="ad9ac814e0001840a4cdbf826d0d6e53e" name="ad9ac814e0001840a4cdbf826d0d6e53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ac814e0001840a4cdbf826d0d6e53e">&#9670;&#160;</a></span>encodename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static encodename </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$string</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Транслитерирует строку и заменяет знаки пунктуации на "_". </p>
<p>Этот метод выполняет следующие действия:</p><ol type="1">
<li>Проверяет, что входная строка не является пустой. Если строка пустая, то она возвращается без обработки.</li>
<li>Транслитерирует не латинские символы в латиницу.</li>
<li>Заменяет все символы, кроме букв и цифр, на <code>"_"</code>:<ul>
<li>Заменяет множественные подчёркивания на одно.</li>
<li>Удаляет подчёркивания в начале и конце строки.</li>
</ul>
</li>
<li>Если после обработки строка становится пустой, генерируется уникальная последовательность длиной 16 символов. Метод используется для создания "безопасных" имен файлов или URL.</li>
</ol>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>Исходная строка:<ul>
<li>Если строка пустая, то она возвращается без обработки. Рекомендуется использовать строки в кодировке UTF-8.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка после транслитерации и замены символов:<ul>
<li>Если после обработки строка становится пустой, генерируется уникальная последовательность.</li>
</ul>
</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод не гарантирует сохранение исходного формата строки, так как все специальные символы заменяются на <code>"_"</code>.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Транслитерация строки с заменой знаков пунктуации</span></div>
<div class="line">$encoded = Work_Helper::encodename(<span class="stringliteral">&#39;Привет, мир!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: Privet_mir</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка пустой строки</span></div>
<div class="line">$encoded = Work_Helper::encodename(<span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: пустую строку</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка строки без кириллицы и знаков пунктуации</span></div>
<div class="line">$encoded = Work_Helper::encodename(<span class="stringliteral">&#39;12345&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: 12345</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Генерация уникальной последовательности для пустой строки после обработки</span></div>
<div class="line">$encoded = Work_Helper::encodename(<span class="stringliteral">&#39;!!!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: уникальную последовательность из 16 символов</span></div>
</div><!-- fragment --> 
<p>Замещается в <a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper</a>.</p>

</div>
</div>
<a id="ac28b2ada9c4f3a71f7a2df9bb1387413" name="ac28b2ada9c4f3a71f7a2df9bb1387413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28b2ada9c4f3a71f7a2df9bb1387413">&#9670;&#160;</a></span>return_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static return_bytes </td>
          <td>(</td>
          <td class="paramtype">string|int</td>          <td class="paramname"><span class="paramname"><em>$val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразует размер в формате "число[K|M|G]" в количество байт. </p>
<p>Этот метод выполняет следующие действия:</p><ol type="1">
<li>Проверяет корректность входных данных.</li>
<li>Преобразует размер, заданный в формате "число[K|M|G]", в количество байт:<ul>
<li>K (килобайты): умножается на 1024.</li>
<li>M (мегабайты): умножается на 1024².</li>
<li>G (гигабайты): умножается на 1024³.</li>
</ul>
</li>
<li>Если суффикс отсутствует или недопустим, значение считается в байтах.</li>
<li>Отрицательные числа преобразуются в положительные.</li>
<li>Возвращает <code>0</code>, если входные данные некорректны.</li>
</ol>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$val</td><td>Размер в формате "число[K|M|G]" или число:<ul>
<li>Допустимые суффиксы: <code>K</code>, <code>M</code>, <code>G</code>.</li>
<li>Если суффикс недопустим, он игнорируется, и значение преобразуется в число.</li>
<li>Отрицательные числа преобразуются в положительные.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>int Размер в байтах. Возвращает <code>0</code> для некорректных входных данных.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод чувствителен к формату входных данных. Убедитесь, что они корректны.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование с допустимым суффиксом</span></div>
<div class="line">$bytes = Work_Helper::return_bytes(<span class="stringliteral">&#39;2M&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 2097152</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование отрицательного значения</span></div>
<div class="line">$bytes = Work_Helper::return_bytes(<span class="stringliteral">&#39;-1G&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 1073741824</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование с недопустимым суффиксом</span></div>
<div class="line">$bytes = Work_Helper::return_bytes(<span class="stringliteral">&#39;10X&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 10</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование некорректных данных</span></div>
<div class="line">$bytes = Work_Helper::return_bytes(<span class="stringliteral">&#39;abc&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 0</span></div>
</div><!-- fragment --> 
<p>Замещается в <a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ac28b2ada9c4f3a71f7a2df9bb1387413">Work_Helper</a>.</p>

</div>
</div>
<a id="a3163f8e7d71cad9003bf5b3efe644712" name="a3163f8e7d71cad9003bf5b3efe644712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3163f8e7d71cad9003bf5b3efe644712">&#9670;&#160;</a></span>ubb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ubb </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразует BBCode в HTML. </p>
<p>Этот метод преобразует BBCode-теги в соответствующие HTML-теги. Поддерживаются следующие BBCode-теги:</p><ul>
<li>[b]Жирный текст[/b] -&gt; <code>&lt;strong&gt;Жирный текст&lt;/strong&gt;</code></li>
<li>[u]Подчёркнутый текст[/u] -&gt; <code>&lt;u&gt;Подчёркнутый текст&lt;/u&gt;</code></li>
<li>[i]Курсив[/i] -&gt; <code>&lt;em&gt;Курсив&lt;/em&gt;</code></li>
<li>[url]Ссылка[/url], [url=URL]Текст ссылки[/url] -&gt; <code>&lt;a href="URL" target="_blank" rel="noopener
           noreferrer"&gt;Текст ссылки&lt;/a&gt;</code></li>
<li>[color=COLOR]Цвет текста[/color] -&gt; <code>&lt;span style="color: COLOR;"&gt;Цвет текста&lt;/span&gt;</code></li>
<li>[size=SIZE]Размер текста[/size] -&gt; <code>&lt;span style="font-size: SIZE;"&gt;Размер текста&lt;/span&gt;</code></li>
<li>[quote]Цитата[/quote], [quote=AUTHOR]Цитата автора[/quote] -&gt; <code>&lt;blockquote&gt;Цитата&lt;/blockquote&gt;</code></li>
<li>[list], [list=1], [list=a] — списки -&gt; <code>&lt;ul&gt;</code>, <code>&lt;ol&gt;</code> с соответствующими элементами <code>&lt;li&gt;</code></li>
<li>[code]Блок кода[/code] -&gt; <code>&lt;pre&gt;&lt;code&gt;Блок кода&lt;/code&gt;&lt;/pre&gt;</code></li>
<li>[spoiler]Спойлер[/spoiler] -&gt; <code>&lt;details&gt;&lt;summary&gt;Спойлер&lt;/summary&gt;Содержимое&lt;/details&gt;</code></li>
<li>[hr] — горизонтальная линия -&gt; <code>&lt;hr&gt;</code></li>
<li>[br] — перенос строки -&gt; <code>&lt;br&gt;</code></li>
<li>[left], [center], [right] — выравнивание текста -&gt; <code>&lt;div style="text-align: left|center|right;"&gt;</code></li>
<li>[img]Изображение[/img] -&gt; <code>&lt;img src="URL" alt="Изображение"&gt;</code> Метод защищает от XSS-атак и ограничивает глубину рекурсии для вложенных тегов.</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Текст с BBCode:<ul>
<li>Если строка пустая, она возвращается без обработки. Рекомендуется использовать строки в кодировке UTF-8.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Текст с HTML-разметкой:<ul>
<li>Некорректные BBCode-теги игнорируются или преобразуются в текст.</li>
</ul>
</dd></dl>
<dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>Выбрасывается, если произошла ошибка при обработке BBCode.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод ограничивает глубину рекурсии для вложенных тегов (максимум 10 уровней). Некорректные URL или изображения заменяются на безопасные значения или удаляются.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование жирного текста</span></div>
<div class="line">$html = Work_Helper::ubb(<span class="stringliteral">&#39;[b]Bold text[/b]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;strong&gt;Bold text&lt;/strong&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование ссылки</span></div>
<div class="line">$html = Work_Helper::ubb(<span class="stringliteral">&#39;[url=https://example.com]Example[/url]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;a href=&quot;https://example.com&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;&gt;Example&lt;/a&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование цитаты</span></div>
<div class="line">$html = Work_Helper::ubb(<span class="stringliteral">&#39;[quote=Author]This is a quote.[/quote]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;blockquote&gt;&lt;cite&gt;Author:&lt;/cite&gt;This is a quote.&lt;/blockquote&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование списка</span></div>
<div class="line">$html = Work_Helper::ubb(<span class="stringliteral">&#39;[list][*]Item 1[*]Item 2[/list]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;ul&gt;&lt;li&gt;Item 1&lt;/li&gt;&lt;li&gt;Item 2&lt;/li&gt;&lt;/ul&gt;</span></div>
</div><!-- fragment --> 
<p>Замещается в <a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper</a>.</p>

</div>
</div>
<a id="aa76be87bb05ca60ff16f6d47f5a44c32" name="aa76be87bb05ca60ff16f6d47f5a44c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76be87bb05ca60ff16f6d47f5a44c32">&#9670;&#160;</a></span>utf8_wordwrap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static utf8_wordwrap </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$width</em></span><span class="paramdefsep"> = </span><span class="paramdefval">70</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$break</em></span><span class="paramdefsep"> = </span><span class="paramdefval">PHP_EOL</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Разбивает строку на несколько строк ограниченной длины. </p>
<p>Этот метод разбивает строку на несколько строк, каждая из которых имеет длину не более указанной. Разрыв строки выполняется только по пробелам, чтобы сохранить читаемость текста. Поддерживается работа с UTF-8 символами. Если параметры некорректны (например, <code>$width &lt;= 0</code> или <code>$break</code> пустой), возвращается исходная строка.</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>Исходная строка:<ul>
<li>Рекомендуется использовать строки в кодировке UTF-8.</li>
<li>Если строка пустая или её длина меньше или равна <code>$width</code>, она возвращается без изменений. </li>
</ul>
</td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$width</td><td>Максимальная длина строки (по умолчанию 70):<ul>
<li>Должен быть положительным целым числом. </li>
</ul>
</td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$break</td><td>Символ разрыва строки (по умолчанию PHP_EOL):<ul>
<li>Не должен быть пустой строкой.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка, разбитая на несколько строк:<ul>
<li>В случае некорректных параметров возвращается исходная строка.</li>
</ul>
</dd></dl>
<dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>Выбрасывается при возникновении ошибок логирования информации.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод корректно работает только с UTF-8 символами. Если параметры некорректны (например, <code>$width &lt;= 0</code> или <code>$break</code> пустой), возвращается исходная строка.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Разбивка строки на части длиной 10 символов</span></div>
<div class="line">$wrapped = Work_Helper::utf8_wordwrap(<span class="stringliteral">&#39;This is a very long string that needs to be wrapped.&#39;</span>, 10);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is a</span></div>
<div class="line"><span class="comment">// very long</span></div>
<div class="line"><span class="comment">// string that</span></div>
<div class="line"><span class="comment">// needs to be</span></div>
<div class="line"><span class="comment">// wrapped.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Разбивка строки с пользовательским символом разрыва</span></div>
<div class="line">$wrapped = Work_Helper::utf8_wordwrap(<span class="stringliteral">&#39;This is another example.&#39;</span>, 15, <span class="stringliteral">&#39;---&#39;</span>);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is another---</span></div>
<div class="line"><span class="comment">// example.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Некорректные параметры</span></div>
<div class="line">$wrapped = Work_Helper::utf8_wordwrap(<span class="stringliteral">&#39;Short text&#39;</span>, 0);</div>
<div class="line">echo $wrapped; <span class="comment">// Выведет: Short text</span></div>
</div><!-- fragment --> 
<p>Замещается в <a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper</a>.</p>

</div>
</div>
<a id="a41518918c225073130bc7a73983d72ff" name="a41518918c225073130bc7a73983d72ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41518918c225073130bc7a73983d72ff">&#9670;&#160;</a></span>validate_mime_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static validate_mime_type </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$real_mime_type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Проверяет, поддерживается ли указанный MIME-тип изображения. </p>
<p>Этот метод проверяет, поддерживается ли указанный MIME-тип хотя бы одной из доступных библиотек:</p><ul>
<li>Imagick: Поддерживает широкий спектр форматов, включая JPEG, PNG, GIF, WebP, TIFF, SVG, BMP, ICO, AVIF, HEIC, PSD, CR2, NEF и другие.</li>
<li>Gmagick: Поддерживает основные форматы, такие как JPEG, PNG, GIF, WebP, TIFF, SVG, BMP, ICO, AVIF, HEIC.</li>
<li>Встроенные функции PHP (GD): Поддерживаются только базовые форматы, такие как JPEG, PNG, GIF, WebP. Если MIME-тип не поддерживается ни одной библиотекой, возвращается <code>false</code>.</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$real_mime_type</td><td>Реальный MIME-тип файла:<ul>
<li>Должен быть корректным MIME-типом для изображений.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>bool True, если MIME-тип поддерживается хотя бы одной библиотекой, иначе false.</dd></dl>
<dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>Выбрасывается при возникновении ошибок логирования информации.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод зависит от доступности библиотек (Imagick, Gmagick) и встроенных функций PHP по работе с изображениями (GD). Если ни одна из библиотек недоступна, метод может некорректно работать.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Проверка поддерживаемого MIME-типа</span></div>
<div class="line">$is_supported = Work_Helper::validate_mime_type(<span class="stringliteral">&#39;image/jpeg&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка неподдерживаемого MIME-типа</span></div>
<div class="line">$is_supported = Work_Helper::validate_mime_type(<span class="stringliteral">&#39;application/pdf&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: false</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка MIME-типа, поддерживаемого только через Imagick</span></div>
<div class="line">$is_supported = Work_Helper::validate_mime_type(<span class="stringliteral">&#39;image/vnd.adobe.photoshop&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true (если Imagick доступен)</span></div>
</div><!-- fragment --> 
<p>Замещается в <a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a41518918c225073130bc7a73983d72ff">Work_Helper</a>.</p>

</div>
</div>
<hr/>Объявления и описания членов интерфейса находятся в файле:<ul>
<li>include/<a class="el" href="../../d3/ddb/Work__Helper__Interface_8php_source.html">Work_Helper_Interface.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a></li><li class="navelem"><a class="el" href="../../dd/db0/namespacePhotoRigma_1_1Interfaces.html">Interfaces</a></li><li class="navelem"><a class="el" href="../../df/d09/interfacePhotoRigma_1_1Interfaces_1_1Work__Helper__Interface.html">Work_Helper_Interface</a></li>
    <li class="footer">Документация по Photo-Rigma-BiZ. Последние изменения: Пн 12 Май 2025. Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
