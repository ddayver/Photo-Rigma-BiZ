<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Photo-Rigma-BiZ: Класс Work_Helper</title>
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo-1.png"/></td>
  <td id="projectalign">
   <div id="projectname">Photo-Rigma-BiZ<span id="projectnumber">&#160;0.4.0</span>
   </div>
   <div id="projectbrief">Gallery_Photo-Rigma-BiZ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Открытые статические члены</a> &#124;
<a href="#pro-static-methods">Защищенные статические члены</a> &#124;
<a href="#pri-static-methods">Закрытые статические члены</a> &#124;
<a href="../../d2/de8/classPhotoRigma_1_1Classes_1_1Work__Helper-members.html">Полный список членов класса</a>  </div>
  <div class="headertitle"><div class="title">Класс Work_Helper</div></div>
</div><!--header-->
<div class="contents">

<p>Класс для вспомогательных методов.  
 <a href="#details">Подробнее...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Граф наследования:Work_Helper:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/d87/classPhotoRigma_1_1Classes_1_1Work__Helper__inherit__graph.png" border="0" usemap="#aWork__Helper_inherit__map" alt="Inheritance graph"/></div>
<map name="aWork__Helper_inherit__map" id="aWork__Helper_inherit__map">
<area shape="rect" title="Класс для вспомогательных методов." alt="" coords="34,78,131,103"/>
<area shape="rect" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов." alt="" coords="5,5,160,30"/>
<area shape="poly" title=" " alt="" coords="85,46,85,78,80,78,80,46"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">см. легенду</a>]</span></center></div>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Граф связей класса Work_Helper:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/dd2/classPhotoRigma_1_1Classes_1_1Work__Helper__coll__graph.png" border="0" usemap="#aWork__Helper_coll__map" alt="Collaboration graph"/></div>
<map name="aWork__Helper_coll__map" id="aWork__Helper_coll__map">
<area shape="rect" title="Класс для вспомогательных методов." alt="" coords="34,78,131,103"/>
<area shape="rect" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов." alt="" coords="5,5,160,30"/>
<area shape="poly" title=" " alt="" coords="85,46,85,78,80,78,80,46"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">см. легенду</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Открытые статические члены</h2></td></tr>
<tr class="memitem:ab73ba07b8376dd2e1764240c73a338ea" id="r_ab73ba07b8376dd2e1764240c73a338ea"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab73ba07b8376dd2e1764240c73a338ea">clean_field</a> ($field)</td></tr>
<tr class="memdesc:ab73ba07b8376dd2e1764240c73a338ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Очистка строки от HTML-тегов и специальных символов (публичная обёртка).  <br /></td></tr>
<tr class="separator:ab73ba07b8376dd2e1764240c73a338ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ac814e0001840a4cdbf826d0d6e53e" id="r_ad9ac814e0001840a4cdbf826d0d6e53e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9ac814e0001840a4cdbf826d0d6e53e">encodename</a> (string $string)</td></tr>
<tr class="memdesc:ad9ac814e0001840a4cdbf826d0d6e53e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Транслитерация строки и замена знаков пунктуации на "_" (публичная обёртка).  <br /></td></tr>
<tr class="separator:ad9ac814e0001840a4cdbf826d0d6e53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac28b2ada9c4f3a71f7a2df9bb1387413" id="r_ac28b2ada9c4f3a71f7a2df9bb1387413"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac28b2ada9c4f3a71f7a2df9bb1387413">return_bytes</a> (string|int $val)</td></tr>
<tr class="memdesc:ac28b2ada9c4f3a71f7a2df9bb1387413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование размера в байты (публичная обёртка).  <br /></td></tr>
<tr class="separator:ac28b2ada9c4f3a71f7a2df9bb1387413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3163f8e7d71cad9003bf5b3efe644712" id="r_a3163f8e7d71cad9003bf5b3efe644712"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3163f8e7d71cad9003bf5b3efe644712">ubb</a> (string $text)</td></tr>
<tr class="memdesc:a3163f8e7d71cad9003bf5b3efe644712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование BBCode в HTML (публичная обёртка).  <br /></td></tr>
<tr class="separator:a3163f8e7d71cad9003bf5b3efe644712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76be87bb05ca60ff16f6d47f5a44c32" id="r_aa76be87bb05ca60ff16f6d47f5a44c32"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa76be87bb05ca60ff16f6d47f5a44c32">utf8_wordwrap</a> (string $str, int $width=70, string $break=PHP_EOL)</td></tr>
<tr class="memdesc:aa76be87bb05ca60ff16f6d47f5a44c32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Разбивка строки на несколько строк ограниченной длины (публичная обёртка).  <br /></td></tr>
<tr class="separator:aa76be87bb05ca60ff16f6d47f5a44c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41518918c225073130bc7a73983d72ff" id="r_a41518918c225073130bc7a73983d72ff"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41518918c225073130bc7a73983d72ff">validate_mime_type</a> (string $real_mime_type)</td></tr>
<tr class="memdesc:a41518918c225073130bc7a73983d72ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Проверка MIME-типа файла через доступные библиотеки (публичная обёртка).  <br /></td></tr>
<tr class="separator:a41518918c225073130bc7a73983d72ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_methods_interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_static_methods_interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface')"><img src="../../closed.png" alt="-"/>&#160;Открытые статические члены унаследованные от <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html">Work_Helper_Interface</a></td></tr>
<tr class="memitem:a8ecb9d3a6cba675b7a2d72ddc14b53f3 inherit pub_static_methods_interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface" id="r_a8ecb9d3a6cba675b7a2d72ddc14b53f3"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3">clean_field</a> (string $field)</td></tr>
<tr class="memdesc:a8ecb9d3a6cba675b7a2d72ddc14b53f3 inherit pub_static_methods_interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface"><td class="mdescLeft">&#160;</td><td class="mdescRight">Очистка строки от HTML-тегов и специальных символов.  <br /></td></tr>
<tr class="separator:a8ecb9d3a6cba675b7a2d72ddc14b53f3 inherit pub_static_methods_interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Защищенные статические члены</h2></td></tr>
<tr class="memitem:a6731465132be58e4a625f9249cd5f7d8" id="r_a6731465132be58e4a625f9249cd5f7d8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6731465132be58e4a625f9249cd5f7d8">_encodename_internal</a> (string $string)</td></tr>
<tr class="memdesc:a6731465132be58e4a625f9249cd5f7d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Транслитерация строки и замена знаков пунктуации на "_" (защищённый метод).  <br /></td></tr>
<tr class="separator:a6731465132be58e4a625f9249cd5f7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa85b3536adbc623cecafaf30fa666958" id="r_aa85b3536adbc623cecafaf30fa666958"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa85b3536adbc623cecafaf30fa666958">_return_bytes_internal</a> (string|int $val)</td></tr>
<tr class="memdesc:aa85b3536adbc623cecafaf30fa666958"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование размера в байты (защищённый метод).  <br /></td></tr>
<tr class="separator:aa85b3536adbc623cecafaf30fa666958"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe88f41126cc81f6153894bb8ac22f0" id="r_a0fe88f41126cc81f6153894bb8ac22f0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fe88f41126cc81f6153894bb8ac22f0">_ubb_internal</a> (string $text)</td></tr>
<tr class="memdesc:a0fe88f41126cc81f6153894bb8ac22f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование BBCode в HTML (защищённый метод).  <br /></td></tr>
<tr class="separator:a0fe88f41126cc81f6153894bb8ac22f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7fce393b631f688e62115acde6b2641" id="r_ae7fce393b631f688e62115acde6b2641"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae7fce393b631f688e62115acde6b2641">_clean_field_internal</a> (string $field)</td></tr>
<tr class="memdesc:ae7fce393b631f688e62115acde6b2641"><td class="mdescLeft">&#160;</td><td class="mdescRight">Очистка строки от HTML-тегов и специальных символов (защищённый метод).  <br /></td></tr>
<tr class="separator:ae7fce393b631f688e62115acde6b2641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0724c64151f06d211ca5d639046f5f" id="r_a1f0724c64151f06d211ca5d639046f5f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f0724c64151f06d211ca5d639046f5f">_utf8_wordwrap_internal</a> (string $str, int $width=70, string $break=PHP_EOL)</td></tr>
<tr class="memdesc:a1f0724c64151f06d211ca5d639046f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Разбивка строки на несколько строк ограниченной длины (защищённый метод).  <br /></td></tr>
<tr class="separator:a1f0724c64151f06d211ca5d639046f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d88f48db4a5bac5b064e99d896c82f" id="r_a95d88f48db4a5bac5b064e99d896c82f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95d88f48db4a5bac5b064e99d896c82f">_validate_mime_type_internal</a> (string $real_mime_type)</td></tr>
<tr class="memdesc:a95d88f48db4a5bac5b064e99d896c82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Проверка MIME-типа файла через доступные библиотеки (защищённый метод).  <br /></td></tr>
<tr class="separator:a95d88f48db4a5bac5b064e99d896c82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Закрытые статические члены</h2></td></tr>
<tr class="memitem:ade4e103eed321eb69427d7a05f8e939a" id="r_ade4e103eed321eb69427d7a05f8e939a"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade4e103eed321eb69427d7a05f8e939a">_process_bbcode_recursively</a> (string $text, int $depth, int $max_recursion_depth)</td></tr>
<tr class="memdesc:ade4e103eed321eb69427d7a05f8e939a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов.  <br /></td></tr>
<tr class="separator:ade4e103eed321eb69427d7a05f8e939a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>Класс для вспомогательных методов. </p>
<p>Класс реализует интерфейс <code>Work_Helper_Interface</code> и предоставляет статические методы для выполнения различных вспомогательных задач:</p><ul>
<li>Очистка строк от HTML-тегов и специальных символов (<code>clean_field</code>).</li>
<li>Преобразование размеров в байты (<code>return_bytes</code>).</li>
<li>Транслитерация строк и замена знаков пунктуации (<code>encodename</code>).</li>
<li>Преобразование BBCode в HTML (<code>ubb</code>).</li>
<li>Разбиение строк на несколько строк ограниченной длины (<code>utf8_wordwrap</code>).</li>
<li>Проверка MIME-типов файлов через доступные библиотеки (<code>validate_mime_type</code>). Методы класса предназначены для использования в различных частях приложения, таких как обработка пользовательского ввода, работа с файлами, генерация безопасного вывода и т.д.</li>
</ul>
<p>Интерфейс для вспомогательных методов.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов.">PhotoRigma\Classes\Work_Helper_Interface</a> Интерфейс для вспомогательных методов. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс, через который вызываются вспомогательные методы. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок.</dd></dl>
<p>Пример использования класса: </p><div class="fragment"><div class="line"><span class="comment">// Очистка строки от HTML-тегов</span></div>
<div class="line">$cleaned = <a class="code hl_function" href="#ab73ba07b8376dd2e1764240c73a338ea">Work_Helper::clean_field</a>(<span class="stringliteral">&#39;&lt;script&gt;alert(&quot;XSS&quot;)&lt;/script&gt;&#39;</span>);</div>
<div class="line">echo $cleaned; <span class="comment">// Выведет: &lt;script&gt;alert(&amp;quot;XSS&amp;quot;)&lt;/script&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование размера в байты</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#ac28b2ada9c4f3a71f7a2df9bb1387413">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;2M&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 2097152</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Транслитерация строки</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;Привет, мир!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: Privet_mir</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование BBCode в HTML</span></div>
<div class="line">$html = <a class="code hl_function" href="#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper::ubb</a>(<span class="stringliteral">&#39;[b]Bold text[/b]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;strong&gt;Bold text&lt;/strong&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Разбиение строки на части</span></div>
<div class="line">$wrapped = <a class="code hl_function" href="#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper::utf8_wordwrap</a>(<span class="stringliteral">&#39;This is a very long string that needs to be wrapped.&#39;</span>, 10);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is a</span></div>
<div class="line"><span class="comment">// very long</span></div>
<div class="line"><span class="comment">// string that</span></div>
<div class="line"><span class="comment">// needs to be</span></div>
<div class="line"><span class="comment">// wrapped.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка MIME-типа</span></div>
<div class="line">$is_supported = <a class="code hl_function" href="#a41518918c225073130bc7a73983d72ff">Work_Helper::validate_mime_type</a>(<span class="stringliteral">&#39;image/jpeg&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true</span></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a3163f8e7d71cad9003bf5b3efe644712"><div class="ttname"><a href="#a3163f8e7d71cad9003bf5b3efe644712">PhotoRigma\Classes\Work_Helper\ubb</a></div><div class="ttdeci">static ubb(string $text)</div><div class="ttdoc">Преобразование BBCode в HTML (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00792">work_helper.php:792</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a41518918c225073130bc7a73983d72ff"><div class="ttname"><a href="#a41518918c225073130bc7a73983d72ff">PhotoRigma\Classes\Work_Helper\validate_mime_type</a></div><div class="ttdeci">static validate_mime_type(string $real_mime_type)</div><div class="ttdoc">Проверка MIME-типа файла через доступные библиотеки (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l01284">work_helper.php:1284</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_aa76be87bb05ca60ff16f6d47f5a44c32"><div class="ttname"><a href="#aa76be87bb05ca60ff16f6d47f5a44c32">PhotoRigma\Classes\Work_Helper\utf8_wordwrap</a></div><div class="ttdeci">static utf8_wordwrap(string $str, int $width=70, string $break=PHP_EOL)</div><div class="ttdoc">Разбивка строки на несколько строк ограниченной длины (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l01163">work_helper.php:1163</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_ab73ba07b8376dd2e1764240c73a338ea"><div class="ttname"><a href="#ab73ba07b8376dd2e1764240c73a338ea">PhotoRigma\Classes\Work_Helper\clean_field</a></div><div class="ttdeci">static clean_field($field)</div><div class="ttdoc">Очистка строки от HTML-тегов и специальных символов (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00423">work_helper.php:423</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_ac28b2ada9c4f3a71f7a2df9bb1387413"><div class="ttname"><a href="#ac28b2ada9c4f3a71f7a2df9bb1387413">PhotoRigma\Classes\Work_Helper\return_bytes</a></div><div class="ttdeci">static return_bytes(string|int $val)</div><div class="ttdoc">Преобразование размера в байты (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00658">work_helper.php:658</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_ad9ac814e0001840a4cdbf826d0d6e53e"><div class="ttname"><a href="#ad9ac814e0001840a4cdbf826d0d6e53e">PhotoRigma\Classes\Work_Helper\encodename</a></div><div class="ttdeci">static encodename(string $string)</div><div class="ttdoc">Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00467">work_helper.php:467</a></div></div>
</div><!-- fragment --> 
<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00392">392</a></p>
</div><h2 class="groupheader">Методы</h2>
<a id="ae7fce393b631f688e62115acde6b2641" name="ae7fce393b631f688e62115acde6b2641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7fce393b631f688e62115acde6b2641">&#9670;&#160;</a></span>_clean_field_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _clean_field_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Очистка строки от HTML-тегов и специальных символов (защищённый метод). </p>
<p>Этот защищённый метод удаляет HTML-теги и экранирует специальные символы, такие как <code>&amp;lt;</code>, <code>&amp;gt;</code>, <code>&amp;amp;</code>, <code>&amp;quot</code>, <code>&amp;#039;</code>. Используется для защиты от XSS-атак и других проблем, связанных с некорректными данными. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод clean_field().</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$field</td><td>Строка или данные, которые могут быть преобразованы в строку. Если входные данные пусты (null или пустая строка), метод вернёт null.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Очищенная строка или '', если входные данные пусты.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод не обрабатывает вложенные структуры данных (например, массивы). Убедитесь, что входные данные могут быть преобразованы в строку.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Вызов защищённого метода внутри класса</span></div>
<div class="line">$dirty_input = <span class="stringliteral">&#39;&amp;lt;script&amp;gt;alert(&amp;quotXSS&amp;quot)&amp;lt;/script&amp;gt;&#39;</span>;</div>
<div class="line">$cleaned = self::_clean_field_internal($dirty_input);</div>
<div class="line">echo $cleaned; <span class="comment">// Выведет: &amp;lt;script&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/script&amp;gt;</span></div>
</div><!-- fragment --> <dl class="section see"><dt>См. также</dt><dd><a class="el" href="#ab73ba07b8376dd2e1764240c73a338ea" title="Очистка строки от HTML-тегов и специальных символов (публичная обёртка).">PhotoRigma\Classes\Work_Helper\clean_field()</a> Публичный метод, вызывающий этот защищённый метод. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00893">893</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00950">_process_bbcode_recursively()</a>, <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00853">_ubb_internal()</a> и <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00423">clean_field()</a>.</p>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae7fce393b631f688e62115acde6b2641_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae7fce393b631f688e62115acde6b2641_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae7fce393b631f688e62115acde6b2641_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae7fce393b631f688e62115acde6b2641_icgraph">
<area shape="rect" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="917,111,1055,136"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ade4e103eed321eb69427d7a05f8e939a" title="Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов." alt="" coords="676,62,869,86"/>
<area shape="poly" title=" " alt="" coords="914,109,829,90,830,84,915,104"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="508,62,606,86"/>
<area shape="poly" title=" " alt="" coords="901,122,794,114,676,101,606,88,607,82,677,95,794,109,901,116"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ab73ba07b8376dd2e1764240c73a338ea" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="731,248,814,273"/>
<area shape="poly" title=" " alt="" coords="954,147,795,250,792,245,951,142"/>
<area shape="poly" title=" " alt="" coords="810,50,798,43,772,40,750,42,738,47,735,52,742,60,738,63,730,53,734,43,748,37,773,35,799,38,813,45"/>
<area shape="poly" title=" " alt="" coords="660,77,606,77,606,71,660,71"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="325,12,368,37"/>
<area shape="poly" title=" " alt="" coords="492,62,367,32,369,27,493,57"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML." alt="" coords="35,5,178,44"/>
<area shape="poly" title=" " alt="" coords="309,27,179,27,179,22,309,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3" title="Очистка строки от HTML&#45;тегов и специальных символов." alt="" coords="485,416,628,455"/>
<area shape="poly" title=" " alt="" coords="745,285,584,418,581,413,742,281"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#af92390a67888a39d1aa0f3f10a045433" title="Формирует информационную строку для категории или пользовательского альбома." alt="" coords="256,61,437,114"/>
<area shape="poly" title=" " alt="" coords="548,401,537,343,516,270,483,195,461,159,435,128,421,116,425,112,439,124,465,156,488,192,521,268,542,342,554,400"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a44160f09c7dbb17349602f0862c95d62" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="265,138,428,191"/>
<area shape="poly" title=" " alt="" coords="543,402,528,358,506,306,475,252,435,205,420,194,423,189,439,201,479,249,510,303,533,356,548,400"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a88355b68549854e972970158df564179" title="Генерирует блок данных для вывода изображений различных типов." alt="" coords="262,216,430,268"/>
<area shape="poly" title=" " alt="" coords="535,404,494,343,466,311,435,283,418,271,421,267,439,279,470,307,498,340,539,401"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a7c272bd5112b72e9047a6dafdd9cfd8c" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="258,293,435,346"/>
<area shape="poly" title=" " alt="" coords="514,409,436,360,412,349,414,344,438,356,517,405"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#ad1a946d518250f1085369cfad3719cc3" title="Генерирует массив статистических данных для шаблона." alt="" coords="258,370,435,423"/>
<area shape="poly" title=" " alt="" coords="469,422,435,416,436,410,470,417"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="258,448,435,500"/>
<area shape="poly" title=" " alt="" coords="470,454,436,460,435,455,469,449"/>
<area shape="rect" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a1ef5df918700c21dc94152e4a8329770" title="Метод создает и обрабатывает шаблон, включая чтение файла, парсинг и замену плейсхолдеров." alt="" coords="258,524,434,563"/>
<area shape="poly" title=" " alt="" coords="518,466,480,491,438,515,413,526,411,521,436,510,478,487,515,462"/>
<area shape="rect" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a34feab7e9589b201ec7fbb6b3507bd30" title="Метод формирует подвал HTML&#45;страницы с выводом копирайта, статистики, информации о пользователе и слу..." alt="" coords="271,587,422,625"/>
<area shape="poly" title=" " alt="" coords="537,470,496,524,469,552,438,576,417,588,414,584,436,572,465,548,492,520,533,466"/>
<area shape="rect" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a341d1f1abf0c06ad67bc2b47134718e2" title="Метод формирует заголовок HTML&#45;страницы с меню, метаданными и блоками контента." alt="" coords="268,649,425,688"/>
<area shape="poly" title=" " alt="" coords="546,470,530,509,507,554,477,599,439,639,420,651,417,646,435,635,472,596,502,551,525,507,541,468"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aadd99c851f40cd6cfbe2d166477ab062" title="Обрабатывает массив языковых переменных, проверяя его структуру и очищая значения." alt="" coords="261,712,432,751"/>
<area shape="poly" title=" " alt="" coords="551,471,538,522,516,583,484,646,463,675,439,701,421,714,418,709,435,697,459,672,479,643,512,581,533,520,546,470"/>
<area shape="rect" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html#a8432fa6f08d4982b9c9d9aaede7de566" title="Обновляет данные группы в системе через Админку." alt="" coords="263,775,430,813"/>
<area shape="poly" title=" " alt="" coords="555,471,545,533,525,611,510,652,491,692,467,730,439,764,423,776,420,772,435,760,463,727,486,690,505,650,520,609,540,532,550,470"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a4dfb943f9b750ec6e1e2924a9620c7f5" title="Формирует информационную строку для категории или пользовательского альбома." alt="" coords="19,68,194,107"/>
<area shape="poly" title=" " alt="" coords="240,90,194,90,194,85,240,85"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#af970fc714c16e27d2d60d698522a8504" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="9,145,204,184"/>
<area shape="poly" title=" " alt="" coords="249,167,205,167,205,162,249,162"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a930a20fbdd1b0e274b7e648d966516c5" title="Генерирует блок данных для вывода изображений различных типов." alt="" coords="6,223,207,261"/>
<area shape="poly" title=" " alt="" coords="247,245,207,245,207,239,247,239"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a9143fed87a3064985e0b51fe5fbb4ac3" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="21,293,192,346"/>
<area shape="poly" title=" " alt="" coords="242,322,192,322,192,317,242,317"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a116ebcf799d07566a74e7e765aecc1b7" title="Генерирует массив статистических данных для шаблона." alt="" coords="7,377,206,416"/>
<area shape="poly" title=" " alt="" coords="242,399,206,399,206,394,242,394"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,455,208,493"/>
<area shape="poly" title=" " alt="" coords="242,477,208,477,208,471,242,471"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aed2ddce38e1559f3014f076e11a2cbe9" title="Устанавливает языковые данные из файла и передаёт их в дочерние классы." alt="" coords="35,712,178,751"/>
<area shape="poly" title=" " alt="" coords="245,734,179,734,179,729,245,729"/>
</map>
</div>

</div>
</div>
<a id="a6731465132be58e4a625f9249cd5f7d8" name="a6731465132be58e4a625f9249cd5f7d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6731465132be58e4a625f9249cd5f7d8">&#9670;&#160;</a></span>_encodename_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _encodename_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$string</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Транслитерация строки и замена знаков пунктуации на "_" (защищённый метод). </p>
<p>Этот защищённый метод выполняет транслитерацию не латинских символов в латиницу и заменяет знаки пунктуации на "_". Используется для создания "безопасных" имен файлов или URL. Если входная строка пустая, она возвращается без обработки. Если транслитерация невозможна (например, расширение intl недоступно), используется резервная таблица. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод encodename().</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>Исходная строка. Если строка пустая, она возвращается без обработки. Рекомендуется использовать строки в кодировке UTF-8.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка после транслитерации и замены символов. Если после обработки строка становится пустой, генерируется уникальная последовательность.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если расширение intl недоступно, используется резервная таблица транслитерации.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Транслитерация строки с заменой знаков пунктуации</span></div>
<div class="line">$encoded = self::_encodename_internal(<span class="stringliteral">&#39;Привет, мир!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: Privet_mir</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка пустой строки</span></div>
<div class="line">$encoded = self::_encodename_internal(<span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: пустую строку</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка строки без кириллицы и знаков пунктуации</span></div>
<div class="line">$encoded = self::_encodename_internal(<span class="stringliteral">&#39;12345&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: 12345</span></div>
</div><!-- fragment --> <dl class="section see"><dt>См. также</dt><dd><a class="el" href="#ad9ac814e0001840a4cdbf826d0d6e53e" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка).">PhotoRigma\Classes\Work_Helper\encodename()</a> Публичный метод, вызывающий этот защищённый метод. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00511">511</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00467">encodename()</a>.</p>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph">
<area shape="rect" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (защищённый метод)." alt="" coords="740,12,891,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ad9ac814e0001840a4cdbf826d0d6e53e" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка)." alt="" coords="596,12,692,37"/>
<area shape="poly" title=" " alt="" coords="724,27,692,27,692,22,724,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot;." alt="" coords="405,5,548,44"/>
<area shape="poly" title=" " alt="" coords="581,27,549,27,549,22,581,22"/>
<area shape="rect" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html#a1b1bd50120832a8df1d83411fc66162c" title="Обрабатывает загрузку аватара пользователя." alt="" coords="214,5,357,44"/>
<area shape="poly" title=" " alt="" coords="389,27,357,27,357,22,389,22"/>
<area shape="rect" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html#a855f88015180a39f2464a41a2ce2a5c2" title="Обновляет данные существующего пользователя, включая пароль, email, имя и аватар." alt="" coords="5,5,166,44"/>
<area shape="poly" title=" " alt="" coords="198,27,166,27,166,22,198,22"/>
</map>
</div>

</div>
</div>
<a id="ade4e103eed321eb69427d7a05f8e939a" name="ade4e103eed321eb69427d7a05f8e939a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4e103eed321eb69427d7a05f8e939a">&#9670;&#160;</a></span>_process_bbcode_recursively()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _process_bbcode_recursively </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$text</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$depth</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$max_recursion_depth</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов. </p>
<p>Этот приватный метод выполняет следующие действия:</p><ul>
<li>Проверяет текущую глубину рекурсии. Если она превышает максимальную, обработка прекращается.</li>
<li>Ищет BBCode-теги в тексте с помощью регулярных выражений.</li>
<li>Преобразует найденные BBCode-теги в соответствующую HTML-разметку.</li>
<li>Рекурсивно обрабатывает вложенные BBCode-теги, увеличивая глубину рекурсии. Метод является приватным и предназначен только для использования внутри класса.</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Текст для обработки. Должен быть строкой, содержащей BBCode-теги. Может содержать вложенные BBCode-теги. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$depth</td><td>Текущая глубина рекурсии. Должен быть целым числом. Не должен превышать <code>$max_recursion_depth</code>. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$max_recursion_depth</td><td>Максимальная глубина рекурсии. Должен быть положительным целым числом.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Возвращает текст, преобразованный из BBCode в HTML. Содержит HTML-разметку, полученную из BBCode-тегов.</dd></dl>
<dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td>Выбрасывается исключение в следующих случаях:<ul>
<li>Если превышена максимальная глубина рекурсии.</li>
<li>Если обнаружен некорректный URL в BBCode-тегах.</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Заметки</dt><dd>Метод использует рекурсию для обработки вложенных BBCode-тегов.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Не используйте слишком большую глубину рекурсии, чтобы избежать переполнения стека.</dd></dl>
<p>Пример вызова метода внутри класса: </p><div class="fragment"><div class="line">$text = <span class="stringliteral">&#39;[b]Жирный текст[/b] [url=https://example.com]Ссылка[/url]&#39;</span>;</div>
<div class="line">$result = self::_process_bbcode_recursively($text, 0, 10);</div>
<div class="line">echo $result; <span class="comment">// &lt;strong&gt;Жирный текст&lt;/strong&gt; &lt;a href=&quot;https://example.com&quot; target=&quot;_blank&quot; rel=&quot;noopener</span></div>
<div class="line">noreferrer<span class="stringliteral">&quot;&gt;Ссылка&lt;/a&gt;</span></div>
</div><!-- fragment --> <dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd>
<dd>
<a class="el" href="#ae7fce393b631f688e62115acde6b2641" title="Очистка строки от HTML-тегов и специальных символов (защищённый метод).">PhotoRigma\Classes\Work_Helper\_clean_field_internal()</a> Защищённый метод, выполняющий очистку. </dd>
<dd>
<a class="el" href="#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод).">PhotoRigma\Classes\Work_Helper\_ubb_internal()</a> Защищённый метод, вызывающий наш рекурсивный приватный. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00950">950</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00893">_clean_field_internal()</a> и <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00950">_process_bbcode_recursively()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00950">_process_bbcode_recursively()</a> и <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00853">_ubb_internal()</a>.</p>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_cgraph">
<area shape="rect" title="Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов." alt="" coords="5,29,198,54"/>
<area shape="poly" title=" " alt="" coords="67,31,59,21,63,11,77,5,102,3,128,6,142,13,139,17,127,11,101,8,79,10,67,15,64,20,71,27"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ae7fce393b631f688e62115acde6b2641" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="246,29,384,54"/>
<area shape="poly" title=" " alt="" coords="198,39,230,39,230,44,198,44"/>
</map>
</div>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ade4e103eed321eb69427d7a05f8e939a_icgraph">
<area shape="rect" title="Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов." alt="" coords="433,29,626,54"/>
<area shape="poly" title=" " alt="" coords="563,17,552,10,529,8,509,10,498,15,496,20,502,27,498,31,491,21,494,11,508,5,530,3,554,5,566,12"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="287,29,385,54"/>
<area shape="poly" title=" " alt="" coords="418,44,386,44,386,39,418,39"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="197,29,239,54"/>
<area shape="poly" title=" " alt="" coords="271,44,239,44,239,39,271,39"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML." alt="" coords="5,22,149,61"/>
<area shape="poly" title=" " alt="" coords="181,44,149,44,149,39,181,39"/>
</map>
</div>

</div>
</div>
<a id="aa85b3536adbc623cecafaf30fa666958" name="aa85b3536adbc623cecafaf30fa666958"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa85b3536adbc623cecafaf30fa666958">&#9670;&#160;</a></span>_return_bytes_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _return_bytes_internal </td>
          <td>(</td>
          <td class="paramtype">string|int</td>          <td class="paramname"><span class="paramname"><em>$val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование размера в байты (защищённый метод). </p>
<p>Этот защищённый метод преобразует размер, заданный в формате "число[K|M|G]", в количество байт. Поддерживаются суффиксы:</p><ul>
<li>K (килобайты): умножается на 1024.</li>
<li>M (мегабайты): умножается на 1024².</li>
<li>G (гигабайты): умножается на 1024³. Если суффикс отсутствует или недопустим, значение считается в байтах. Отрицательные числа преобразуются в положительные. Если входные данные некорректны, возвращается 0. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод return_bytes().</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$val</td><td>Размер в формате "число[K|M|G]" или число. Если суффикс недопустим, он игнорируется, и значение преобразуется в число. Отрицательные числа преобразуются в положительные.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>int Размер в байтах. Возвращает 0 для некорректных входных данных.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если суффикс недопустим, он игнорируется, и значение преобразуется в число.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование с допустимым суффиксом</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;2M&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 2097152</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование отрицательного значения</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;-1G&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 1073741824</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование с недопустимым суффиксом</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;10X&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 10</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование некорректных данных</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;abc&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 0</span></div>
</div><!-- fragment --> <dl class="section see"><dt>См. также</dt><dd><a class="el" href="#ac28b2ada9c4f3a71f7a2df9bb1387413" title="Преобразование размера в байты (публичная обёртка).">PhotoRigma\Classes\Work_Helper\return_bytes()</a> Публичный метод, вызывающий этот защищённый метод. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00709">709</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00658">return_bytes()</a>.</p>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa85b3536adbc623cecafaf30fa666958_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa85b3536adbc623cecafaf30fa666958_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa85b3536adbc623cecafaf30fa666958_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa85b3536adbc623cecafaf30fa666958_icgraph">
<area shape="rect" title="Преобразование размера в байты (защищённый метод)." alt="" coords="337,12,485,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ac28b2ada9c4f3a71f7a2df9bb1387413" title="Преобразование размера в байты (публичная обёртка)." alt="" coords="197,12,289,37"/>
<area shape="poly" title=" " alt="" coords="322,27,289,27,289,22,322,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ac28b2ada9c4f3a71f7a2df9bb1387413" title="Преобразование размера в байты." alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="a0fe88f41126cc81f6153894bb8ac22f0" name="a0fe88f41126cc81f6153894bb8ac22f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe88f41126cc81f6153894bb8ac22f0">&#9670;&#160;</a></span>_ubb_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _ubb_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование BBCode в HTML (защищённый метод). </p>
<p>Этот защищённый метод преобразует BBCode-теги в соответствующие HTML-теги с учетом рекурсивной обработки вложенных тегов. Поддерживаются следующие BBCode-теги:</p><ul>
<li>[b]Жирный текст[/b]</li>
<li>[u]Подчёркнутый текст[/u]</li>
<li>[i]Курсив[/i]</li>
<li>[url]Ссылка[/url], [url=URL]Текст ссылки[/url]</li>
<li>[color=COLOR]Цвет текста[/color]</li>
<li>[size=SIZE]Размер текста[/size]</li>
<li>[quote]Цитата[/quote], [quote=AUTHOR]Цитата автора[/quote]</li>
<li>[list], [list=1], [list=a] — списки</li>
<li>[code]Блок кода[/code]</li>
<li>[spoiler]Спойлер[/spoiler]</li>
<li>[hr] — горизонтальная линия</li>
<li>[br] — перенос строки</li>
<li>[left], [center], [right] — выравнивание текста</li>
<li>[img]Изображение[/img] Метод защищает от XSS-атак, проверяет корректность URL и ограничивает глубину рекурсии для вложенных тегов. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод ubb().</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Текст с BBCode. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая, она возвращается без обработки.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Текст с HTML-разметкой. Некорректные BBCode-теги игнорируются или преобразуются в текст.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод ограничивает глубину рекурсии для вложенных тегов (максимум 10 уровней). </dd>
<dd>
Некорректные URL или изображения заменяются на безопасные значения или удаляются.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование жирного текста</span></div>
<div class="line">$html = self::_ubb_internal(<span class="stringliteral">&#39;[b]Bold text[/b]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;strong&gt;Bold text&lt;/strong&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование ссылки</span></div>
<div class="line">$html = self::_ubb_internal(<span class="stringliteral">&#39;[url=https://example.com]Example[/url]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;a href=&quot;https://example.com&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;</span></div>
<div class="line">title=<span class="stringliteral">&quot;Example&quot;</span>&gt;Example&lt;/a&gt;</div>
</div><!-- fragment --> <dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd>
<dd>
<a class="el" href="#ade4e103eed321eb69427d7a05f8e939a" title="Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов.">PhotoRigma\Classes\Work_Helper\_process_bbcode_recursively()</a><ul>
<li>Приватный метод для рекурсивной обработки BBCode. </li>
</ul>
</dd>
<dd>
<a class="el" href="#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка).">PhotoRigma\Classes\Work_Helper\ubb()</a> Публичный метод, вызывающий этот защищённый метод. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00853">853</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00893">_clean_field_internal()</a> и <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00950">_process_bbcode_recursively()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00792">ubb()</a>.</p>
<div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph">
<area shape="rect" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="5,9,104,33"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ae7fce393b631f688e62115acde6b2641" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="392,9,530,33"/>
<area shape="poly" title=" " alt="" coords="104,11,151,6,248,3,344,6,377,9,377,14,344,12,248,8,152,12,104,17"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ade4e103eed321eb69427d7a05f8e939a" title="Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов." alt="" coords="152,45,344,69"/>
<area shape="poly" title=" " alt="" coords="104,28,164,39,163,44,103,33"/>
<area shape="poly" title=" " alt="" coords="325,41,376,33,377,38,326,47"/>
<area shape="poly" title=" " alt="" coords="216,46,209,36,213,26,226,20,248,18,272,21,284,28,281,32,270,26,248,23,227,25,217,30,214,36,220,43"/>
</map>
</div>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph">
<area shape="rect" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="287,12,385,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="197,12,239,37"/>
<area shape="poly" title=" " alt="" coords="271,27,239,27,239,22,271,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML." alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="a1f0724c64151f06d211ca5d639046f5f" name="a1f0724c64151f06d211ca5d639046f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0724c64151f06d211ca5d639046f5f">&#9670;&#160;</a></span>_utf8_wordwrap_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _utf8_wordwrap_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$width</em></span><span class="paramdefsep"> = </span><span class="paramdefval">70</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$break</em></span><span class="paramdefsep"> = </span><span class="paramdefval">PHP_EOL</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Разбивка строки на несколько строк ограниченной длины (защищённый метод). </p>
<p>Этот защищённый метод разбивает строку на несколько строк, каждая из которых имеет длину не более указанной. Разрыв строки выполняется только по пробелам, чтобы сохранить читаемость текста. Поддерживается работа с UTF-8 символами. Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод utf8_wordwrap().</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>Исходная строка. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая или её длина меньше или равна $width, она возвращается без изменений. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$width</td><td>Максимальная длина строки (по умолчанию 70). Должен быть положительным целым числом. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$break</td><td>Символ разрыва строки (по умолчанию PHP_EOL). Не должен быть пустой строкой.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка, разбитая на несколько строк. В случае некорректных параметров возвращается исходная строка.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод корректно работает только с UTF-8 символами. </dd>
<dd>
Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Разбивка строки на части длиной 10 символов</span></div>
<div class="line">$wrapped = self::_utf8_wordwrap_internal(<span class="stringliteral">&#39;This is a very long string that needs to be wrapped.&#39;</span>, 10);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is a</span></div>
<div class="line"><span class="comment">// very long</span></div>
<div class="line"><span class="comment">// string that</span></div>
<div class="line"><span class="comment">// needs to be</span></div>
<div class="line"><span class="comment">// wrapped.</span></div>
</div><!-- fragment --> <dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd>
<dd>
<a class="el" href="#aa76be87bb05ca60ff16f6d47f5a44c32" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка).">PhotoRigma\Classes\Work_Helper\utf8_wordwrap()</a> Публичный метод, вызывающий этот защищённый метод. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01213">1213</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01163">utf8_wordwrap()</a>.</p>
<div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph">
<area shape="rect" title="Разбивка строки на несколько строк ограниченной длины (защищённый метод)." alt="" coords="352,12,514,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#aa76be87bb05ca60ff16f6d47f5a44c32" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка)." alt="" coords="198,12,304,37"/>
<area shape="poly" title=" " alt="" coords="336,27,305,27,305,22,336,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32" title="Разбивка строки на несколько строк ограниченной длины." alt="" coords="5,5,150,44"/>
<area shape="poly" title=" " alt="" coords="182,27,150,27,150,22,182,22"/>
</map>
</div>

</div>
</div>
<a id="a95d88f48db4a5bac5b064e99d896c82f" name="a95d88f48db4a5bac5b064e99d896c82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d88f48db4a5bac5b064e99d896c82f">&#9670;&#160;</a></span>_validate_mime_type_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _validate_mime_type_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$real_mime_type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Проверка MIME-типа файла через доступные библиотеки (защищённый метод). </p>
<p>Этот защищённый метод проверяет, поддерживается ли указанный MIME-тип хотя бы одной из доступных библиотек:</p><ul>
<li>Imagick</li>
<li>Gmagick</li>
<li>Встроенные функции PHP по работе с изображениями (GD) Если MIME-тип не поддерживается ни одной библиотекой, возвращается false. Поддерживаются MIME-типы для изображений, таких как JPEG, PNG, GIF, WebP и другие. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод validate_mime_type().</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$real_mime_type</td><td>Реальный MIME-тип файла. Должен быть корректным MIME-типом для изображений.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>bool True, если MIME-тип поддерживается хотя бы одной библиотекой, иначе false.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод зависит от доступности библиотек (Imagick, Gmagick) и встроенных функций PHP по работе с изображениями (GD). Если ни одна из библиотек недоступна, метод может некорректно работать.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Проверка поддерживаемого MIME-типа</span></div>
<div class="line">$is_supported = self::_validate_mime_type_internal(<span class="stringliteral">&#39;image/jpeg&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка неподдерживаемого MIME-типа</span></div>
<div class="line">$is_supported = self::_validate_mime_type_internal(<span class="stringliteral">&#39;application/pdf&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: false</span></div>
</div><!-- fragment --> <dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd>
<dd>
<a class="el" href="#a41518918c225073130bc7a73983d72ff" title="Проверка MIME-типа файла через доступные библиотеки (публичная обёртка).">PhotoRigma\Classes\Work_Helper\validate_mime_type()</a> Публичный метод, вызывающий этот защищённый метод. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01329">1329</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01284">validate_mime_type()</a>.</p>
<div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph">
<area shape="rect" title="Проверка MIME&#45;типа файла через доступные библиотеки (защищённый метод)." alt="" coords="888,51,1031,90"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a41518918c225073130bc7a73983d72ff" title="Проверка MIME&#45;типа файла через доступные библиотеки (публичная обёртка)." alt="" coords="703,58,840,83"/>
<area shape="poly" title=" " alt="" coords="872,73,840,73,840,68,872,68"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff" title="Проверка MIME&#45;типа файла через доступные библиотеки." alt="" coords="481,51,655,90"/>
<area shape="poly" title=" " alt="" coords="688,73,656,73,656,68,688,68"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#ad4b80c2a856976f677402f8e99553442" title="Внутренний метод для универсальной проверки входных данных." alt="" coords="267,5,422,58"/>
<area shape="poly" title=" " alt="" coords="465,55,422,48,423,42,466,50"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="256,83,433,135"/>
<area shape="poly" title=" " alt="" coords="466,91,434,96,433,91,465,85"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#a6e6ea2a212c3c2dee206a1753b673b7d" title="Универсальная проверка входных данных." alt="" coords="15,12,198,51"/>
<area shape="poly" title=" " alt="" coords="252,34,199,34,199,29,252,29"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,90,208,128"/>
<area shape="poly" title=" " alt="" coords="240,112,208,112,208,106,240,106"/>
</map>
</div>

</div>
</div>
<a id="ab73ba07b8376dd2e1764240c73a338ea" name="ab73ba07b8376dd2e1764240c73a338ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73ba07b8376dd2e1764240c73a338ea">&#9670;&#160;</a></span>clean_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static clean_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Очистка строки от HTML-тегов и специальных символов (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который удаляет HTML-теги и экранирует специальные символы, такие как <code>&amp;lt;</code>, <code>&amp;gt;</code>, <code>&amp;amp;</code>, <code>&amp;quot</code>, <code>&amp;#039;</code>. Используется для защиты от XSS-атак и других проблем, связанных с некорректными данными. Вся основная логика реализована в защищённом методе _clean_field_internal().</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$field</td><td>Строка или данные, которые могут быть преобразованы в строку. Если входные данные пусты (null или пустая строка), метод вернёт null.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Очищенная строка или '', если входные данные пусты.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод не обрабатывает вложенные структуры данных (например, массивы). Убедитесь, что входные данные могут быть преобразованы в строку.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line">$dirty_input = <span class="stringliteral">&#39;&amp;lt;script&amp;gt;alert(&amp;quotXSS&amp;quot)&amp;lt;/script&amp;gt;&#39;</span>;</div>
<div class="line">$cleaned = <a class="code hl_function" href="#ab73ba07b8376dd2e1764240c73a338ea">Work_Helper::clean_field</a>($dirty_input);</div>
<div class="line">echo $cleaned; <span class="comment">// Выведет: &amp;lt;script&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/script&amp;gt;</span></div>
</div><!-- fragment --> <dl class="section see"><dt>См. также</dt><dd><a class="el" href="#ae7fce393b631f688e62115acde6b2641" title="Очистка строки от HTML-тегов и специальных символов (защищённый метод).">PhotoRigma\Classes\Work_Helper\_clean_field_internal()</a> Защищённый метод, выполняющий очистку. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3" title="Очистка строки от HTML-тегов и специальных символов.">PhotoRigma\Classes\Work\clean_field()</a> Этот метод вызывается через класс Work. </dd></dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00423">423</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00893">_clean_field_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00865">Work\clean_field()</a>.</p>
<div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph">
<area shape="rect" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="5,5,88,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ae7fce393b631f688e62115acde6b2641" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="136,5,274,30"/>
<area shape="poly" title=" " alt="" coords="88,15,120,15,120,20,88,20"/>
</map>
</div>
<div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph">
<area shape="rect" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="676,406,759,431"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a8ecb9d3a6cba675b7a2d72ddc14b53f3" title="Очистка строки от HTML&#45;тегов и специальных символов." alt="" coords="485,399,628,438"/>
<area shape="poly" title=" " alt="" coords="661,421,629,421,629,416,661,416"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#af92390a67888a39d1aa0f3f10a045433" title="Формирует информационную строку для категории или пользовательского альбома." alt="" coords="256,5,437,58"/>
<area shape="poly" title=" " alt="" coords="550,384,541,319,521,236,506,192,487,149,464,109,435,72,422,61,425,57,439,68,468,106,492,147,511,190,526,235,546,318,555,383"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a44160f09c7dbb17349602f0862c95d62" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="265,83,428,135"/>
<area shape="poly" title=" " alt="" coords="546,384,533,333,511,271,479,206,459,176,435,150,421,138,424,134,439,146,463,173,483,204,516,269,538,331,551,383"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a88355b68549854e972970158df564179" title="Генерирует блок данных для вывода изображений различных типов." alt="" coords="262,160,430,213"/>
<area shape="poly" title=" " alt="" coords="540,386,500,307,471,264,435,227,419,215,422,211,439,223,475,261,504,304,545,383"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a7c272bd5112b72e9047a6dafdd9cfd8c" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="258,237,435,290"/>
<area shape="poly" title=" " alt="" coords="527,389,486,346,435,305,415,293,418,288,439,300,490,342,531,385"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#ad1a946d518250f1085369cfad3719cc3" title="Генерирует массив статистических данных для шаблона." alt="" coords="258,315,435,367"/>
<area shape="poly" title=" " alt="" coords="487,396,419,370,421,365,489,391"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="258,392,435,445"/>
<area shape="poly" title=" " alt="" coords="469,421,435,421,435,416,469,416"/>
<area shape="rect" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a1ef5df918700c21dc94152e4a8329770" title="Метод создает и обрабатывает шаблон, включая чтение файла, парсинг и замену плейсхолдеров." alt="" coords="258,468,434,507"/>
<area shape="poly" title=" " alt="" coords="482,446,408,470,407,465,481,440"/>
<area shape="rect" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a34feab7e9589b201ec7fbb6b3507bd30" title="Метод формирует подвал HTML&#45;страницы с выводом копирайта, статистики, информации о пользователе и слу..." alt="" coords="271,531,422,570"/>
<area shape="poly" title=" " alt="" coords="527,451,487,487,438,521,413,533,411,528,436,516,484,482,524,447"/>
<area shape="rect" href="../../de/d28/classPhotoRigma_1_1Classes_1_1Template.html#a341d1f1abf0c06ad67bc2b47134718e2" title="Метод формирует заголовок HTML&#45;страницы с меню, метаданными и блоками контента." alt="" coords="268,594,425,632"/>
<area shape="poly" title=" " alt="" coords="542,452,500,518,472,553,439,583,418,595,415,591,435,579,468,549,496,515,537,450"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aadd99c851f40cd6cfbe2d166477ab062" title="Обрабатывает массив языковых переменных, проверяя его структуру и очищая значения." alt="" coords="261,656,432,695"/>
<area shape="poly" title=" " alt="" coords="549,454,534,497,511,548,479,600,439,646,421,658,418,654,435,642,475,597,506,546,529,495,543,452"/>
<area shape="rect" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html#a8432fa6f08d4982b9c9d9aaede7de566" title="Обновляет данные группы в системе через Админку." alt="" coords="263,719,430,758"/>
<area shape="poly" title=" " alt="" coords="553,454,541,509,520,577,487,647,465,679,439,708,422,721,419,716,435,704,461,676,482,644,515,575,536,507,548,452"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a4dfb943f9b750ec6e1e2924a9620c7f5" title="Формирует информационную строку для категории или пользовательского альбома." alt="" coords="19,12,194,51"/>
<area shape="poly" title=" " alt="" coords="240,34,194,34,194,29,240,29"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#af970fc714c16e27d2d60d698522a8504" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="9,90,204,128"/>
<area shape="poly" title=" " alt="" coords="249,112,205,112,205,106,249,106"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a930a20fbdd1b0e274b7e648d966516c5" title="Генерирует блок данных для вывода изображений различных типов." alt="" coords="6,167,207,206"/>
<area shape="poly" title=" " alt="" coords="247,189,207,189,207,184,247,184"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a9143fed87a3064985e0b51fe5fbb4ac3" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="21,237,192,290"/>
<area shape="poly" title=" " alt="" coords="242,266,192,266,192,261,242,261"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a116ebcf799d07566a74e7e765aecc1b7" title="Генерирует массив статистических данных для шаблона." alt="" coords="7,322,206,360"/>
<area shape="poly" title=" " alt="" coords="242,344,206,344,206,338,242,338"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,399,208,438"/>
<area shape="poly" title=" " alt="" coords="242,421,208,421,208,416,242,416"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aed2ddce38e1559f3014f076e11a2cbe9" title="Устанавливает языковые данные из файла и передаёт их в дочерние классы." alt="" coords="35,656,178,695"/>
<area shape="poly" title=" " alt="" coords="245,678,179,678,179,673,245,673"/>
</map>
</div>

</div>
</div>
<a id="ad9ac814e0001840a4cdbf826d0d6e53e" name="ad9ac814e0001840a4cdbf826d0d6e53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ac814e0001840a4cdbf826d0d6e53e">&#9670;&#160;</a></span>encodename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static encodename </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$string</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Транслитерация строки и замена знаков пунктуации на "_" (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который выполняет транслитерацию не латинских символов в латиницу и заменяет знаки пунктуации на "_". Используется для создания "безопасных" имен файлов или URL. Если входная строка пустая, она возвращается без обработки. Если транслитерация невозможна (например, расширение intl недоступно), используется резервная таблица. Вся основная логика реализована в защищённом методе _encodename_internal().</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>Исходная строка. Если строка пустая, она возвращается без обработки. Рекомендуется использовать строки в кодировке UTF-8.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка после транслитерации и замены символов. Если после обработки строка становится пустой, генерируется уникальная последовательность.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если расширение intl недоступно, используется резервная таблица транслитерации.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Транслитерация строки с заменой знаков пунктуации</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;Привет, мир!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: Privet_mir</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка пустой строки</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: пустую строку</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка строки без кириллицы и знаков пунктуации</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;12345&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: 12345</span></div>
</div><!-- fragment --> <dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a6731465132be58e4a625f9249cd5f7d8" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (защищённый метод).">PhotoRigma\Classes\Work_Helper\_encodename_internal()</a> Защищённый метод, выполняющий транслитерацию. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot;.">PhotoRigma\Classes\Work\encodename()</a> Этот метод вызывается через класс Work. </dd></dl>

<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper_Interface</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00467">467</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00511">_encodename_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00272">Work\encodename()</a>.</p>
<div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph">
<area shape="rect" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка)." alt="" coords="5,5,101,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a6731465132be58e4a625f9249cd5f7d8" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (защищённый метод)." alt="" coords="149,5,300,30"/>
<area shape="poly" title=" " alt="" coords="101,15,133,15,133,20,101,20"/>
</map>
</div>
<div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph">
<area shape="rect" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка)." alt="" coords="596,12,692,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot;." alt="" coords="405,5,548,44"/>
<area shape="poly" title=" " alt="" coords="581,27,549,27,549,22,581,22"/>
<area shape="rect" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html#a1b1bd50120832a8df1d83411fc66162c" title="Обрабатывает загрузку аватара пользователя." alt="" coords="214,5,357,44"/>
<area shape="poly" title=" " alt="" coords="389,27,357,27,357,22,389,22"/>
<area shape="rect" href="../../df/dfe/classPhotoRigma_1_1Classes_1_1User.html#a855f88015180a39f2464a41a2ce2a5c2" title="Обновляет данные существующего пользователя, включая пароль, email, имя и аватар." alt="" coords="5,5,166,44"/>
<area shape="poly" title=" " alt="" coords="198,27,166,27,166,22,198,22"/>
</map>
</div>

</div>
</div>
<a id="ac28b2ada9c4f3a71f7a2df9bb1387413" name="ac28b2ada9c4f3a71f7a2df9bb1387413"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac28b2ada9c4f3a71f7a2df9bb1387413">&#9670;&#160;</a></span>return_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static return_bytes </td>
          <td>(</td>
          <td class="paramtype">string|int</td>          <td class="paramname"><span class="paramname"><em>$val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование размера в байты (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который преобразует размер, заданный в формате "число[K|M|G]", в количество байт. Поддерживаются суффиксы:</p><ul>
<li>K (килобайты): умножается на 1024.</li>
<li>M (мегабайты): умножается на 1024².</li>
<li>G (гигабайты): умножается на 1024³. Если суффикс отсутствует или недопустим, значение считается в байтах. Отрицательные числа преобразуются в положительные. Если входные данные некорректны, возвращается 0. Вся основная логика реализована в защищённом методе _return_bytes_internal().</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$val</td><td>Размер в формате "число[K|M|G]" или число. Если суффикс недопустим, он игнорируется, и значение преобразуется в число. Отрицательные числа преобразуются в положительные.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>int Размер в байтах. Возвращает 0 для некорректных входных данных.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если суффикс недопустим, он игнорируется, и значение преобразуется в число.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование с допустимым суффиксом</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#ac28b2ada9c4f3a71f7a2df9bb1387413">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;2M&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 2097152</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование отрицательного значения</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#ac28b2ada9c4f3a71f7a2df9bb1387413">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;-1G&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 1073741824</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование с недопустимым суффиксом</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#ac28b2ada9c4f3a71f7a2df9bb1387413">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;10X&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 10</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование некорректных данных</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#ac28b2ada9c4f3a71f7a2df9bb1387413">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;abc&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 0</span></div>
</div><!-- fragment --> <dl class="section see"><dt>См. также</dt><dd><a class="el" href="#aa85b3536adbc623cecafaf30fa666958" title="Преобразование размера в байты (защищённый метод).">PhotoRigma\Classes\Work_Helper\_return_bytes_internal()</a> Защищённый метод, выполняющий преобразование. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ac28b2ada9c4f3a71f7a2df9bb1387413" title="Преобразование размера в байты.">PhotoRigma\Classes\Work\return_bytes()</a> Этот метод вызывается через класс Work. </dd></dl>

<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#ac28b2ada9c4f3a71f7a2df9bb1387413">Work_Helper_Interface</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00658">658</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00709">_return_bytes_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00231">Work\return_bytes()</a>.</p>
<div id="dynsection-15" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_cgraph">
<area shape="rect" title="Преобразование размера в байты (публичная обёртка)." alt="" coords="5,5,98,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#aa85b3536adbc623cecafaf30fa666958" title="Преобразование размера в байты (защищённый метод)." alt="" coords="146,5,294,30"/>
<area shape="poly" title=" " alt="" coords="98,15,130,15,130,20,98,20"/>
</map>
</div>
<div id="dynsection-16" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ac28b2ada9c4f3a71f7a2df9bb1387413_icgraph">
<area shape="rect" title="Преобразование размера в байты (публичная обёртка)." alt="" coords="197,12,289,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ac28b2ada9c4f3a71f7a2df9bb1387413" title="Преобразование размера в байты." alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="a3163f8e7d71cad9003bf5b3efe644712" name="a3163f8e7d71cad9003bf5b3efe644712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3163f8e7d71cad9003bf5b3efe644712">&#9670;&#160;</a></span>ubb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ubb </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование BBCode в HTML (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который преобразует BBCode-теги в соответствующие HTML-теги. Поддерживаются следующие BBCode-теги:</p><ul>
<li>[b]Жирный текст[/b]</li>
<li>[u]Подчёркнутый текст[/u]</li>
<li>[i]Курсив[/i]</li>
<li>[url]Ссылка[/url], [url=URL]Текст ссылки[/url]</li>
<li>[color=COLOR]Цвет текста[/color]</li>
<li>[size=SIZE]Размер текста[/size]</li>
<li>[quote]Цитата[/quote], [quote=AUTHOR]Цитата автора[/quote]</li>
<li>[list], [list=1], [list=a] — списки</li>
<li>[code]Блок кода[/code]</li>
<li>[spoiler]Спойлер[/spoiler]</li>
<li>[hr] — горизонтальная линия</li>
<li>[br] — перенос строки</li>
<li>[left], [center], [right] — выравнивание текста</li>
<li>[img]Изображение[/img] Метод защищает от XSS-атак, проверяет корректность URL и ограничивает глубину рекурсии для вложенных тегов. Вся основная логика реализована в защищённом методе _ubb_internal().</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Текст с BBCode. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая, она возвращается без обработки.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Текст с HTML-разметкой. Некорректные BBCode-теги игнорируются или преобразуются в текст.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод ограничивает глубину рекурсии для вложенных тегов (максимум 10 уровней). </dd>
<dd>
Некорректные URL или изображения заменяются на безопасные значения или удаляются.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование жирного текста</span></div>
<div class="line">$html = <a class="code hl_function" href="#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper::ubb</a>(<span class="stringliteral">&#39;[b]Bold text[/b]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;strong&gt;Bold text&lt;/strong&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование ссылки</span></div>
<div class="line">$html = <a class="code hl_function" href="#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper::ubb</a>(<span class="stringliteral">&#39;[url=https://example.com]Example[/url]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;a href=&quot;https://example.com&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot;</span></div>
<div class="line">title=<span class="stringliteral">&quot;Example&quot;</span>&gt;Example&lt;/a&gt;</div>
</div><!-- fragment --> <dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод).">PhotoRigma\Classes\Work_Helper\_ubb_internal()</a> Защищённый метод, выполняющий преобразование BBCode. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML.">PhotoRigma\Classes\Work\ubb()</a> Этот метод вызывается через класс Work. </dd></dl>

<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper_Interface</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00792">792</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00853">_ubb_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00332">Work\ubb()</a>.</p>
<div id="dynsection-17" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph">
<area shape="rect" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="5,9,48,33"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="96,9,194,33"/>
<area shape="poly" title=" " alt="" coords="48,18,80,18,80,24,48,24"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ae7fce393b631f688e62115acde6b2641" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="482,9,621,33"/>
<area shape="poly" title=" " alt="" coords="194,11,242,6,338,3,434,6,468,9,467,14,434,12,338,8,242,12,195,17"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ade4e103eed321eb69427d7a05f8e939a" title="Рекурсивно преобразует BBCode в HTML, проверяя глубину рекурсии и корректность тегов." alt="" coords="242,45,434,69"/>
<area shape="poly" title=" " alt="" coords="195,28,254,39,253,44,194,33"/>
<area shape="poly" title=" " alt="" coords="415,41,467,33,468,38,416,47"/>
<area shape="poly" title=" " alt="" coords="306,46,299,36,303,26,316,20,338,18,362,21,374,28,372,32,361,26,338,23,318,25,307,30,305,36,311,43"/>
</map>
</div>
<div id="dynsection-18" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph">
<area shape="rect" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="197,12,239,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML." alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="aa76be87bb05ca60ff16f6d47f5a44c32" name="aa76be87bb05ca60ff16f6d47f5a44c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76be87bb05ca60ff16f6d47f5a44c32">&#9670;&#160;</a></span>utf8_wordwrap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static utf8_wordwrap </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$width</em></span><span class="paramdefsep"> = </span><span class="paramdefval">70</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$break</em></span><span class="paramdefsep"> = </span><span class="paramdefval">PHP_EOL</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Разбивка строки на несколько строк ограниченной длины (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который разбивает строку на несколько строк, каждая из которых имеет длину не более указанной. Разрыв строки выполняется только по пробелам, чтобы сохранить читаемость текста. Поддерживается работа с UTF-8 символами. Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка. Вся основная логика реализована в защищённом методе _utf8_wordwrap_internal().</p>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>Исходная строка. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая или её длина меньше или равна $width, она возвращается без изменений. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$width</td><td>Максимальная длина строки (по умолчанию 70). Должен быть положительным целым числом. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$break</td><td>Символ разрыва строки (по умолчанию PHP_EOL). Не должен быть пустой строкой.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка, разбитая на несколько строк. В случае некорректных параметров возвращается исходная строка.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод корректно работает только с UTF-8 символами. </dd>
<dd>
Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Разбивка строки на части длиной 10 символов</span></div>
<div class="line">$wrapped = <a class="code hl_function" href="#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper::utf8_wordwrap</a>(<span class="stringliteral">&#39;This is a very long string that needs to be wrapped.&#39;</span>, 10);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is a</span></div>
<div class="line"><span class="comment">// very long</span></div>
<div class="line"><span class="comment">// string that</span></div>
<div class="line"><span class="comment">// needs to be</span></div>
<div class="line"><span class="comment">// wrapped.</span></div>
</div><!-- fragment --> <dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32" title="Разбивка строки на несколько строк ограниченной длины.">PhotoRigma\Classes\Work\utf8_wordwrap()</a> Этот метод вызывается через класс Work.</dd>
<dd>
<a class="el" href="#a1f0724c64151f06d211ca5d639046f5f" title="Разбивка строки на несколько строк ограниченной длины (защищённый метод).">PhotoRigma\Classes\Work_Helper\_utf8_wordwrap_internal()</a> Защищённый метод, выполняющий разбиение строки. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd></dl>

<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper_Interface</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01163">1163</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01213">_utf8_wordwrap_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00390">Work\utf8_wordwrap()</a>.</p>
<div id="dynsection-19" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph">
<area shape="rect" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка)." alt="" coords="5,5,112,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a1f0724c64151f06d211ca5d639046f5f" title="Разбивка строки на несколько строк ограниченной длины (защищённый метод)." alt="" coords="160,5,322,30"/>
<area shape="poly" title=" " alt="" coords="112,15,144,15,144,20,112,20"/>
</map>
</div>
<div id="dynsection-20" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph">
<area shape="rect" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка)." alt="" coords="198,12,304,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32" title="Разбивка строки на несколько строк ограниченной длины." alt="" coords="5,5,150,44"/>
<area shape="poly" title=" " alt="" coords="182,27,150,27,150,22,182,22"/>
</map>
</div>

</div>
</div>
<a id="a41518918c225073130bc7a73983d72ff" name="a41518918c225073130bc7a73983d72ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41518918c225073130bc7a73983d72ff">&#9670;&#160;</a></span>validate_mime_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static validate_mime_type </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$real_mime_type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Проверка MIME-типа файла через доступные библиотеки (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который проверяет, поддерживается ли указанный MIME-тип хотя бы одной из доступных библиотек:</p><ul>
<li>Imagick</li>
<li>Gmagick</li>
<li>Встроенные функции PHP по работе с изображениями (GD) Если MIME-тип не поддерживается ни одной библиотекой, возвращается false. Поддерживаются MIME-типы для изображений, таких как JPEG, PNG, GIF, WebP и другие. Вся основная логика реализована в защищённом методе _validate_mime_type_internal(). Редирект осуществляется только из класса Work.</li>
</ul>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$real_mime_type</td><td>Реальный MIME-тип файла. Должен быть корректным MIME-типом для изображений.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>bool True, если MIME-тип поддерживается хотя бы одной библиотекой, иначе false.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод зависит от доступности библиотек (Imagick, Gmagick) и встроенных функций PHP по работе с изображениями (GD). Если ни одна из библиотек недоступна, метод может некорректно работать.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Проверка поддерживаемого MIME-типа</span></div>
<div class="line">$is_supported = <a class="code hl_function" href="#a41518918c225073130bc7a73983d72ff">Work_Helper::validate_mime_type</a>(<span class="stringliteral">&#39;image/jpeg&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка неподдерживаемого MIME-типа</span></div>
<div class="line">$is_supported = <a class="code hl_function" href="#a41518918c225073130bc7a73983d72ff">Work_Helper::validate_mime_type</a>(<span class="stringliteral">&#39;application/pdf&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: false</span></div>
</div><!-- fragment --> <dl class="exception"><dt>Исключения</dt><dd>
  <table class="exception">
    <tr><td class="paramname">Exception</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a95d88f48db4a5bac5b064e99d896c82f" title="Проверка MIME-типа файла через доступные библиотеки (защищённый метод).">PhotoRigma\Classes\Work_Helper\_validate_mime_type_internal()</a> Защищённый метод, выполняющий проверку MIME-типа. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff" title="Проверка MIME-типа файла через доступные библиотеки.">PhotoRigma\Classes\Work\validate_mime_type()</a> Этот метод вызывается через класс Work. </dd></dl>

<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#a41518918c225073130bc7a73983d72ff">Work_Helper_Interface</a>.</p>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01284">1284</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01329">_validate_mime_type_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00437">Work\validate_mime_type()</a>.</p>
<div id="dynsection-21" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-21-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-21-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-21-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph">
<area shape="rect" title="Проверка MIME&#45;типа файла через доступные библиотеки (публичная обёртка)." alt="" coords="5,12,142,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a95d88f48db4a5bac5b064e99d896c82f" title="Проверка MIME&#45;типа файла через доступные библиотеки (защищённый метод)." alt="" coords="190,5,333,44"/>
<area shape="poly" title=" " alt="" coords="142,22,174,22,174,27,142,27"/>
</map>
</div>
<div id="dynsection-22" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-22-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-22-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-22-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph">
<area shape="rect" title="Проверка MIME&#45;типа файла через доступные библиотеки (публичная обёртка)." alt="" coords="703,58,840,83"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff" title="Проверка MIME&#45;типа файла через доступные библиотеки." alt="" coords="481,51,655,90"/>
<area shape="poly" title=" " alt="" coords="688,73,656,73,656,68,688,68"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#ad4b80c2a856976f677402f8e99553442" title="Внутренний метод для универсальной проверки входных данных." alt="" coords="267,5,422,58"/>
<area shape="poly" title=" " alt="" coords="465,55,422,48,423,42,466,50"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="256,83,433,135"/>
<area shape="poly" title=" " alt="" coords="466,91,434,96,433,91,465,85"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#a6e6ea2a212c3c2dee206a1753b673b7d" title="Универсальная проверка входных данных." alt="" coords="15,12,198,51"/>
<area shape="poly" title=" " alt="" coords="252,34,199,34,199,29,252,29"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,90,208,128"/>
<area shape="poly" title=" " alt="" coords="240,112,208,112,208,106,240,106"/>
</map>
</div>

</div>
</div>
<hr/>Объявления и описания членов класса находятся в файле:<ul>
<li>include/<a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a></li><li class="navelem"><a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></li><li class="navelem"><a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html">Work_Helper</a></li>
    <li class="footer">Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
