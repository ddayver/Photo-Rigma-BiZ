<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Photo-Rigma-BiZ: Класс Work_Helper</title>
<link rel="icon" href="../../favicon.ico" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo-1.png"/></td>
  <td id="projectalign">
   <div id="projectname">Photo-Rigma-BiZ<span id="projectnumber">&#160;0.4.0</span>
   </div>
   <div id="projectbrief">Gallery_Photo-Rigma-BiZ</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Создано системой Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Поиск',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Загрузка...</div>
<div class="SRStatus" id="Searching">Поиск...</div>
<div class="SRStatus" id="NoMatches">Не найдено</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Открытые статические члены</a> &#124;
<a href="#pro-static-methods">Защищенные статические члены</a> &#124;
<a href="../../d2/de8/classPhotoRigma_1_1Classes_1_1Work__Helper-members.html">Полный список членов класса</a>  </div>
  <div class="headertitle"><div class="title">Класс Work_Helper</div></div>
</div><!--header-->
<div class="contents">

<p>Класс для вспомогательных методов.  
 <a href="#details">Подробнее...</a></p>
<div id="dynsection-0" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Граф наследования:Work_Helper:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/d87/classPhotoRigma_1_1Classes_1_1Work__Helper__inherit__graph.png" border="0" usemap="#aWork__Helper_inherit__map" alt="Inheritance graph"/></div>
<map name="aWork__Helper_inherit__map" id="aWork__Helper_inherit__map">
<area shape="rect" title="Класс для вспомогательных методов." alt="" coords="34,78,131,103"/>
<area shape="rect" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов." alt="" coords="5,5,160,30"/>
<area shape="poly" title=" " alt="" coords="85,46,85,78,80,78,80,46"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">см. легенду</a>]</span></center></div>
<div id="dynsection-1" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Граф связей класса Work_Helper:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/dd2/classPhotoRigma_1_1Classes_1_1Work__Helper__coll__graph.png" border="0" usemap="#aWork__Helper_coll__map" alt="Collaboration graph"/></div>
<map name="aWork__Helper_coll__map" id="aWork__Helper_coll__map">
<area shape="rect" title="Класс для вспомогательных методов." alt="" coords="34,78,131,103"/>
<area shape="rect" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов." alt="" coords="5,5,160,30"/>
<area shape="poly" title=" " alt="" coords="85,46,85,78,80,78,80,46"/>
</map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">см. легенду</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Открытые статические члены</h2></td></tr>
<tr class="memitem:ab73ba07b8376dd2e1764240c73a338ea" id="r_ab73ba07b8376dd2e1764240c73a338ea"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab73ba07b8376dd2e1764240c73a338ea">clean_field</a> ($field)</td></tr>
<tr class="memdesc:ab73ba07b8376dd2e1764240c73a338ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Очистка строки от HTML-тегов и специальных символов (публичная обёртка).  <br /></td></tr>
<tr class="separator:ab73ba07b8376dd2e1764240c73a338ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08089badb76485629afe2c4d9f766a30" id="r_a08089badb76485629afe2c4d9f766a30"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a08089badb76485629afe2c4d9f766a30">return_bytes</a> ($val)</td></tr>
<tr class="memdesc:a08089badb76485629afe2c4d9f766a30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование размера в байты (публичная обёртка).  <br /></td></tr>
<tr class="separator:a08089badb76485629afe2c4d9f766a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ac814e0001840a4cdbf826d0d6e53e" id="r_ad9ac814e0001840a4cdbf826d0d6e53e"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad9ac814e0001840a4cdbf826d0d6e53e">encodename</a> (string $string)</td></tr>
<tr class="memdesc:ad9ac814e0001840a4cdbf826d0d6e53e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Транслитерация строки и замена знаков пунктуации на "_" (публичная обёртка).  <br /></td></tr>
<tr class="separator:ad9ac814e0001840a4cdbf826d0d6e53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3163f8e7d71cad9003bf5b3efe644712" id="r_a3163f8e7d71cad9003bf5b3efe644712"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3163f8e7d71cad9003bf5b3efe644712">ubb</a> (string $text)</td></tr>
<tr class="memdesc:a3163f8e7d71cad9003bf5b3efe644712"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование BBCode в HTML (публичная обёртка).  <br /></td></tr>
<tr class="separator:a3163f8e7d71cad9003bf5b3efe644712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa76be87bb05ca60ff16f6d47f5a44c32" id="r_aa76be87bb05ca60ff16f6d47f5a44c32"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa76be87bb05ca60ff16f6d47f5a44c32">utf8_wordwrap</a> (string $str, int $width=70, string $break=PHP_EOL)</td></tr>
<tr class="memdesc:aa76be87bb05ca60ff16f6d47f5a44c32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Разбивка строки на несколько строк ограниченной длины (публичная обёртка).  <br /></td></tr>
<tr class="separator:aa76be87bb05ca60ff16f6d47f5a44c32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41518918c225073130bc7a73983d72ff" id="r_a41518918c225073130bc7a73983d72ff"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a41518918c225073130bc7a73983d72ff">validate_mime_type</a> (string $real_mime_type)</td></tr>
<tr class="memdesc:a41518918c225073130bc7a73983d72ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Проверка MIME-типа файла через доступные библиотеки (публичная обёртка).  <br /></td></tr>
<tr class="separator:a41518918c225073130bc7a73983d72ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Защищенные статические члены</h2></td></tr>
<tr class="memitem:a563c1e74d4b76a0cbb14073d0bf795d9" id="r_a563c1e74d4b76a0cbb14073d0bf795d9"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a563c1e74d4b76a0cbb14073d0bf795d9">_clean_field_internal</a> ($field)</td></tr>
<tr class="memdesc:a563c1e74d4b76a0cbb14073d0bf795d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Очистка строки от HTML-тегов и специальных символов (защищённый метод).  <br /></td></tr>
<tr class="separator:a563c1e74d4b76a0cbb14073d0bf795d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae95e4513a14a8ae48c44cb52ca47a987" id="r_ae95e4513a14a8ae48c44cb52ca47a987"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae95e4513a14a8ae48c44cb52ca47a987">_return_bytes_internal</a> ($val)</td></tr>
<tr class="memdesc:ae95e4513a14a8ae48c44cb52ca47a987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование размера в байты (защищённый метод).  <br /></td></tr>
<tr class="separator:ae95e4513a14a8ae48c44cb52ca47a987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6731465132be58e4a625f9249cd5f7d8" id="r_a6731465132be58e4a625f9249cd5f7d8"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6731465132be58e4a625f9249cd5f7d8">_encodename_internal</a> (string $string)</td></tr>
<tr class="memdesc:a6731465132be58e4a625f9249cd5f7d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Транслитерация строки и замена знаков пунктуации на "_" (защищённый метод).  <br /></td></tr>
<tr class="separator:a6731465132be58e4a625f9249cd5f7d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe88f41126cc81f6153894bb8ac22f0" id="r_a0fe88f41126cc81f6153894bb8ac22f0"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0fe88f41126cc81f6153894bb8ac22f0">_ubb_internal</a> (string $text)</td></tr>
<tr class="memdesc:a0fe88f41126cc81f6153894bb8ac22f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Преобразование BBCode в HTML (защищённый метод).  <br /></td></tr>
<tr class="separator:a0fe88f41126cc81f6153894bb8ac22f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f0724c64151f06d211ca5d639046f5f" id="r_a1f0724c64151f06d211ca5d639046f5f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1f0724c64151f06d211ca5d639046f5f">_utf8_wordwrap_internal</a> (string $str, int $width=70, string $break=PHP_EOL)</td></tr>
<tr class="memdesc:a1f0724c64151f06d211ca5d639046f5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Разбивка строки на несколько строк ограниченной длины (защищённый метод).  <br /></td></tr>
<tr class="separator:a1f0724c64151f06d211ca5d639046f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95d88f48db4a5bac5b064e99d896c82f" id="r_a95d88f48db4a5bac5b064e99d896c82f"><td class="memItemLeft" align="right" valign="top">static&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95d88f48db4a5bac5b064e99d896c82f">_validate_mime_type_internal</a> (string $real_mime_type)</td></tr>
<tr class="memdesc:a95d88f48db4a5bac5b064e99d896c82f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Проверка MIME-типа файла через доступные библиотеки (защищённый метод).  <br /></td></tr>
<tr class="separator:a95d88f48db4a5bac5b064e99d896c82f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Подробное описание</h2>
<div class="textblock"><p>Класс для вспомогательных методов. </p>
<p>Класс реализует интерфейс <code>Work_Helper_Interface</code> и предоставляет статические методы для выполнения различных вспомогательных задач:</p><ul>
<li>Очистка строк от HTML-тегов и специальных символов (<code>clean_field</code>).</li>
<li>Преобразование размеров в байты (<code>return_bytes</code>).</li>
<li>Транслитерация строк и замена знаков пунктуации (<code>encodename</code>).</li>
<li>Преобразование BBCode в HTML (<code>ubb</code>).</li>
<li>Разбиение строк на несколько строк ограниченной длины (<code>utf8_wordwrap</code>).</li>
<li>Проверка MIME-типов файлов через доступные библиотеки (<code>validate_mime_type</code>). Методы класса предназначены для использования в различных частях приложения, таких как обработка пользовательского ввода, работа с файлами, генерация безопасного вывода и т.д.</li>
</ul>
<p>Интерфейс для вспомогательных методов.</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html" title="Интерфейс для вспомогательных методов.">PhotoRigma\Classes\Work_Helper_Interface</a> Интерфейс для вспомогательных методов. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html">PhotoRigma\Classes\Work</a> Класс, через который вызываются вспомогательные методы. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file</a> Функция для логирования ошибок.</dd></dl>
<p>Пример использования класса: </p><div class="fragment"><div class="line"><span class="comment">// Очистка строки от HTML-тегов</span></div>
<div class="line">$cleaned = <a class="code hl_function" href="#ab73ba07b8376dd2e1764240c73a338ea">Work_Helper::clean_field</a>(<span class="stringliteral">&#39;&lt;script&gt;alert(&quot;XSS&quot;)&lt;/script&gt;&#39;</span>);</div>
<div class="line">echo $cleaned; <span class="comment">// Выведет: &lt;script&gt;alert(&amp;quot;XSS&amp;quot;)&lt;/script&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование размера в байты</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#a08089badb76485629afe2c4d9f766a30">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;2M&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 2097152</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Транслитерация строки</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;Привет, мир!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: Privet_mir</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование BBCode в HTML</span></div>
<div class="line">$html = <a class="code hl_function" href="#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper::ubb</a>(<span class="stringliteral">&#39;[b]Bold text[/b]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;strong&gt;Bold text&lt;/strong&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Разбиение строки на части</span></div>
<div class="line">$wrapped = <a class="code hl_function" href="#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper::utf8_wordwrap</a>(<span class="stringliteral">&#39;This is a very long string that needs to be wrapped.&#39;</span>, 10);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is a</span></div>
<div class="line"><span class="comment">// very long</span></div>
<div class="line"><span class="comment">// string that</span></div>
<div class="line"><span class="comment">// needs to be</span></div>
<div class="line"><span class="comment">// wrapped.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка MIME-типа</span></div>
<div class="line">$is_supported = <a class="code hl_function" href="#a41518918c225073130bc7a73983d72ff">Work_Helper::validate_mime_type</a>(<span class="stringliteral">&#39;image/jpeg&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true</span></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a08089badb76485629afe2c4d9f766a30"><div class="ttname"><a href="#a08089badb76485629afe2c4d9f766a30">PhotoRigma\Classes\Work_Helper\return_bytes</a></div><div class="ttdeci">static return_bytes($val)</div><div class="ttdoc">Преобразование размера в байты (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00463">work_helper.php:463</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a3163f8e7d71cad9003bf5b3efe644712"><div class="ttname"><a href="#a3163f8e7d71cad9003bf5b3efe644712">PhotoRigma\Classes\Work_Helper\ubb</a></div><div class="ttdeci">static ubb(string $text)</div><div class="ttdoc">Преобразование BBCode в HTML (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00562">work_helper.php:562</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_a41518918c225073130bc7a73983d72ff"><div class="ttname"><a href="#a41518918c225073130bc7a73983d72ff">PhotoRigma\Classes\Work_Helper\validate_mime_type</a></div><div class="ttdeci">static validate_mime_type(string $real_mime_type)</div><div class="ttdoc">Проверка MIME-типа файла через доступные библиотеки (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00654">work_helper.php:654</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_aa76be87bb05ca60ff16f6d47f5a44c32"><div class="ttname"><a href="#aa76be87bb05ca60ff16f6d47f5a44c32">PhotoRigma\Classes\Work_Helper\utf8_wordwrap</a></div><div class="ttdeci">static utf8_wordwrap(string $str, int $width=70, string $break=PHP_EOL)</div><div class="ttdoc">Разбивка строки на несколько строк ограниченной длины (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00610">work_helper.php:610</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_ab73ba07b8376dd2e1764240c73a338ea"><div class="ttname"><a href="#ab73ba07b8376dd2e1764240c73a338ea">PhotoRigma\Classes\Work_Helper\clean_field</a></div><div class="ttdeci">static clean_field($field)</div><div class="ttdoc">Очистка строки от HTML-тегов и специальных символов (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00412">work_helper.php:412</a></div></div>
<div class="ttc" id="aclassPhotoRigma_1_1Classes_1_1Work__Helper_html_ad9ac814e0001840a4cdbf826d0d6e53e"><div class="ttname"><a href="#ad9ac814e0001840a4cdbf826d0d6e53e">PhotoRigma\Classes\Work_Helper\encodename</a></div><div class="ttdeci">static encodename(string $string)</div><div class="ttdoc">Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка).</div><div class="ttdef"><b>Определения</b> <a href="../../d2/d43/work__helper_8php_source.html#l00507">work_helper.php:507</a></div></div>
</div><!-- fragment --> <dl class="section examples"><dt>Примеры</dt><dd><a class="el" href="../../d4/dcc/_2home_2victoria_2Photo-Rigma-BiZ_2www_2include_2work_8php-example.html#_a5">/home/victoria/Photo-Rigma-BiZ/www/include/work.php</a>.</dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00382">382</a></p>
</div><h2 class="groupheader">Методы</h2>
<a id="a563c1e74d4b76a0cbb14073d0bf795d9" name="a563c1e74d4b76a0cbb14073d0bf795d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a563c1e74d4b76a0cbb14073d0bf795d9">&#9670;&#160;</a></span>_clean_field_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _clean_field_internal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Очистка строки от HTML-тегов и специальных символов (защищённый метод). </p>
<p>Этот защищённый метод удаляет HTML-теги и экранирует специальные символы, такие как <code>&amp;lt;</code>, <code>&amp;gt;</code>, <code>&amp;amp;</code>, <code>&amp;quot</code>, <code>&amp;#039;</code>. Используется для защиты от XSS-атак и других проблем, связанных с некорректными данными. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод clean_field().</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#ab73ba07b8376dd2e1764240c73a338ea" title="Очистка строки от HTML-тегов и специальных символов (публичная обёртка).">PhotoRigma\Classes\Work_Helper\clean_field()</a> Публичный метод, вызывающий этот защищённый метод.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$field</td><td>Строка или данные, которые могут быть преобразованы в строку. Если входные данные пусты (null или пустая строка), метод вернёт null.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string|null Очищенная строка или null, если входные данные пусты.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод не обрабатывает вложенные структуры данных (например, массивы). Убедитесь, что входные данные могут быть преобразованы в строку.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Вызов защищённого метода внутри класса</span></div>
<div class="line">$dirty_input = <span class="stringliteral">&#39;&amp;lt;script&amp;gt;alert(&amp;quotXSS&amp;quot)&amp;lt;/script&amp;gt;&#39;</span>;</div>
<div class="line">$cleaned = self::_clean_field_internal($dirty_input);</div>
<div class="line">echo $cleaned; <span class="comment">// Выведет: &amp;lt;script&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/script&amp;gt;</span></div>
</div><!-- fragment --> 
<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00688">688</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00412">clean_field()</a>.</p>
<div id="dynsection-2" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-2-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-2-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-2-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a563c1e74d4b76a0cbb14073d0bf795d9_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a563c1e74d4b76a0cbb14073d0bf795d9_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a563c1e74d4b76a0cbb14073d0bf795d9_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a563c1e74d4b76a0cbb14073d0bf795d9_icgraph">
<area shape="rect" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="813,279,951,304"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ab73ba07b8376dd2e1764240c73a338ea" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="682,279,765,304"/>
<area shape="poly" title=" " alt="" coords="797,294,765,294,765,289,797,289"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="514,132,612,157"/>
<area shape="poly" title=" " alt="" coords="696,270,576,160,580,156,699,267"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab73ba07b8376dd2e1764240c73a338ea" title=" " alt="" coords="491,300,634,339"/>
<area shape="poly" title=" " alt="" coords="667,304,635,309,635,304,666,299"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="328,12,370,37"/>
<area shape="poly" title=" " alt="" coords="537,124,495,86,442,51,405,37,370,30,372,25,406,32,444,46,498,82,541,120"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title=" " alt="" coords="35,5,178,44"/>
<area shape="poly" title=" " alt="" coords="312,27,178,27,178,22,312,22"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#af92390a67888a39d1aa0f3f10a045433" title="Формирует информационную строку для конкретного раздела или пользовательского альбома." alt="" coords="259,61,440,114"/>
<area shape="poly" title=" " alt="" coords="546,287,506,208,477,165,441,128,425,116,428,112,445,124,481,162,511,205,551,284"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a44160f09c7dbb17349602f0862c95d62" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="268,138,431,191"/>
<area shape="poly" title=" " alt="" coords="533,290,492,247,441,206,421,194,424,189,445,201,496,243,537,286"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a5be64e2d9c6592be321468cd2f947aeb" title="Генерирует блок вывода изображений для различных типов запросов." alt="" coords="265,216,434,268"/>
<area shape="poly" title=" " alt="" coords="492,297,423,271,425,266,494,292"/>
<area shape="rect" href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html#a0502831dd0f02e73d62586e4966e6a71" title="Вывод изображения через HTTP." alt="" coords="256,293,443,346"/>
<area shape="poly" title=" " alt="" coords="475,322,444,322,444,317,475,317"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a7c272bd5112b72e9047a6dafdd9cfd8c" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="261,370,438,423"/>
<area shape="poly" title=" " alt="" coords="494,347,425,372,423,367,492,342"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#ad1a946d518250f1085369cfad3719cc3" title="Генерирует массив статистических данных для шаблона." alt="" coords="261,448,438,500"/>
<area shape="poly" title=" " alt="" coords="537,353,496,396,445,438,424,449,421,445,441,433,492,392,533,349"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="261,525,438,578"/>
<area shape="poly" title=" " alt="" coords="551,355,511,434,481,477,445,515,428,527,425,522,441,511,477,473,506,431,546,352"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3fc2465ff08a31b214f6d708c51090e0" title="Рекурсивная обработка массива для безопасного вывода через HTML." alt="" coords="278,625,421,664"/>
<area shape="poly" title=" " alt="" coords="556,355,542,405,519,467,487,532,445,592,423,612,398,627,395,623,420,607,441,588,483,530,514,465,537,404,551,353"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a4dfb943f9b750ec6e1e2924a9620c7f5" title="Формирует информационную строку для конкретного раздела или пользовательского альбома." alt="" coords="19,68,194,107"/>
<area shape="poly" title=" " alt="" coords="243,90,194,90,194,85,243,85"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#af970fc714c16e27d2d60d698522a8504" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="9,145,204,184"/>
<area shape="poly" title=" " alt="" coords="252,167,205,167,205,162,252,162"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#ab90e7e1e6aa1d2c9abe81faed1db03a1" title="Генерирует блок вывода изображений для различных типов запросов." alt="" coords="6,223,207,261"/>
<area shape="poly" title=" " alt="" coords="250,245,207,245,207,239,250,239"/>
<area shape="rect" href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html#aeabe138e0704bd8403da0faf894ad0df" title="Вывод изображения через HTTP." alt="" coords="16,300,197,339"/>
<area shape="poly" title=" " alt="" coords="240,322,197,322,197,317,240,317"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a9143fed87a3064985e0b51fe5fbb4ac3" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="21,370,192,423"/>
<area shape="poly" title=" " alt="" coords="245,399,192,399,192,394,245,394"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a116ebcf799d07566a74e7e765aecc1b7" title="Генерирует массив статистических данных для шаблона." alt="" coords="7,455,206,493"/>
<area shape="poly" title=" " alt="" coords="245,477,207,477,207,471,245,471"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,532,208,571"/>
<area shape="poly" title=" " alt="" coords="245,554,208,554,208,549,245,549"/>
<area shape="poly" title=" " alt="" coords="384,612,372,606,349,604,329,606,316,611,312,617,315,624,310,626,307,616,313,607,327,601,349,599,373,601,387,608"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaf95d95540a3e47c5905a47db3424ed9" title=" " alt="" coords="35,625,178,664"/>
<area shape="poly" title=" " alt="" coords="262,647,179,647,179,642,262,642"/>
</map>
</div>

</div>
</div>
<a id="a6731465132be58e4a625f9249cd5f7d8" name="a6731465132be58e4a625f9249cd5f7d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6731465132be58e4a625f9249cd5f7d8">&#9670;&#160;</a></span>_encodename_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _encodename_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$string</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Транслитерация строки и замена знаков пунктуации на "_" (защищённый метод). </p>
<p>Этот защищённый метод выполняет транслитерацию не латинских символов в латиницу и заменяет знаки пунктуации на "_". Используется для создания "безопасных" имен файлов или URL. Если входная строка пустая, она возвращается без обработки. Если транслитерация невозможна (например, расширение intl недоступно), используется резервная таблица. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод encodename().</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#ad9ac814e0001840a4cdbf826d0d6e53e" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка).">PhotoRigma\Classes\Work_Helper\encodename()</a> Публичный метод, вызывающий этот защищённый метод.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>Исходная строка. Если строка пустая, она возвращается без обработки. Рекомендуется использовать строки в кодировке UTF-8.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка после транслитерации и замены символов. Если после обработки строка становится пустой, генерируется уникальная последовательность.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если расширение intl недоступно, используется резервная таблица транслитерации.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Транслитерация строки с заменой знаков пунктуации</span></div>
<div class="line">$encoded = self::_encodename_internal(<span class="stringliteral">&#39;Привет, мир!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: Privet_mir</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка пустой строки</span></div>
<div class="line">$encoded = self::_encodename_internal(<span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: пустую строку</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка строки без кириллицы и знаков пунктуации</span></div>
<div class="line">$encoded = self::_encodename_internal(<span class="stringliteral">&#39;12345&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: 12345</span></div>
</div><!-- fragment --> 
<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00822">822</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00507">encodename()</a>.</p>
<div id="dynsection-3" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-3-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-3-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-3-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a6731465132be58e4a625f9249cd5f7d8_icgraph">
<area shape="rect" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (защищённый метод)." alt="" coords="340,12,491,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ad9ac814e0001840a4cdbf826d0d6e53e" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка)." alt="" coords="197,12,292,37"/>
<area shape="poly" title=" " alt="" coords="324,27,292,27,292,22,324,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e" title=" " alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="ae95e4513a14a8ae48c44cb52ca47a987" name="ae95e4513a14a8ae48c44cb52ca47a987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae95e4513a14a8ae48c44cb52ca47a987">&#9670;&#160;</a></span>_return_bytes_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _return_bytes_internal </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование размера в байты (защищённый метод). </p>
<p>Этот защищённый метод преобразует размер, заданный в формате "число[K|M|G]", в количество байт. Поддерживаются суффиксы:</p><ul>
<li>K (килобайты): умножается на 1024.</li>
<li>M (мегабайты): умножается на 1024².</li>
<li>G (гигабайты): умножается на 1024³. Если суффикс отсутствует или недопустим, значение считается в байтах. Отрицательные числа преобразуются в положительные. Если входные данные некорректны, возвращается 0. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод return_bytes().</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a08089badb76485629afe2c4d9f766a30" title="Преобразование размера в байты (публичная обёртка).">PhotoRigma\Classes\Work_Helper\return_bytes()</a> Публичный метод, вызывающий этот защищённый метод.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$val</td><td>Размер в формате "число[K|M|G]" или число. Если суффикс недопустим, он игнорируется, и значение преобразуется в число. Отрицательные числа преобразуются в положительные.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>int Размер в байтах. Возвращает 0 для некорректных входных данных.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если суффикс недопустим, он игнорируется, и значение преобразуется в число.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование с допустимым суффиксом</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;2M&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 2097152</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование отрицательного значения</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;-1G&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 1073741824</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование с недопустимым суффиксом</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;10X&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 10</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование некорректных данных</span></div>
<div class="line">$bytes = self::_return_bytes_internal(<span class="stringliteral">&#39;abc&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 0</span></div>
</div><!-- fragment --> 
<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00753">753</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00463">return_bytes()</a>.</p>
<div id="dynsection-4" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-4-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-4-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-4-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae95e4513a14a8ae48c44cb52ca47a987_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae95e4513a14a8ae48c44cb52ca47a987_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae95e4513a14a8ae48c44cb52ca47a987_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ae95e4513a14a8ae48c44cb52ca47a987_icgraph">
<area shape="rect" title="Преобразование размера в байты (защищённый метод)." alt="" coords="337,12,485,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a08089badb76485629afe2c4d9f766a30" title="Преобразование размера в байты (публичная обёртка)." alt="" coords="197,12,289,37"/>
<area shape="poly" title=" " alt="" coords="322,27,289,27,289,22,322,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a08089badb76485629afe2c4d9f766a30" title=" " alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="a0fe88f41126cc81f6153894bb8ac22f0" name="a0fe88f41126cc81f6153894bb8ac22f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe88f41126cc81f6153894bb8ac22f0">&#9670;&#160;</a></span>_ubb_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _ubb_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование BBCode в HTML (защищённый метод). </p>
<p>Этот защищённый метод преобразует BBCode-теги в соответствующие HTML-теги с учетом рекурсивной обработки вложенных тегов. Поддерживаются следующие BBCode-теги:</p><ul>
<li>[b]Жирный текст[/b]</li>
<li>[u]Подчёркнутый текст[/u]</li>
<li>[i]Курсив[/i]</li>
<li>[url]Ссылка[/url], [url=URL]Текст ссылки[/url]</li>
<li>[color=COLOR]Цвет текста[/color]</li>
<li>[size=SIZE]Размер текста[/size]</li>
<li>[quote]Цитата[/quote], [quote=AUTHOR]Цитата автора[/quote]</li>
<li>[list], [list=1], [list=a] — списки</li>
<li>[code]Блок кода[/code]</li>
<li>[spoiler]Спойлер[/spoiler]</li>
<li>[hr] — горизонтальная линия</li>
<li>[br] — перенос строки</li>
<li>[left], [center], [right] — выравнивание текста</li>
<li>[img]Изображение[/img] Метод защищает от XSS-атак, проверяет корректность URL и ограничивает глубину рекурсии для вложенных тегов. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод ubb().</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка).">PhotoRigma\Classes\Work_Helper\ubb()</a> Публичный метод, вызывающий этот защищённый метод. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Текст с BBCode. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая, она возвращается без обработки.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Текст с HTML-разметкой. Некорректные BBCode-теги игнорируются или преобразуются в текст.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод ограничивает глубину рекурсии для вложенных тегов (максимум 10 уровней). </dd>
<dd>
Некорректные URL или изображения заменяются на безопасные значения или удаляются.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование жирного текста</span></div>
<div class="line">$html = self::_ubb_internal(<span class="stringliteral">&#39;[b]Bold text[/b]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;strong&gt;Bold text&lt;/strong&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование ссылки</span></div>
<div class="line">$html = self::_ubb_internal(<span class="stringliteral">&#39;[url=https://example.com]Example[/url]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;a href=&quot;https://example.com&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; title=&quot;Example&quot;&gt;Example&lt;/a&gt;</span></div>
</div><!-- fragment --> 
<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00921">921</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00412">clean_field()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00562">ubb()</a>.</p>
<div id="dynsection-5" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-5-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-5-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-5-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_cgraph">
<area shape="rect" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="5,5,104,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ab73ba07b8376dd2e1764240c73a338ea" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="152,5,234,30"/>
<area shape="poly" title=" " alt="" coords="104,15,136,15,136,20,104,20"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a563c1e74d4b76a0cbb14073d0bf795d9" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="282,5,420,30"/>
<area shape="poly" title=" " alt="" coords="235,15,267,15,267,20,235,20"/>
</map>
</div>
<div id="dynsection-6" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-6-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-6-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-6-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a0fe88f41126cc81f6153894bb8ac22f0_icgraph">
<area shape="rect" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="287,12,385,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="197,12,239,37"/>
<area shape="poly" title=" " alt="" coords="271,27,239,27,239,22,271,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title=" " alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="a1f0724c64151f06d211ca5d639046f5f" name="a1f0724c64151f06d211ca5d639046f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f0724c64151f06d211ca5d639046f5f">&#9670;&#160;</a></span>_utf8_wordwrap_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _utf8_wordwrap_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$width</em></span><span class="paramdefsep"> = </span><span class="paramdefval">70</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$break</em></span><span class="paramdefsep"> = </span><span class="paramdefval">PHP_EOL</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Разбивка строки на несколько строк ограниченной длины (защищённый метод). </p>
<p>Этот защищённый метод разбивает строку на несколько строк, каждая из которых имеет длину не более указанной. Разрыв строки выполняется только по пробелам, чтобы сохранить читаемость текста. Поддерживается работа с UTF-8 символами. Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод utf8_wordwrap().</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#aa76be87bb05ca60ff16f6d47f5a44c32" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка).">PhotoRigma\Classes\Work_Helper\utf8_wordwrap()</a> Публичный метод, вызывающий этот защищённый метод. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>Исходная строка. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая или её длина меньше или равна $width, она возвращается без изменений. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$width</td><td>Максимальная длина строки (по умолчанию 70). Должен быть положительным целым числом. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$break</td><td>Символ разрыва строки (по умолчанию PHP_EOL). Не должен быть пустой строкой.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка, разбитая на несколько строк. В случае некорректных параметров возвращается исходная строка.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод корректно работает только с UTF-8 символами. </dd>
<dd>
Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Разбивка строки на части длиной 10 символов</span></div>
<div class="line">$wrapped = self::_utf8_wordwrap_internal(<span class="stringliteral">&#39;This is a very long string that needs to be wrapped.&#39;</span>, 10);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is a</span></div>
<div class="line"><span class="comment">// very long</span></div>
<div class="line"><span class="comment">// string that</span></div>
<div class="line"><span class="comment">// needs to be</span></div>
<div class="line"><span class="comment">// wrapped.</span></div>
</div><!-- fragment --> 
<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01071">1071</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00610">utf8_wordwrap()</a>.</p>
<div id="dynsection-7" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-7-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-7-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-7-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a1f0724c64151f06d211ca5d639046f5f_icgraph">
<area shape="rect" title="Разбивка строки на несколько строк ограниченной длины (защищённый метод)." alt="" coords="352,12,514,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#aa76be87bb05ca60ff16f6d47f5a44c32" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка)." alt="" coords="198,12,304,37"/>
<area shape="poly" title=" " alt="" coords="336,27,305,27,305,22,336,22"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32" title=" " alt="" coords="5,5,150,44"/>
<area shape="poly" title=" " alt="" coords="182,27,150,27,150,22,182,22"/>
</map>
</div>

</div>
</div>
<a id="a95d88f48db4a5bac5b064e99d896c82f" name="a95d88f48db4a5bac5b064e99d896c82f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95d88f48db4a5bac5b064e99d896c82f">&#9670;&#160;</a></span>_validate_mime_type_internal()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static _validate_mime_type_internal </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$real_mime_type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span><span class="mlabel protected">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Проверка MIME-типа файла через доступные библиотеки (защищённый метод). </p>
<p>Этот защищённый метод проверяет, поддерживается ли указанный MIME-тип хотя бы одной из доступных библиотек:</p><ul>
<li>Imagick</li>
<li>Gmagick</li>
<li>Встроенные функции PHP по работе с изображениями (GD) Если MIME-тип не поддерживается ни одной библиотекой, возвращается false. Поддерживаются MIME-типы для изображений, таких как JPEG, PNG, GIF, WebP и другие. Этот метод является защищённым и предназначен для использования внутри класса или его наследников. Основная логика метода вызывается через публичный метод validate_mime_type().</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a41518918c225073130bc7a73983d72ff" title="Проверка MIME-типа файла через доступные библиотеки (публичная обёртка).">PhotoRigma\Classes\Work_Helper\validate_mime_type()</a> Публичный метод, вызывающий этот защищённый метод. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$real_mime_type</td><td>Реальный MIME-тип файла. Должен быть корректным MIME-типом для изображений.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>bool True, если MIME-тип поддерживается хотя бы одной библиотекой, иначе false.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод зависит от доступности библиотек (Imagick, Gmagick) и встроенных функций PHP по работе с изображениями (GD). Если ни одна из библиотек недоступна, метод может некорректно работать.</dd></dl>
<p>Пример использования: </p><div class="fragment"><div class="line"><span class="comment">// Проверка поддерживаемого MIME-типа</span></div>
<div class="line">$is_supported = self::_validate_mime_type_internal(<span class="stringliteral">&#39;image/jpeg&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка неподдерживаемого MIME-типа</span></div>
<div class="line">$is_supported = self::_validate_mime_type_internal(<span class="stringliteral">&#39;application/pdf&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: false</span></div>
</div><!-- fragment --> 
<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01138">1138</a></p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00654">validate_mime_type()</a>.</p>
<div id="dynsection-8" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-8-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-8-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-8-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a95d88f48db4a5bac5b064e99d896c82f_icgraph">
<area shape="rect" title="Проверка MIME&#45;типа файла через доступные библиотеки (защищённый метод)." alt="" coords="888,51,1031,90"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a41518918c225073130bc7a73983d72ff" title="Проверка MIME&#45;типа файла через доступные библиотеки (публичная обёртка)." alt="" coords="703,58,840,83"/>
<area shape="poly" title=" " alt="" coords="872,73,840,73,840,68,872,68"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff" title=" " alt="" coords="481,51,655,90"/>
<area shape="poly" title=" " alt="" coords="688,73,656,73,656,68,688,68"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#ad4b80c2a856976f677402f8e99553442" title="Внутренний метод для универсальной проверки входных данных." alt="" coords="267,5,422,58"/>
<area shape="poly" title=" " alt="" coords="465,55,422,48,423,42,466,50"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="256,83,433,135"/>
<area shape="poly" title=" " alt="" coords="466,91,434,96,433,91,465,85"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#a6e6ea2a212c3c2dee206a1753b673b7d" title="Универсальная проверка входных данных." alt="" coords="15,12,198,51"/>
<area shape="poly" title=" " alt="" coords="252,34,199,34,199,29,252,29"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,90,208,128"/>
<area shape="poly" title=" " alt="" coords="240,112,208,112,208,106,240,106"/>
</map>
</div>

</div>
</div>
<a id="ab73ba07b8376dd2e1764240c73a338ea" name="ab73ba07b8376dd2e1764240c73a338ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab73ba07b8376dd2e1764240c73a338ea">&#9670;&#160;</a></span>clean_field()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static clean_field </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$field</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Очистка строки от HTML-тегов и специальных символов (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который удаляет HTML-теги и экранирует специальные символы, такие как <code>&amp;lt;</code>, <code>&amp;gt;</code>, <code>&amp;amp;</code>, <code>&amp;quot</code>, <code>&amp;#039;</code>. Используется для защиты от XSS-атак и других проблем, связанных с некорректными данными. Вся основная логика реализована в защищённом методе _clean_field_internal().</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a563c1e74d4b76a0cbb14073d0bf795d9" title="Очистка строки от HTML-тегов и специальных символов (защищённый метод).">PhotoRigma\Classes\Work_Helper\_clean_field_internal()</a> Защищённый метод, выполняющий очистку. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab73ba07b8376dd2e1764240c73a338ea">PhotoRigma\Classes\Work\clean_field()</a> Этот метод вызывается через класс Work.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">mixed</td><td class="paramname">$field</td><td>Строка или данные, которые могут быть преобразованы в строку. Если входные данные пусты (null или пустая строка), метод вернёт null.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string|null Очищенная строка или null, если входные данные пусты.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод не обрабатывает вложенные структуры данных (например, массивы). Убедитесь, что входные данные могут быть преобразованы в строку.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line">$dirty_input = <span class="stringliteral">&#39;&amp;lt;script&amp;gt;alert(&amp;quotXSS&amp;quot)&amp;lt;/script&amp;gt;&#39;</span>;</div>
<div class="line">$cleaned = <a class="code hl_function" href="#ab73ba07b8376dd2e1764240c73a338ea">Work_Helper::clean_field</a>($dirty_input);</div>
<div class="line">echo $cleaned; <span class="comment">// Выведет: &amp;lt;script&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/script&amp;gt;</span></div>
</div><!-- fragment --> 
<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#ab73ba07b8376dd2e1764240c73a338ea">Work_Helper_Interface</a>.</p>
<dl class="section examples"><dt>Примеры</dt><dd><a class="el" href="../../d4/dcc/_2home_2victoria_2Photo-Rigma-BiZ_2www_2include_2work_8php-example.html#a43">/home/victoria/Photo-Rigma-BiZ/www/include/work.php</a>.</dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00412">412</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00688">_clean_field_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00921">_ubb_internal()</a> и <a class="el" href="../../dc/d7a/work_8php_source.html#l00874">Work\clean_field()</a>.</p>
<div id="dynsection-9" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-9-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-9-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-9-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_cgraph">
<area shape="rect" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="5,5,88,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a563c1e74d4b76a0cbb14073d0bf795d9" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="136,5,274,30"/>
<area shape="poly" title=" " alt="" coords="88,15,120,15,120,20,88,20"/>
</map>
</div>
<div id="dynsection-10" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-10-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-10-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-10-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ab73ba07b8376dd2e1764240c73a338ea_icgraph">
<area shape="rect" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="682,279,765,304"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="514,132,612,157"/>
<area shape="poly" title=" " alt="" coords="696,270,576,160,580,156,699,267"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ab73ba07b8376dd2e1764240c73a338ea" title=" " alt="" coords="491,300,634,339"/>
<area shape="poly" title=" " alt="" coords="667,304,635,309,635,304,666,299"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a3163f8e7d71cad9003bf5b3efe644712" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="328,12,370,37"/>
<area shape="poly" title=" " alt="" coords="537,124,495,86,442,51,405,37,370,30,372,25,406,32,444,46,498,82,541,120"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title=" " alt="" coords="35,5,178,44"/>
<area shape="poly" title=" " alt="" coords="312,27,178,27,178,22,312,22"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#af92390a67888a39d1aa0f3f10a045433" title="Формирует информационную строку для конкретного раздела или пользовательского альбома." alt="" coords="259,61,440,114"/>
<area shape="poly" title=" " alt="" coords="546,287,506,208,477,165,441,128,425,116,428,112,445,124,481,162,511,205,551,284"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a44160f09c7dbb17349602f0862c95d62" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="268,138,431,191"/>
<area shape="poly" title=" " alt="" coords="533,290,492,247,441,206,421,194,424,189,445,201,496,243,537,286"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a5be64e2d9c6592be321468cd2f947aeb" title="Генерирует блок вывода изображений для различных типов запросов." alt="" coords="265,216,434,268"/>
<area shape="poly" title=" " alt="" coords="492,297,423,271,425,266,494,292"/>
<area shape="rect" href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html#a0502831dd0f02e73d62586e4966e6a71" title="Вывод изображения через HTTP." alt="" coords="256,293,443,346"/>
<area shape="poly" title=" " alt="" coords="475,322,444,322,444,317,475,317"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a7c272bd5112b72e9047a6dafdd9cfd8c" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="261,370,438,423"/>
<area shape="poly" title=" " alt="" coords="494,347,425,372,423,367,492,342"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#ad1a946d518250f1085369cfad3719cc3" title="Генерирует массив статистических данных для шаблона." alt="" coords="261,448,438,500"/>
<area shape="poly" title=" " alt="" coords="537,353,496,396,445,438,424,449,421,445,441,433,492,392,533,349"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="261,525,438,578"/>
<area shape="poly" title=" " alt="" coords="551,355,511,434,481,477,445,515,428,527,425,522,441,511,477,473,506,431,546,352"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3fc2465ff08a31b214f6d708c51090e0" title="Рекурсивная обработка массива для безопасного вывода через HTML." alt="" coords="278,625,421,664"/>
<area shape="poly" title=" " alt="" coords="556,355,542,405,519,467,487,532,445,592,423,612,398,627,395,623,420,607,441,588,483,530,514,465,537,404,551,353"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#a4dfb943f9b750ec6e1e2924a9620c7f5" title="Формирует информационную строку для конкретного раздела или пользовательского альбома." alt="" coords="19,68,194,107"/>
<area shape="poly" title=" " alt="" coords="243,90,194,90,194,85,243,85"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#af970fc714c16e27d2d60d698522a8504" title="Метод формирует массив данных для меню в зависимости от типа и активного пункта." alt="" coords="9,145,204,184"/>
<area shape="poly" title=" " alt="" coords="252,167,205,167,205,162,252,162"/>
<area shape="rect" href="../../d9/da8/classPhotoRigma_1_1Classes_1_1Work__CoreLogic.html#ab90e7e1e6aa1d2c9abe81faed1db03a1" title="Генерирует блок вывода изображений для различных типов запросов." alt="" coords="6,223,207,261"/>
<area shape="poly" title=" " alt="" coords="250,245,207,245,207,239,250,239"/>
<area shape="rect" href="../../d9/dc1/classPhotoRigma_1_1Classes_1_1Work__Image.html#aeabe138e0704bd8403da0faf894ad0df" title="Вывод изображения через HTTP." alt="" coords="16,300,197,339"/>
<area shape="poly" title=" " alt="" coords="240,322,197,322,197,317,240,317"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a9143fed87a3064985e0b51fe5fbb4ac3" title="Формирует список пользователей, загрузивших наибольшее количество изображений." alt="" coords="21,370,192,423"/>
<area shape="poly" title=" " alt="" coords="245,399,192,399,192,394,245,394"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a116ebcf799d07566a74e7e765aecc1b7" title="Генерирует массив статистических данных для шаблона." alt="" coords="7,455,206,493"/>
<area shape="poly" title=" " alt="" coords="245,477,207,477,207,471,245,471"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,532,208,571"/>
<area shape="poly" title=" " alt="" coords="245,554,208,554,208,549,245,549"/>
<area shape="poly" title=" " alt="" coords="384,612,372,606,349,604,329,606,316,611,312,617,315,624,310,626,307,616,313,607,327,601,349,599,373,601,387,608"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aaf95d95540a3e47c5905a47db3424ed9" title=" " alt="" coords="35,625,178,664"/>
<area shape="poly" title=" " alt="" coords="262,647,179,647,179,642,262,642"/>
</map>
</div>

</div>
</div>
<a id="ad9ac814e0001840a4cdbf826d0d6e53e" name="ad9ac814e0001840a4cdbf826d0d6e53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ac814e0001840a4cdbf826d0d6e53e">&#9670;&#160;</a></span>encodename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static encodename </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$string</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Транслитерация строки и замена знаков пунктуации на "_" (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который выполняет транслитерацию не латинских символов в латиницу и заменяет знаки пунктуации на "_". Используется для создания "безопасных" имен файлов или URL. Если входная строка пустая, она возвращается без обработки. Если транслитерация невозможна (например, расширение intl недоступно), используется резервная таблица. Вся основная логика реализована в защищённом методе _encodename_internal().</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a6731465132be58e4a625f9249cd5f7d8" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (защищённый метод).">PhotoRigma\Classes\Work_Helper\_encodename_internal()</a> Защищённый метод, выполняющий транслитерацию. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e">PhotoRigma\Classes\Work\encodename()</a> Этот метод вызывается через класс Work.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$string</td><td>Исходная строка. Если строка пустая, она возвращается без обработки. Рекомендуется использовать строки в кодировке UTF-8.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка после транслитерации и замены символов. Если после обработки строка становится пустой, генерируется уникальная последовательность.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если расширение intl недоступно, используется резервная таблица транслитерации.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Транслитерация строки с заменой знаков пунктуации</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;Привет, мир!&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: Privet_mir</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка пустой строки</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: пустую строку</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Обработка строки без кириллицы и знаков пунктуации</span></div>
<div class="line">$encoded = <a class="code hl_function" href="#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper::encodename</a>(<span class="stringliteral">&#39;12345&#39;</span>);</div>
<div class="line">echo $encoded; <span class="comment">// Выведет: 12345</span></div>
</div><!-- fragment --> 
<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#ad9ac814e0001840a4cdbf826d0d6e53e">Work_Helper_Interface</a>.</p>
<dl class="section examples"><dt>Примеры</dt><dd><a class="el" href="../../d4/dcc/_2home_2victoria_2Photo-Rigma-BiZ_2www_2include_2work_8php-example.html#a47">/home/victoria/Photo-Rigma-BiZ/www/include/work.php</a>.</dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00507">507</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00822">_encodename_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00942">Work\encodename()</a>.</p>
<div id="dynsection-11" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-11-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-11-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-11-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_cgraph">
<area shape="rect" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка)." alt="" coords="5,5,101,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a6731465132be58e4a625f9249cd5f7d8" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (защищённый метод)." alt="" coords="149,5,300,30"/>
<area shape="poly" title=" " alt="" coords="101,15,133,15,133,20,101,20"/>
</map>
</div>
<div id="dynsection-12" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-12-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-12-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-12-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_ad9ac814e0001840a4cdbf826d0d6e53e_icgraph">
<area shape="rect" title="Транслитерация строки и замена знаков пунктуации на &quot;_&quot; (публичная обёртка)." alt="" coords="197,12,292,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#ad9ac814e0001840a4cdbf826d0d6e53e" title=" " alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="a08089badb76485629afe2c4d9f766a30" name="a08089badb76485629afe2c4d9f766a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08089badb76485629afe2c4d9f766a30">&#9670;&#160;</a></span>return_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static return_bytes </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>$val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование размера в байты (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который преобразует размер, заданный в формате "число[K|M|G]", в количество байт. Поддерживаются суффиксы:</p><ul>
<li>K (килобайты): умножается на 1024.</li>
<li>M (мегабайты): умножается на 1024².</li>
<li>G (гигабайты): умножается на 1024³. Если суффикс отсутствует или недопустим, значение считается в байтах. Отрицательные числа преобразуются в положительные. Если входные данные некорректны, возвращается 0. Вся основная логика реализована в защищённом методе _return_bytes_internal().</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#ae95e4513a14a8ae48c44cb52ca47a987" title="Преобразование размера в байты (защищённый метод).">PhotoRigma\Classes\Work_Helper\_return_bytes_internal()</a> Защищённый метод, выполняющий преобразование. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a08089badb76485629afe2c4d9f766a30">PhotoRigma\Classes\Work\return_bytes()</a> Этот метод вызывается через класс Work.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string&#160;|&#160;int</td><td class="paramname">$val</td><td>Размер в формате "число[K|M|G]" или число. Если суффикс недопустим, он игнорируется, и значение преобразуется в число. Отрицательные числа преобразуются в положительные.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>int Размер в байтах. Возвращает 0 для некорректных входных данных.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Если суффикс недопустим, он игнорируется, и значение преобразуется в число.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование с допустимым суффиксом</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#a08089badb76485629afe2c4d9f766a30">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;2M&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 2097152</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование отрицательного значения</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#a08089badb76485629afe2c4d9f766a30">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;-1G&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 1073741824</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование с недопустимым суффиксом</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#a08089badb76485629afe2c4d9f766a30">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;10X&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 10</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование некорректных данных</span></div>
<div class="line">$bytes = <a class="code hl_function" href="#a08089badb76485629afe2c4d9f766a30">Work_Helper::return_bytes</a>(<span class="stringliteral">&#39;abc&#39;</span>);</div>
<div class="line">echo $bytes; <span class="comment">// Выведет: 0</span></div>
</div><!-- fragment --> 
<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#a08089badb76485629afe2c4d9f766a30">Work_Helper_Interface</a>.</p>
<dl class="section examples"><dt>Примеры</dt><dd><a class="el" href="../../d4/dcc/_2home_2victoria_2Photo-Rigma-BiZ_2www_2include_2work_8php-example.html#a45">/home/victoria/Photo-Rigma-BiZ/www/include/work.php</a>.</dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00463">463</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00753">_return_bytes_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00911">Work\return_bytes()</a>.</p>
<div id="dynsection-13" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-13-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-13-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-13-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_cgraph">
<area shape="rect" title="Преобразование размера в байты (публичная обёртка)." alt="" coords="5,5,98,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ae95e4513a14a8ae48c44cb52ca47a987" title="Преобразование размера в байты (защищённый метод)." alt="" coords="146,5,294,30"/>
<area shape="poly" title=" " alt="" coords="98,15,130,15,130,20,98,20"/>
</map>
</div>
<div id="dynsection-14" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-14-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-14-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-14-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a08089badb76485629afe2c4d9f766a30_icgraph">
<area shape="rect" title="Преобразование размера в байты (публичная обёртка)." alt="" coords="197,12,289,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a08089badb76485629afe2c4d9f766a30" title=" " alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="a3163f8e7d71cad9003bf5b3efe644712" name="a3163f8e7d71cad9003bf5b3efe644712"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3163f8e7d71cad9003bf5b3efe644712">&#9670;&#160;</a></span>ubb()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ubb </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Преобразование BBCode в HTML (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который преобразует BBCode-теги в соответствующие HTML-теги. Поддерживаются следующие BBCode-теги:</p><ul>
<li>[b]Жирный текст[/b]</li>
<li>[u]Подчёркнутый текст[/u]</li>
<li>[i]Курсив[/i]</li>
<li>[url]Ссылка[/url], [url=URL]Текст ссылки[/url]</li>
<li>[color=COLOR]Цвет текста[/color]</li>
<li>[size=SIZE]Размер текста[/size]</li>
<li>[quote]Цитата[/quote], [quote=AUTHOR]Цитата автора[/quote]</li>
<li>[list], [list=1], [list=a] — списки</li>
<li>[code]Блок кода[/code]</li>
<li>[spoiler]Спойлер[/spoiler]</li>
<li>[hr] — горизонтальная линия</li>
<li>[br] — перенос строки</li>
<li>[left], [center], [right] — выравнивание текста</li>
<li>[img]Изображение[/img] Метод защищает от XSS-атак, проверяет корректность URL и ограничивает глубину рекурсии для вложенных тегов. Вся основная логика реализована в защищённом методе _ubb_internal().</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод).">PhotoRigma\Classes\Work_Helper\_ubb_internal()</a> Защищённый метод, выполняющий преобразование BBCode. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712">PhotoRigma\Classes\Work\ubb()</a> Этот метод вызывается через класс Work.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$text</td><td>Текст с BBCode. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая, она возвращается без обработки.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Текст с HTML-разметкой. Некорректные BBCode-теги игнорируются или преобразуются в текст.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод ограничивает глубину рекурсии для вложенных тегов (максимум 10 уровней). </dd>
<dd>
Некорректные URL или изображения заменяются на безопасные значения или удаляются.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Преобразование жирного текста</span></div>
<div class="line">$html = <a class="code hl_function" href="#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper::ubb</a>(<span class="stringliteral">&#39;[b]Bold text[/b]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;strong&gt;Bold text&lt;/strong&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Преобразование ссылки</span></div>
<div class="line">$html = <a class="code hl_function" href="#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper::ubb</a>(<span class="stringliteral">&#39;[url=https://example.com]Example[/url]&#39;</span>);</div>
<div class="line">echo $html; <span class="comment">// Выведет: &lt;a href=&quot;https://example.com&quot; target=&quot;_blank&quot; rel=&quot;noopener noreferrer&quot; title=&quot;Example&quot;&gt;Example&lt;/a&gt;</span></div>
</div><!-- fragment --> 
<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#a3163f8e7d71cad9003bf5b3efe644712">Work_Helper_Interface</a>.</p>
<dl class="section examples"><dt>Примеры</dt><dd><a class="el" href="../../d4/dcc/_2home_2victoria_2Photo-Rigma-BiZ_2www_2include_2work_8php-example.html#a49">/home/victoria/Photo-Rigma-BiZ/www/include/work.php</a>.</dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00562">562</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00921">_ubb_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l00984">Work\ubb()</a>.</p>
<div id="dynsection-15" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-15-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-15-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-15-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_cgraph">
<area shape="rect" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="5,5,48,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a0fe88f41126cc81f6153894bb8ac22f0" title="Преобразование BBCode в HTML (защищённый метод)." alt="" coords="96,5,194,30"/>
<area shape="poly" title=" " alt="" coords="48,15,80,15,80,20,48,20"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#ab73ba07b8376dd2e1764240c73a338ea" title="Очистка строки от HTML&#45;тегов и специальных символов (публичная обёртка)." alt="" coords="242,5,324,30"/>
<area shape="poly" title=" " alt="" coords="194,15,226,15,226,20,194,20"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a563c1e74d4b76a0cbb14073d0bf795d9" title="Очистка строки от HTML&#45;тегов и специальных символов (защищённый метод)." alt="" coords="372,5,511,30"/>
<area shape="poly" title=" " alt="" coords="325,15,357,15,357,20,325,20"/>
</map>
</div>
<div id="dynsection-16" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-16-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-16-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-16-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a3163f8e7d71cad9003bf5b3efe644712_icgraph">
<area shape="rect" title="Преобразование BBCode в HTML (публичная обёртка)." alt="" coords="197,12,239,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a3163f8e7d71cad9003bf5b3efe644712" title=" " alt="" coords="5,5,149,44"/>
<area shape="poly" title=" " alt="" coords="181,27,149,27,149,22,181,22"/>
</map>
</div>

</div>
</div>
<a id="aa76be87bb05ca60ff16f6d47f5a44c32" name="aa76be87bb05ca60ff16f6d47f5a44c32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa76be87bb05ca60ff16f6d47f5a44c32">&#9670;&#160;</a></span>utf8_wordwrap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static utf8_wordwrap </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$str</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>$width</em></span><span class="paramdefsep"> = </span><span class="paramdefval">70</span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$break</em></span><span class="paramdefsep"> = </span><span class="paramdefval">PHP_EOL</span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Разбивка строки на несколько строк ограниченной длины (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который разбивает строку на несколько строк, каждая из которых имеет длину не более указанной. Разрыв строки выполняется только по пробелам, чтобы сохранить читаемость текста. Поддерживается работа с UTF-8 символами. Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка. Вся основная логика реализована в защищённом методе _utf8_wordwrap_internal().</p>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a1f0724c64151f06d211ca5d639046f5f" title="Разбивка строки на несколько строк ограниченной длины (защищённый метод).">PhotoRigma\Classes\Work_Helper\_utf8_wordwrap_internal()</a> Защищённый метод, выполняющий разбиение строки. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32">PhotoRigma\Classes\Work\utf8_wordwrap()</a> Этот метод вызывается через класс Work.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$str</td><td>Исходная строка. Рекомендуется использовать строки в кодировке UTF-8. Если строка пустая или её длина меньше или равна $width, она возвращается без изменений. </td></tr>
    <tr><td class="paramtype">int</td><td class="paramname">$width</td><td>Максимальная длина строки (по умолчанию 70). Должен быть положительным целым числом. </td></tr>
    <tr><td class="paramtype">string</td><td class="paramname">$break</td><td>Символ разрыва строки (по умолчанию PHP_EOL). Не должен быть пустой строкой.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>string Строка, разбитая на несколько строк. В случае некорректных параметров возвращается исходная строка.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод корректно работает только с UTF-8 символами. </dd>
<dd>
Если параметры некорректны (например, $width &lt;= 0 или $break пустой), возвращается исходная строка.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Разбивка строки на части длиной 10 символов</span></div>
<div class="line">$wrapped = <a class="code hl_function" href="#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper::utf8_wordwrap</a>(<span class="stringliteral">&#39;This is a very long string that needs to be wrapped.&#39;</span>, 10);</div>
<div class="line">echo $wrapped;</div>
<div class="line"><span class="comment">// Выведет:</span></div>
<div class="line"><span class="comment">// This is a</span></div>
<div class="line"><span class="comment">// very long</span></div>
<div class="line"><span class="comment">// string that</span></div>
<div class="line"><span class="comment">// needs to be</span></div>
<div class="line"><span class="comment">// wrapped.</span></div>
</div><!-- fragment --> 
<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#aa76be87bb05ca60ff16f6d47f5a44c32">Work_Helper_Interface</a>.</p>
<dl class="section examples"><dt>Примеры</dt><dd><a class="el" href="../../d4/dcc/_2home_2victoria_2Photo-Rigma-BiZ_2www_2include_2work_8php-example.html#a51">/home/victoria/Photo-Rigma-BiZ/www/include/work.php</a>.</dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00610">610</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01071">_utf8_wordwrap_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l01017">Work\utf8_wordwrap()</a>.</p>
<div id="dynsection-17" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-17-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-17-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-17-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_cgraph">
<area shape="rect" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка)." alt="" coords="5,5,112,30"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a1f0724c64151f06d211ca5d639046f5f" title="Разбивка строки на несколько строк ограниченной длины (защищённый метод)." alt="" coords="160,5,322,30"/>
<area shape="poly" title=" " alt="" coords="112,15,144,15,144,20,112,20"/>
</map>
</div>
<div id="dynsection-18" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-18-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-18-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-18-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_aa76be87bb05ca60ff16f6d47f5a44c32_icgraph">
<area shape="rect" title="Разбивка строки на несколько строк ограниченной длины (публичная обёртка)." alt="" coords="198,12,304,37"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#aa76be87bb05ca60ff16f6d47f5a44c32" title=" " alt="" coords="5,5,150,44"/>
<area shape="poly" title=" " alt="" coords="182,27,150,27,150,22,182,22"/>
</map>
</div>

</div>
</div>
<a id="a41518918c225073130bc7a73983d72ff" name="a41518918c225073130bc7a73983d72ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41518918c225073130bc7a73983d72ff">&#9670;&#160;</a></span>validate_mime_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static validate_mime_type </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>$real_mime_type</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Проверка MIME-типа файла через доступные библиотеки (публичная обёртка). </p>
<p>Публичная обёртка для вызова защищённого метода, который проверяет, поддерживается ли указанный MIME-тип хотя бы одной из доступных библиотек:</p><ul>
<li>Imagick</li>
<li>Gmagick</li>
<li>Встроенные функции PHP по работе с изображениями (GD) Если MIME-тип не поддерживается ни одной библиотекой, возвращается false. Поддерживаются MIME-типы для изображений, таких как JPEG, PNG, GIF, WebP и другие. Вся основная логика реализована в защищённом методе _validate_mime_type_internal(). Редирект осуществляется только из класса Work.</li>
</ul>
<dl class="section see"><dt>См. также</dt><dd><a class="el" href="#a95d88f48db4a5bac5b064e99d896c82f" title="Проверка MIME-типа файла через доступные библиотеки (защищённый метод).">PhotoRigma\Classes\Work_Helper\_validate_mime_type_internal()</a> Защищённый метод, выполняющий проверку MIME-типа. </dd>
<dd>
<a class="el" href="../../db/d02/namespacePhotoRigma_1_1Include.html#a2d74c46a21e4ce612a98eee60981aef0" title="Записывает сообщение об ошибке в лог-файл и, при необходимости, завершает выполнение скрипта.">PhotoRigma\Include\log_in_file()</a> Функция для логирования ошибок. </dd>
<dd>
<a class="el" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff">PhotoRigma\Classes\Work\validate_mime_type()</a> Этот метод вызывается через класс Work.</dd></dl>
<dl class="params"><dt>Аргументы</dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$real_mime_type</td><td>Реальный MIME-тип файла. Должен быть корректным MIME-типом для изображений.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Возвращает</dt><dd>bool True, если MIME-тип поддерживается хотя бы одной библиотекой, иначе false.</dd></dl>
<dl class="section warning"><dt>Предупреждения</dt><dd>Метод зависит от доступности библиотек (Imagick, Gmagick) и встроенных функций PHP по работе с изображениями (GD). Если ни одна из библиотек недоступна, метод может некорректно работать.</dd></dl>
<p>Пример использования метода: </p><div class="fragment"><div class="line"><span class="comment">// Проверка поддерживаемого MIME-типа</span></div>
<div class="line">$is_supported = <a class="code hl_function" href="#a41518918c225073130bc7a73983d72ff">Work_Helper::validate_mime_type</a>(<span class="stringliteral">&#39;image/jpeg&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: true</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Проверка неподдерживаемого MIME-типа</span></div>
<div class="line">$is_supported = <a class="code hl_function" href="#a41518918c225073130bc7a73983d72ff">Work_Helper::validate_mime_type</a>(<span class="stringliteral">&#39;application/pdf&#39;</span>);</div>
<div class="line">var_dump($is_supported); <span class="comment">// Выведет: false</span></div>
</div><!-- fragment --> 
<p>Замещает <a class="el" href="../../d1/d3c/interfacePhotoRigma_1_1Classes_1_1Work__Helper__Interface.html#a41518918c225073130bc7a73983d72ff">Work_Helper_Interface</a>.</p>
<dl class="section examples"><dt>Примеры</dt><dd><a class="el" href="../../d4/dcc/_2home_2victoria_2Photo-Rigma-BiZ_2www_2include_2work_8php-example.html#a53">/home/victoria/Photo-Rigma-BiZ/www/include/work.php</a>.</dd>
</dl>

<p class="definition">См. определение в файле <a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a> строка <a class="el" href="../../d2/d43/work__helper_8php_source.html#l00654">654</a></p>

<p class="reference">Перекрестные ссылки <a class="el" href="../../d2/d43/work__helper_8php_source.html#l01138">_validate_mime_type_internal()</a>.</p>

<p class="reference">Используется в <a class="el" href="../../dc/d7a/work_8php_source.html#l01047">Work\validate_mime_type()</a>.</p>
<div id="dynsection-19" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-19-trigger" src="../../closed.png" alt="+"/> Граф вызовов:</div>
<div id="dynsection-19-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-19-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_cgraph">
<area shape="rect" title="Проверка MIME&#45;типа файла через доступные библиотеки (публичная обёртка)." alt="" coords="5,12,142,37"/>
<area shape="rect" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html#a95d88f48db4a5bac5b064e99d896c82f" title="Проверка MIME&#45;типа файла через доступные библиотеки (защищённый метод)." alt="" coords="190,5,333,44"/>
<area shape="poly" title=" " alt="" coords="142,22,174,22,174,27,142,27"/>
</map>
</div>
<div id="dynsection-20" onclick="return dynsection.toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-20-trigger" src="../../closed.png" alt="+"/> Граф вызова функции:</div>
<div id="dynsection-20-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-20-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph.png" border="0" usemap="#adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph" alt=""/></div>
<map name="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph" id="adb/d20/classPhotoRigma_1_1Classes_1_1Work__Helper_a41518918c225073130bc7a73983d72ff_icgraph">
<area shape="rect" title="Проверка MIME&#45;типа файла через доступные библиотеки (публичная обёртка)." alt="" coords="703,58,840,83"/>
<area shape="rect" href="../../d7/d53/classPhotoRigma_1_1Classes_1_1Work.html#a41518918c225073130bc7a73983d72ff" title=" " alt="" coords="481,51,655,90"/>
<area shape="poly" title=" " alt="" coords="688,73,656,73,656,68,688,68"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#ad4b80c2a856976f677402f8e99553442" title="Внутренний метод для универсальной проверки входных данных." alt="" coords="267,5,422,58"/>
<area shape="poly" title=" " alt="" coords="465,55,422,48,423,42,466,50"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a4c85b7dc68591aedd8df9848c1a08dd0" title="Формирование блока пользователя." alt="" coords="256,83,433,135"/>
<area shape="poly" title=" " alt="" coords="466,91,434,96,433,91,465,85"/>
<area shape="rect" href="../../d9/d4a/classPhotoRigma_1_1Classes_1_1Work__Security.html#a6e6ea2a212c3c2dee206a1753b673b7d" title="Универсальная проверка входных данных." alt="" coords="15,12,198,51"/>
<area shape="poly" title=" " alt="" coords="252,34,199,34,199,29,252,29"/>
<area shape="rect" href="../../d4/d32/classPhotoRigma_1_1Classes_1_1Work__Template.html#a1f3df8874c79377e6a8b4398ea6ad774" title="Формирование блока пользователя." alt="" coords="5,90,208,128"/>
<area shape="poly" title=" " alt="" coords="240,112,208,112,208,106,240,106"/>
</map>
</div>

</div>
</div>
<hr/>Объявления и описания членов класса находятся в файле:<ul>
<li>include/<a class="el" href="../../d2/d43/work__helper_8php_source.html">work_helper.php</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/d90/namespacePhotoRigma.html">PhotoRigma</a></li><li class="navelem"><a class="el" href="../../d6/dc3/namespacePhotoRigma_1_1Classes.html">Classes</a></li><li class="navelem"><a class="el" href="../../db/d20/classPhotoRigma_1_1Classes_1_1Work__Helper.html">Work_Helper</a></li>
    <li class="footer">Создано системой <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
